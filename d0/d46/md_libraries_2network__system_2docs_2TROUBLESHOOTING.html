<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: Troubleshooting Guide</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/d46/md_libraries_2network__system_2docs_2TROUBLESHOOTING.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Troubleshooting Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2456"></a> This guide provides solutions for common issues, debugging techniques, and problem resolution strategies for the Network System.</p>
<h1><a class="anchor" id="autotoc_md2457"></a>
Table of Contents</h1>
<ul>
<li>Common Issues and Solutions</li>
<li>Debugging Techniques</li>
<li>Performance Problems</li>
<li>Connection Issues</li>
<li>Memory Leaks</li>
<li>Build Problems</li>
<li>Platform-Specific Issues</li>
<li>Error Reference</li>
<li>Support Resources</li>
</ul>
<h1><a class="anchor" id="autotoc_md2458"></a>
Common Issues and Solutions</h1>
<h2><a class="anchor" id="autotoc_md2459"></a>
Server Won't Start</h2>
<h3><a class="anchor" id="autotoc_md2460"></a>
Symptoms</h3>
<ul>
<li>Server process exits immediately</li>
<li>No log output</li>
<li>Service fails to initialize</li>
</ul>
<h3><a class="anchor" id="autotoc_md2461"></a>
Diagnosis Steps</h3>
<ol type="1">
<li>Check system logs <div class="fragment"><div class="line"># Linux/macOS</div>
<div class="line">tail -f /var/log/syslog</div>
<div class="line">journalctl -u network_service -f</div>
<div class="line"> </div>
<div class="line"># Windows Event Viewer</div>
<div class="line">eventvwr.msc</div>
</div><!-- fragment --></li>
<li>Run in debug mode <div class="fragment"><div class="line">./network_server --debug --foreground</div>
</div><!-- fragment --></li>
<li>Verify configuration <div class="fragment"><div class="line">./network_server --validate-config</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md2462"></a>
Common Causes and Solutions</h3>
<p><b>Port Already in Use</b> </p><div class="fragment"><div class="line"># Check if port is in use</div>
<div class="line">lsof -i :8080  # Linux/macOS</div>
<div class="line">netstat -ano | findstr :8080  # Windows</div>
<div class="line"> </div>
<div class="line"># Solution: Kill the process or use different port</div>
<div class="line">kill -9 &lt;PID&gt;</div>
<div class="line"># Or change configuration</div>
<div class="line">export NETWORK_SERVER_PORT=8081</div>
</div><!-- fragment --><p><b>Permission Denied</b> </p><div class="fragment"><div class="line"># Check file permissions</div>
<div class="line">ls -la /etc/network_system/</div>
<div class="line"> </div>
<div class="line"># Fix permissions</div>
<div class="line">sudo chown -R network_service:network_service /etc/network_system/</div>
<div class="line">sudo chmod 600 /etc/network_system/server.key</div>
</div><!-- fragment --><p><b>Missing Dependencies</b> </p><div class="fragment"><div class="line"># Check library dependencies</div>
<div class="line">ldd network_server  # Linux</div>
<div class="line">otool -L network_server  # macOS</div>
<div class="line">dumpbin /DEPENDENTS network_server.exe  # Windows</div>
<div class="line"> </div>
<div class="line"># Install missing libraries</div>
<div class="line">sudo apt-get install libssl1.1  # Ubuntu/Debian</div>
<div class="line">brew install openssl  # macOS</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2463"></a>
High CPU Usage</h2>
<h3><a class="anchor" id="autotoc_md2464"></a>
Symptoms</h3>
<ul>
<li>CPU usage consistently above 80%</li>
<li>System becomes unresponsive</li>
<li>Increased response times</li>
</ul>
<h3><a class="anchor" id="autotoc_md2465"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"># Monitor CPU usage by thread</div>
<div class="line">top -H -p $(pidof network_server)</div>
<div class="line"> </div>
<div class="line"># Profile CPU usage</div>
<div class="line">perf top -p $(pidof network_server)</div>
<div class="line"> </div>
<div class="line"># Check thread activity</div>
<div class="line">gdb -p $(pidof network_server)</div>
<div class="line">(gdb) info threads</div>
<div class="line">(gdb) thread apply all bt</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2466"></a>
Solutions</h3>
<p><b>Infinite Loop in Code</b> </p><div class="fragment"><div class="line"><span class="comment">// Check for loops without exit conditions</span></div>
<div class="line"><span class="keywordtype">void</span> process_messages() {</div>
<div class="line">    <span class="keywordflow">while</span> (running_) {  <span class="comment">// Ensure proper exit condition</span></div>
<div class="line">        <span class="keywordflow">if</span> (!message_queue_.empty()) {</div>
<div class="line">            process_message(message_queue_.pop());</div>
<div class="line">        } <span class="keywordflow">else</span> {</div>
<div class="line">            <span class="comment">// Add sleep to prevent busy waiting</span></div>
<div class="line">            std::this_thread::sleep_for(std::chrono::milliseconds(10));</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Excessive Logging</b> </p><div class="fragment"><div class="line"><span class="comment">// Reduce log level in production</span></div>
<div class="line">logger.set_level(LogLevel::WARNING);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Use conditional logging</span></div>
<div class="line"><span class="keywordflow">if</span> (logger.should_log(LogLevel::DEBUG)) {</div>
<div class="line">    logger.debug(<span class="stringliteral">&quot;Expensive debug info: {}&quot;</span>, generate_debug_info());</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Lock Contention</b> </p><div class="fragment"><div class="line"><span class="comment">// Use lock-free data structures</span></div>
<div class="line">std::atomic&lt;int&gt; counter{0};</div>
<div class="line">counter.fetch_add(1, std::memory_order_relaxed);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or use read-write locks</span></div>
<div class="line">std::shared_mutex mutex;</div>
<div class="line"><span class="comment">// For reads</span></div>
<div class="line">std::shared_lock lock(mutex);</div>
<div class="line"><span class="comment">// For writes</span></div>
<div class="line">std::unique_lock lock(mutex);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2467"></a>
Memory Issues</h2>
<h3><a class="anchor" id="autotoc_md2468"></a>
Symptoms</h3>
<ul>
<li>Increasing memory usage over time</li>
<li>Out of memory errors</li>
<li>System swap usage increases</li>
</ul>
<h3><a class="anchor" id="autotoc_md2469"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"># Monitor memory usage</div>
<div class="line">valgrind --leak-check=full --track-origins=yes ./network_server</div>
<div class="line"> </div>
<div class="line"># Use AddressSanitizer</div>
<div class="line">g++ -fsanitize=address -g network_server.cpp</div>
<div class="line">ASAN_OPTIONS=detect_leaks=1 ./network_server</div>
<div class="line"> </div>
<div class="line"># Memory profiling</div>
<div class="line">heaptrack ./network_server</div>
<div class="line">heaptrack_gui heaptrack.network_server.*.gz</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2470"></a>
Solutions</h3>
<p>See Memory Leaks section for detailed solutions.</p>
<h1><a class="anchor" id="autotoc_md2471"></a>
Debugging Techniques</h1>
<h2><a class="anchor" id="autotoc_md2472"></a>
Core Dump Analysis</h2>
<h3><a class="anchor" id="autotoc_md2473"></a>
Enable Core Dumps</h3>
<div class="fragment"><div class="line"># Enable core dumps</div>
<div class="line">ulimit -c unlimited</div>
<div class="line"> </div>
<div class="line"># Set core dump pattern</div>
<div class="line">echo &quot;/tmp/core.%e.%p.%t&quot; | sudo tee /proc/sys/kernel/core_pattern</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2474"></a>
Analyze Core Dump</h3>
<div class="fragment"><div class="line"># Open core dump in GDB</div>
<div class="line">gdb network_server core.12345</div>
<div class="line"> </div>
<div class="line"># Basic commands</div>
<div class="line">(gdb) bt                    # Backtrace</div>
<div class="line">(gdb) info threads          # List all threads</div>
<div class="line">(gdb) thread 3              # Switch to thread 3</div>
<div class="line">(gdb) frame 2               # Switch to frame 2</div>
<div class="line">(gdb) info locals           # Show local variables</div>
<div class="line">(gdb) print variable_name   # Print variable value</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2475"></a>
Logging and Tracing</h2>
<h3><a class="anchor" id="autotoc_md2476"></a>
Enable Debug Logging</h3>
<div class="fragment"><div class="line"><span class="comment">// Configure detailed logging</span></div>
<div class="line">LogConfig config;</div>
<div class="line">config.level = LogLevel::TRACE;</div>
<div class="line">config.include_thread_id = <span class="keyword">true</span>;</div>
<div class="line">config.include_timestamp = <span class="keyword">true</span>;</div>
<div class="line">config.include_source_location = <span class="keyword">true</span>;</div>
<div class="line">logger.configure(config);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2477"></a>
Trace Execution Flow</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span>TraceGuard {</div>
<div class="line">    std::string function_name_;</div>
<div class="line">    std::chrono::steady_clock::time_point start_;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    TraceGuard(<span class="keyword">const</span> std::string&amp; name)</div>
<div class="line">        : function_name_(name), start_(std::chrono::steady_clock::now()) {</div>
<div class="line">        LOG_TRACE(<span class="stringliteral">&quot;Entering: {}&quot;</span>, function_name_);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ~TraceGuard() {</div>
<div class="line">        <span class="keyword">auto</span> duration = std::chrono::steady_clock::now() - start_;</div>
<div class="line">        LOG_TRACE(<span class="stringliteral">&quot;Exiting: {} ({}ms)&quot;</span>, function_name_,</div>
<div class="line">            std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(duration).count());</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage</span></div>
<div class="line"><span class="keywordtype">void</span> process_request(<span class="keyword">const</span> Request&amp; req) {</div>
<div class="line">    TraceGuard guard(__FUNCTION__);</div>
<div class="line">    <span class="comment">// Function implementation</span></div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2478"></a>
Network Packet Capture</h2>
<div class="fragment"><div class="line"># Capture network traffic</div>
<div class="line">sudo tcpdump -i any -w network.pcap port 8080</div>
<div class="line"> </div>
<div class="line"># Analyze with Wireshark</div>
<div class="line">wireshark network.pcap</div>
<div class="line"> </div>
<div class="line"># Quick analysis with tcpdump</div>
<div class="line">tcpdump -r network.pcap -nn -A</div>
<div class="line"> </div>
<div class="line"># Monitor specific connections</div>
<div class="line">sudo netstat -antp | grep network_server</div>
<div class="line">sudo ss -antp | grep network_server</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2479"></a>
Strace/DTrace Analysis</h2>
<div class="fragment"><div class="line"># Trace system calls</div>
<div class="line">strace -f -e network -p $(pidof network_server)</div>
<div class="line"> </div>
<div class="line"># Trace file operations</div>
<div class="line">strace -f -e file -p $(pidof network_server)</div>
<div class="line"> </div>
<div class="line"># Count system calls</div>
<div class="line">strace -c -p $(pidof network_server)</div>
<div class="line"> </div>
<div class="line"># macOS dtrace</div>
<div class="line">sudo dtrace -n &#39;syscall:::entry /pid == $target/ { @[probefunc] = count(); }&#39; -p $(pgrep network_server)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2480"></a>
Performance Problems</h1>
<h2><a class="anchor" id="autotoc_md2481"></a>
Slow Response Times</h2>
<h3><a class="anchor" id="autotoc_md2482"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span>PerformanceProfiler {</div>
<div class="line">    <span class="keyword">struct </span>Timing {</div>
<div class="line">        std::chrono::microseconds parse_time;</div>
<div class="line">        std::chrono::microseconds process_time;</div>
<div class="line">        std::chrono::microseconds send_time;</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> profile_request(<span class="keyword">const</span> Request&amp; req) {</div>
<div class="line">        <span class="keyword">auto</span> start = std::chrono::steady_clock::now();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Parse phase</span></div>
<div class="line">        <span class="keyword">auto</span> parsed = parse_request(req);</div>
<div class="line">        <span class="keyword">auto</span> parse_end = std::chrono::steady_clock::now();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Process phase</span></div>
<div class="line">        <span class="keyword">auto</span> result = process_request(parsed);</div>
<div class="line">        <span class="keyword">auto</span> process_end = std::chrono::steady_clock::now();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Send phase</span></div>
<div class="line">        send_response(result);</div>
<div class="line">        <span class="keyword">auto</span> send_end = std::chrono::steady_clock::now();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Log timings</span></div>
<div class="line">        LOG_INFO(<span class="stringliteral">&quot;Request timing - Parse: {}μs, Process: {}μs, Send: {}μs&quot;</span>,</div>
<div class="line">            duration_cast&lt;microseconds&gt;(parse_end - start).count(),</div>
<div class="line">            duration_cast&lt;microseconds&gt;(process_end - parse_end).count(),</div>
<div class="line">            duration_cast&lt;microseconds&gt;(send_end - process_end).count());</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2483"></a>
Common Causes</h3>
<p><b>Database Queries</b> </p><div class="fragment"><div class="line"><span class="comment">// Add query caching</span></div>
<div class="line"><span class="keyword">class </span>QueryCache {</div>
<div class="line">    std::unordered_map&lt;std::string, CachedResult&gt; cache_;</div>
<div class="line"> </div>
<div class="line">    Result execute_query(<span class="keyword">const</span> std::string&amp; query) {</div>
<div class="line">        <span class="keyword">auto</span> it = cache_.find(query);</div>
<div class="line">        <span class="keywordflow">if</span> (it != cache_.end() &amp;&amp; !it-&gt;second.is_expired()) {</div>
<div class="line">            <span class="keywordflow">return</span> it-&gt;second.result;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> result = db_.execute(query);</div>
<div class="line">        cache_[query] = {result, std::chrono::steady_clock::now()};</div>
<div class="line">        <span class="keywordflow">return</span> result;</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p><b>Synchronous I/O</b> </p><div class="fragment"><div class="line"><span class="comment">// Convert to async I/O</span></div>
<div class="line"><span class="keyword">class </span>AsyncIOHandler {</div>
<div class="line">    std::future&lt;std::string&gt; read_file_async(<span class="keyword">const</span> std::string&amp; path) {</div>
<div class="line">        <span class="keywordflow">return</span> std::async(std::launch::async, [path]() {</div>
<div class="line">            std::ifstream file(path);</div>
<div class="line">            <span class="keywordflow">return</span> std::string(std::istreambuf_iterator&lt;char&gt;(file), {});</div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><p><b>Lock Contention</b> </p><div class="fragment"><div class="line"><span class="comment">// Use fine-grained locking</span></div>
<div class="line"><span class="keyword">class </span>ConnectionManager {</div>
<div class="line">    <span class="keyword">struct </span>ConnectionBucket {</div>
<div class="line">        <span class="keyword">mutable</span> std::mutex mutex;</div>
<div class="line">        std::vector&lt;Connection&gt; connections;</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> BUCKET_COUNT = 16;</div>
<div class="line">    std::array&lt;ConnectionBucket, BUCKET_COUNT&gt; buckets_;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">size_t</span> get_bucket_index(ConnectionId <span class="keywordtype">id</span>) {</div>
<div class="line">        <span class="keywordflow">return</span> std::hash&lt;ConnectionId&gt;{}(id) % BUCKET_COUNT;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    Connection&amp; get_connection(ConnectionId <span class="keywordtype">id</span>) {</div>
<div class="line">        <span class="keyword">auto</span>&amp; bucket = buckets_[get_bucket_index(<span class="keywordtype">id</span>)];</div>
<div class="line">        std::lock_guard lock(bucket.mutex);</div>
<div class="line">        <span class="comment">// Find connection in bucket</span></div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2484"></a>
Throughput Issues</h2>
<h3><a class="anchor" id="autotoc_md2485"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"># Network throughput test</div>
<div class="line">iperf3 -s  # Server side</div>
<div class="line">iperf3 -c server_ip -t 60 -P 10  # Client side</div>
<div class="line"> </div>
<div class="line"># Application throughput test</div>
<div class="line">wrk -t12 -c400 -d30s --latency http://localhost:8080/</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2486"></a>
Solutions</h3>
<p><b>Increase Buffer Sizes</b> </p><div class="fragment"><div class="line"><span class="comment">// Socket buffer tuning</span></div>
<div class="line"><span class="keywordtype">int</span> send_buffer_size = 1048576;  <span class="comment">// 1MB</span></div>
<div class="line">setsockopt(socket_fd, SOL_SOCKET, SO_SNDBUF,</div>
<div class="line">    &amp;send_buffer_size, <span class="keyword">sizeof</span>(send_buffer_size));</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> recv_buffer_size = 1048576;  <span class="comment">// 1MB</span></div>
<div class="line">setsockopt(socket_fd, SOL_SOCKET, SO_RCVBUF,</div>
<div class="line">    &amp;recv_buffer_size, <span class="keyword">sizeof</span>(recv_buffer_size));</div>
</div><!-- fragment --><p><b>Batch Processing</b> </p><div class="fragment"><div class="line"><span class="keyword">class </span>BatchProcessor {</div>
<div class="line">    std::vector&lt;Request&gt; batch_;</div>
<div class="line">    std::mutex batch_mutex_;</div>
<div class="line">    std::condition_variable cv_;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> add_request(Request req) {</div>
<div class="line">        {</div>
<div class="line">            std::lock_guard lock(batch_mutex_);</div>
<div class="line">            batch_.push_back(std::move(req));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (batch_.size() &gt;= <a class="code hl_variable" href="../../df/d80/benchmarks_2thread__base__benchmarks_2mpmc__performance__test_8cpp.html#af182bc9822b8d2beb66c8ee495a6d61f">BATCH_SIZE</a>) {</div>
<div class="line">            cv_.notify_one();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">void</span> process_batch() {</div>
<div class="line">        std::unique_lock lock(batch_mutex_);</div>
<div class="line">        cv_.wait(lock, [<span class="keyword">this</span>] {</div>
<div class="line">            <span class="keywordflow">return</span> batch_.size() &gt;= <a class="code hl_variable" href="../../df/d80/benchmarks_2thread__base__benchmarks_2mpmc__performance__test_8cpp.html#af182bc9822b8d2beb66c8ee495a6d61f">BATCH_SIZE</a> || shutdown_;</div>
<div class="line">        });</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> local_batch = std::move(batch_);</div>
<div class="line">        batch_.clear();</div>
<div class="line">        lock.unlock();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Process batch without holding lock</span></div>
<div class="line">        process_all(local_batch);</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="abenchmarks_2thread__base__benchmarks_2mpmc__performance__test_8cpp_html_af182bc9822b8d2beb66c8ee495a6d61f"><div class="ttname"><a href="../../df/d80/benchmarks_2thread__base__benchmarks_2mpmc__performance__test_8cpp.html#af182bc9822b8d2beb66c8ee495a6d61f">BATCH_SIZE</a></div><div class="ttdeci">constexpr size_t BATCH_SIZE</div><div class="ttdef"><b>Definition</b> <a href="../../df/d80/benchmarks_2thread__base__benchmarks_2mpmc__performance__test_8cpp_source.html#l00046">mpmc_performance_test.cpp:46</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2487"></a>
Connection Issues</h1>
<h2><a class="anchor" id="autotoc_md2488"></a>
Connection Refused</h2>
<h3><a class="anchor" id="autotoc_md2489"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"># Check if server is listening</div>
<div class="line">netstat -tlnp | grep 8080</div>
<div class="line">ss -tlnp | grep 8080</div>
<div class="line"> </div>
<div class="line"># Test connectivity</div>
<div class="line">telnet localhost 8080</div>
<div class="line">nc -zv localhost 8080</div>
<div class="line"> </div>
<div class="line"># Check firewall rules</div>
<div class="line">sudo iptables -L -n -v</div>
<div class="line">sudo ufw status verbose</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2490"></a>
Solutions</h3>
<p><b>Firewall Blocking</b> </p><div class="fragment"><div class="line"># Allow port in firewall</div>
<div class="line">sudo ufw allow 8080/tcp</div>
<div class="line">sudo iptables -A INPUT -p tcp --dport 8080 -j ACCEPT</div>
</div><!-- fragment --><p><b>Bind Address Issues</b> </p><div class="fragment"><div class="line"><span class="comment">// Bind to all interfaces</span></div>
<div class="line">address.sin_addr.s_addr = INADDR_ANY;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Or specific interface</span></div>
<div class="line">inet_pton(AF_INET, <span class="stringliteral">&quot;0.0.0.0&quot;</span>, &amp;address.sin_addr);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2491"></a>
Connection Timeouts</h2>
<h3><a class="anchor" id="autotoc_md2492"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"><span class="keyword">class </span>TimeoutDiagnostics {</div>
<div class="line">    <span class="keywordtype">void</span> log_timeout_details(<span class="keyword">const</span> Connection&amp; conn) {</div>
<div class="line">        LOG_ERROR(<span class="stringliteral">&quot;Connection timeout: {}&quot;</span>, conn.id);</div>
<div class="line">        LOG_ERROR(<span class="stringliteral">&quot;  State: {}&quot;</span>, conn.state);</div>
<div class="line">        LOG_ERROR(<span class="stringliteral">&quot;  Last activity: {}ms ago&quot;</span>,</div>
<div class="line">            duration_since(conn.last_activity));</div>
<div class="line">        LOG_ERROR(<span class="stringliteral">&quot;  Pending writes: {}&quot;</span>, conn.write_buffer.size());</div>
<div class="line">        LOG_ERROR(<span class="stringliteral">&quot;  RTT: {}ms&quot;</span>, conn.round_trip_time);</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2493"></a>
Solutions</h3>
<p><b>Adjust Timeout Values</b> </p><div class="fragment"><div class="line"><span class="comment">// Increase timeouts for slow networks</span></div>
<div class="line"><span class="keyword">struct </span>TimeoutConfig {</div>
<div class="line">    std::chrono::seconds connect_timeout{30};</div>
<div class="line">    std::chrono::seconds read_timeout{60};</div>
<div class="line">    std::chrono::seconds write_timeout{60};</div>
<div class="line">    std::chrono::seconds keep_alive_timeout{300};</div>
<div class="line">};</div>
</div><!-- fragment --><p><b>Implement Keep-Alive</b> </p><div class="fragment"><div class="line"><span class="comment">// TCP keep-alive</span></div>
<div class="line"><span class="keywordtype">int</span> enable = 1;</div>
<div class="line">setsockopt(socket_fd, SOL_SOCKET, SO_KEEPALIVE, &amp;enable, <span class="keyword">sizeof</span>(enable));</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> idle = 60;  <span class="comment">// Start keep-alive after 60 seconds</span></div>
<div class="line">setsockopt(socket_fd, IPPROTO_TCP, TCP_KEEPIDLE, &amp;idle, <span class="keyword">sizeof</span>(idle));</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> interval = 10;  <span class="comment">// Send keep-alive every 10 seconds</span></div>
<div class="line">setsockopt(socket_fd, IPPROTO_TCP, TCP_KEEPINTVL, &amp;interval, <span class="keyword">sizeof</span>(interval));</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> count = 6;  <span class="comment">// Send 6 keep-alive probes</span></div>
<div class="line">setsockopt(socket_fd, IPPROTO_TCP, TCP_KEEPCNT, &amp;count, <span class="keyword">sizeof</span>(count));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2494"></a>
Connection Drops</h2>
<h3><a class="anchor" id="autotoc_md2495"></a>
Diagnosis</h3>
<div class="fragment"><div class="line"># Monitor connection states</div>
<div class="line">watch &#39;netstat -tan | grep :8080 | awk &quot;{print \$6}&quot; | sort | uniq -c&#39;</div>
<div class="line"> </div>
<div class="line"># Check for network errors</div>
<div class="line">netstat -s | grep -i error</div>
<div class="line">ip -s link show</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2496"></a>
Solutions</h3>
<p><b>Handle Partial Writes</b> </p><div class="fragment"><div class="line"><a class="code hl_typedef" href="../../d3/d61/network__writer_8cpp.html#a894c4d58faeee7675b9e7e8244de1386">ssize_t</a> send_all(<span class="keywordtype">int</span> socket, <span class="keyword">const</span> <span class="keywordtype">char</span>* buffer, <span class="keywordtype">size_t</span> length) {</div>
<div class="line">    <span class="keywordtype">size_t</span> total_sent = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (total_sent &lt; length) {</div>
<div class="line">        <a class="code hl_typedef" href="../../d3/d61/network__writer_8cpp.html#a894c4d58faeee7675b9e7e8244de1386">ssize_t</a> sent = send(socket, buffer + total_sent,</div>
<div class="line">            length - total_sent, MSG_NOSIGNAL);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (sent &lt; 0) {</div>
<div class="line">            <span class="keywordflow">if</span> (errno == EAGAIN || errno == EWOULDBLOCK) {</div>
<div class="line">                <span class="comment">// Wait for socket to become writable</span></div>
<div class="line">                <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">return</span> -1;  <span class="comment">// Error</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        total_sent += sent;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> total_sent;</div>
<div class="line">}</div>
<div class="ttc" id="anetwork__writer_8cpp_html_a894c4d58faeee7675b9e7e8244de1386"><div class="ttname"><a href="../../d3/d61/network__writer_8cpp.html#a894c4d58faeee7675b9e7e8244de1386">ssize_t</a></div><div class="ttdeci">SSIZE_T ssize_t</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d61/network__writer_8cpp_source.html#l00015">network_writer.cpp:15</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2497"></a>
Memory Leaks</h1>
<h2><a class="anchor" id="autotoc_md2498"></a>
Detection</h2>
<h3><a class="anchor" id="autotoc_md2499"></a>
Using Valgrind</h3>
<div class="fragment"><div class="line">valgrind --leak-check=full \</div>
<div class="line">         --show-leak-kinds=all \</div>
<div class="line">         --track-origins=yes \</div>
<div class="line">         --verbose \</div>
<div class="line">         --log-file=valgrind-out.txt \</div>
<div class="line">         ./network_server</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2500"></a>
Using AddressSanitizer</h3>
<div class="fragment"><div class="line"># Compile with AddressSanitizer</div>
<div class="line">g++ -fsanitize=address -fno-omit-frame-pointer -g -O1 network_server.cpp</div>
<div class="line"> </div>
<div class="line"># Run with leak detection</div>
<div class="line">ASAN_OPTIONS=detect_leaks=1:check_initialization_order=1 ./network_server</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2501"></a>
Using HeapTrack</h3>
<div class="fragment"><div class="line">heaptrack ./network_server</div>
<div class="line">heaptrack_gui heaptrack.network_server.*.gz</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2502"></a>
Common Memory Leak Patterns</h2>
<h3><a class="anchor" id="autotoc_md2503"></a>
Missing Delete</h3>
<div class="fragment"><div class="line"><span class="comment">// Problem</span></div>
<div class="line"><span class="keywordtype">void</span> process() {</div>
<div class="line">    Buffer* buffer = <span class="keyword">new</span> Buffer(1024);</div>
<div class="line">    <span class="comment">// Missing delete</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Solution</span></div>
<div class="line"><span class="keywordtype">void</span> process() {</div>
<div class="line">    std::unique_ptr&lt;Buffer&gt; buffer = std::make_unique&lt;Buffer&gt;(1024);</div>
<div class="line">    <span class="comment">// Automatic cleanup</span></div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2504"></a>
Circular References</h3>
<div class="fragment"><div class="line"><span class="comment">// Problem</span></div>
<div class="line"><span class="keyword">class </span>Node {</div>
<div class="line">    std::shared_ptr&lt;Node&gt; next;</div>
<div class="line">    std::shared_ptr&lt;Node&gt; prev;  <span class="comment">// Creates cycle</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Solution</span></div>
<div class="line"><span class="keyword">class </span>Node {</div>
<div class="line">    std::shared_ptr&lt;Node&gt; next;</div>
<div class="line">    std::weak_ptr&lt;Node&gt; prev;  <span class="comment">// Breaks cycle</span></div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2505"></a>
Container Leaks</h3>
<div class="fragment"><div class="line"><span class="comment">// Problem</span></div>
<div class="line">std::vector&lt;Resource*&gt; resources;</div>
<div class="line">resources.push_back(<span class="keyword">new</span> Resource());</div>
<div class="line"><span class="comment">// Vector cleared but resources not deleted</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Solution</span></div>
<div class="line">std::vector&lt;std::unique_ptr&lt;Resource&gt;&gt; resources;</div>
<div class="line">resources.push_back(std::make_unique&lt;Resource&gt;());</div>
<div class="line"><span class="comment">// Automatic cleanup when vector is cleared</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2506"></a>
Memory Leak Prevention</h2>
<div class="fragment"><div class="line"><span class="comment">// RAII wrapper for C resources</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T, <span class="keyword">typename</span> Deleter&gt;</div>
<div class="line"><span class="keyword">class </span>RAIIWrapper {</div>
<div class="line">    T* resource_;</div>
<div class="line">    Deleter deleter_;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> RAIIWrapper(T* resource, Deleter deleter)</div>
<div class="line">        : resource_(resource), deleter_(deleter) {}</div>
<div class="line"> </div>
<div class="line">    ~RAIIWrapper() {</div>
<div class="line">        <span class="keywordflow">if</span> (resource_) {</div>
<div class="line">            deleter_(resource_);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Delete copy operations</span></div>
<div class="line">    RAIIWrapper(<span class="keyword">const</span> RAIIWrapper&amp;) = <span class="keyword">delete</span>;</div>
<div class="line">    RAIIWrapper&amp; operator=(<span class="keyword">const</span> RAIIWrapper&amp;) = <span class="keyword">delete</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Allow move operations</span></div>
<div class="line">    RAIIWrapper(RAIIWrapper&amp;&amp; other) noexcept</div>
<div class="line">        : resource_(std::exchange(other.resource_, <span class="keyword">nullptr</span>)),</div>
<div class="line">          deleter_(std::move(other.deleter_)) {}</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage</span></div>
<div class="line">RAIIWrapper file(fopen(<span class="stringliteral">&quot;data.txt&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>), fclose);</div>
<div class="line">RAIIWrapper ssl_ctx(SSL_CTX_new(TLS_method()), SSL_CTX_free);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2507"></a>
Build Problems</h1>
<h2><a class="anchor" id="autotoc_md2508"></a>
Compilation Errors</h2>
<h3><a class="anchor" id="autotoc_md2509"></a>
Missing Headers</h3>
<div class="fragment"><div class="line"># Error: fatal error: openssl/ssl.h: No such file or directory</div>
<div class="line"> </div>
<div class="line"># Solution - Install development packages</div>
<div class="line">sudo apt-get install libssl-dev  # Ubuntu/Debian</div>
<div class="line">sudo yum install openssl-devel  # RHEL/CentOS</div>
<div class="line">brew install openssl  # macOS</div>
<div class="line"> </div>
<div class="line"># Update include paths</div>
<div class="line">export CPLUS_INCLUDE_PATH=/usr/local/opt/openssl/include:$CPLUS_INCLUDE_PATH</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2510"></a>
Undefined References</h3>
<div class="fragment"><div class="line"># Error: undefined reference to `SSL_library_init&#39;</div>
<div class="line"> </div>
<div class="line"># Solution - Link libraries correctly</div>
<div class="line">g++ network_server.cpp -lssl -lcrypto -lpthread</div>
<div class="line"> </div>
<div class="line"># Or in CMakeLists.txt</div>
<div class="line">find_package(OpenSSL REQUIRED)</div>
<div class="line">target_link_libraries(network_server OpenSSL::SSL OpenSSL::Crypto)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2511"></a>
Template Instantiation Issues</h3>
<div class="fragment"><div class="line"><span class="comment">// Problem: undefined reference to template function</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Solution 1: Define in header</span></div>
<div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../d0/d7b/classContainer.html">Container</a> {</div>
<div class="line">    T* data_;</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    T&amp; get() { <span class="keywordflow">return</span> *data_; }  <span class="comment">// Define inline</span></div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Solution 2: Explicit instantiation</span></div>
<div class="line"><span class="comment">// In .cpp file</span></div>
<div class="line"><span class="keyword">template</span> <span class="keyword">class </span><a class="code hl_class" href="../../d0/d7b/classContainer.html">Container&lt;int&gt;</a>;</div>
<div class="line"><span class="keyword">template</span> <span class="keyword">class </span><a class="code hl_class" href="../../d0/d7b/classContainer.html">Container&lt;std::string&gt;</a>;</div>
<div class="ttc" id="aclassContainer_html"><div class="ttname"><a href="../../d0/d7b/classContainer.html">Container</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/d11/test__std__concepts_8cpp_source.html#l00050">test_std_concepts.cpp:50</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2512"></a>
Linking Errors</h2>
<h3><a class="anchor" id="autotoc_md2513"></a>
Symbol Conflicts</h3>
<div class="fragment"><div class="line"># Multiple definition errors</div>
<div class="line"> </div>
<div class="line"># Check for duplicate symbols</div>
<div class="line">nm -C *.o | grep &quot;T &quot; | sort | uniq -d</div>
<div class="line"> </div>
<div class="line"># Use unnamed namespaces for internal linkage</div>
<div class="line">namespace {</div>
<div class="line">    void internal_function() { }</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2514"></a>
Library Order</h3>
<div class="fragment"><div class="line"># Correct library order (dependencies last)</div>
<div class="line">g++ main.o -lmylib -lssl -lcrypto -lpthread</div>
<div class="line"> </div>
<div class="line"># Wrong order (will fail)</div>
<div class="line">g++ main.o -lpthread -lcrypto -lssl -lmylib</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2515"></a>
CMake Issues</h2>
<h3><a class="anchor" id="autotoc_md2516"></a>
Finding Packages</h3>
<div class="fragment"><div class="line"># Set hints for finding packages</div>
<div class="line">set(CMAKE_PREFIX_PATH &quot;/usr/local/opt/openssl&quot;)</div>
<div class="line">find_package(OpenSSL REQUIRED)</div>
<div class="line"> </div>
<div class="line"># Or use pkg-config</div>
<div class="line">find_package(PkgConfig REQUIRED)</div>
<div class="line">pkg_check_modules(OPENSSL REQUIRED openssl)</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2517"></a>
Cross-Platform Builds</h3>
<div class="fragment"><div class="line"># Platform-specific settings</div>
<div class="line">if(WIN32)</div>
<div class="line">    set(PLATFORM_LIBS ws2_32)</div>
<div class="line">elseif(APPLE)</div>
<div class="line">    set(PLATFORM_LIBS &quot;-framework CoreFoundation&quot;)</div>
<div class="line">else()</div>
<div class="line">    set(PLATFORM_LIBS pthread dl)</div>
<div class="line">endif()</div>
<div class="line"> </div>
<div class="line">target_link_libraries(network_server ${PLATFORM_LIBS})</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2518"></a>
Platform-Specific Issues</h1>
<h2><a class="anchor" id="autotoc_md2519"></a>
Linux Issues</h2>
<h3><a class="anchor" id="autotoc_md2520"></a>
File Descriptor Limits</h3>
<div class="fragment"><div class="line"># Check current limits</div>
<div class="line">ulimit -n</div>
<div class="line"> </div>
<div class="line"># Increase limits temporarily</div>
<div class="line">ulimit -n 65535</div>
<div class="line"> </div>
<div class="line"># Increase limits permanently</div>
<div class="line"># /etc/security/limits.conf</div>
<div class="line">* soft nofile 65535</div>
<div class="line">* hard nofile 65535</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2521"></a>
Systemd Service Issues</h3>
<div class="fragment"><div class="line"># Check service status</div>
<div class="line">systemctl status network_service</div>
<div class="line"> </div>
<div class="line"># View full logs</div>
<div class="line">journalctl -u network_service --no-pager</div>
<div class="line"> </div>
<div class="line"># Common fixes</div>
<div class="line">systemctl daemon-reload  # After changing service file</div>
<div class="line">systemctl reset-failed network_service  # Clear failed state</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2522"></a>
macOS Issues</h2>
<h3><a class="anchor" id="autotoc_md2523"></a>
Code Signing</h3>
<div class="fragment"><div class="line"># Sign binary to avoid firewall prompts</div>
<div class="line">codesign -s &quot;Developer ID&quot; network_server</div>
<div class="line"> </div>
<div class="line"># Allow unsigned binary</div>
<div class="line">spctl --add network_server</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2524"></a>
Homebrew Library Paths</h3>
<div class="fragment"><div class="line"># Fix library paths</div>
<div class="line">export DYLD_LIBRARY_PATH=/usr/local/lib:$DYLD_LIBRARY_PATH</div>
<div class="line"> </div>
<div class="line"># Or use install_name_tool</div>
<div class="line">install_name_tool -change @rpath/libssl.dylib /usr/local/lib/libssl.dylib network_server</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2525"></a>
Windows Issues</h2>
<h3><a class="anchor" id="autotoc_md2526"></a>
DLL Not Found</h3>
<div class="fragment"><div class="line"># Check dependencies</div>
<div class="line">dumpbin /DEPENDENTS network_server.exe</div>
<div class="line"> </div>
<div class="line"># Add to PATH</div>
<div class="line">$env:PATH += &quot;;C:\Program Files\OpenSSL\bin&quot;</div>
<div class="line"> </div>
<div class="line"># Or copy DLLs to executable directory</div>
<div class="line">copy &quot;C:\Program Files\OpenSSL\bin\*.dll&quot; .</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2527"></a>
Windows Firewall</h3>
<div class="fragment"><div class="line"># Add firewall exception</div>
<div class="line">netsh advfirewall firewall add rule name=&quot;Network Server&quot; dir=in action=allow program=&quot;C:\network\network_server.exe&quot;</div>
<div class="line"> </div>
<div class="line"># Check firewall rules</div>
<div class="line">netsh advfirewall firewall show rule name=&quot;Network Server&quot;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md2528"></a>
Visual Studio Runtime</h3>
<div class="fragment"><div class="line"># Install Visual C++ Redistributable</div>
<div class="line"># Download from Microsoft website</div>
<div class="line"> </div>
<div class="line"># Or link statically</div>
<div class="line"># In CMake:</div>
<div class="line">set(CMAKE_MSVC_RUNTIME_LIBRARY &quot;MultiThreaded$&lt;$&lt;CONFIG:Debug&gt;:Debug&gt;&quot;)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2529"></a>
Error Reference</h1>
<h2><a class="anchor" id="autotoc_md2530"></a>
Error Codes</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> ErrorCode {</div>
<div class="line">    SUCCESS = 0,</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Connection errors (1000-1999)</span></div>
<div class="line">    CONNECTION_REFUSED = 1001,</div>
<div class="line">    CONNECTION_TIMEOUT = 1002,</div>
<div class="line">    CONNECTION_CLOSED = 1003,</div>
<div class="line">    CONNECTION_RESET = 1004,</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Protocol errors (2000-2999)</span></div>
<div class="line">    INVALID_MESSAGE = 2001,</div>
<div class="line">    UNSUPPORTED_VERSION = 2002,</div>
<div class="line">    AUTHENTICATION_FAILED = 2003,</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Resource errors (3000-3999)</span></div>
<div class="line">    OUT_OF_MEMORY = 3001,</div>
<div class="line">    TOO_MANY_CONNECTIONS = 3002,</div>
<div class="line">    RESOURCE_EXHAUSTED = 3003,</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// System errors (4000-4999)</span></div>
<div class="line">    FILE_NOT_FOUND = 4001,</div>
<div class="line">    PERMISSION_DENIED = 4002,</div>
<div class="line">    OPERATION_NOT_SUPPORTED = 4003</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* error_to_string(ErrorCode code) {</div>
<div class="line">    <span class="keywordflow">switch</span> (code) {</div>
<div class="line">        <span class="keywordflow">case</span> ErrorCode::CONNECTION_REFUSED:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connection refused by remote host&quot;</span>;</div>
<div class="line">        <span class="keywordflow">case</span> ErrorCode::CONNECTION_TIMEOUT:</div>
<div class="line">            <span class="keywordflow">return</span> <span class="stringliteral">&quot;Connection attempt timed out&quot;</span>;</div>
<div class="line">        <span class="comment">// ... more cases</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2531"></a>
Error Recovery Strategies</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>ErrorRecovery {</div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Func&gt;</div>
<div class="line">    <span class="keyword">auto</span> retry_with_backoff(Func func, <span class="keywordtype">int</span> max_retries = 3) {</div>
<div class="line">        <span class="keywordtype">int</span> retry = 0;</div>
<div class="line">        std::chrono::milliseconds delay(100);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> (retry &lt; max_retries) {</div>
<div class="line">            <span class="keywordflow">try</span> {</div>
<div class="line">                <span class="keywordflow">return</span> func();</div>
<div class="line">            } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line">                <span class="keywordflow">if</span> (++retry &gt;= max_retries) {</div>
<div class="line">                    <span class="keywordflow">throw</span>;</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                LOG_WARN(<span class="stringliteral">&quot;Attempt {} failed: {}. Retrying in {}ms&quot;</span>,</div>
<div class="line">                    retry, e.what(), delay.count());</div>
<div class="line"> </div>
<div class="line">                std::this_thread::sleep_for(delay);</div>
<div class="line">                delay *= 2;  <span class="comment">// Exponential backoff</span></div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2532"></a>
Support Resources</h1>
<h2><a class="anchor" id="autotoc_md2533"></a>
Logging Best Practices</h2>
<div class="fragment"><div class="line"><span class="comment">// Structured logging for better debugging</span></div>
<div class="line"><span class="keyword">class </span>StructuredLogger {</div>
<div class="line">    <span class="keywordtype">void</span> log_error(<span class="keyword">const</span> std::string&amp; message,</div>
<div class="line">                   <span class="keyword">const</span> std::map&lt;std::string, std::any&gt;&amp; context) {</div>
<div class="line">        json log_entry;</div>
<div class="line">        log_entry[<span class="stringliteral">&quot;timestamp&quot;</span>] = std::chrono::system_clock::now();</div>
<div class="line">        log_entry[<span class="stringliteral">&quot;level&quot;</span>] = <span class="stringliteral">&quot;ERROR&quot;</span>;</div>
<div class="line">        log_entry[<span class="stringliteral">&quot;message&quot;</span>] = message;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, value] : context) {</div>
<div class="line">            log_entry[<span class="stringliteral">&quot;context&quot;</span>][key] = value;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        std::cerr &lt;&lt; log_entry.dump() &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Usage</span></div>
<div class="line">logger.log_error(<span class="stringliteral">&quot;Connection failed&quot;</span>, {</div>
<div class="line">    {<span class="stringliteral">&quot;remote_ip&quot;</span>, <span class="stringliteral">&quot;192.168.1.100&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;port&quot;</span>, 8080},</div>
<div class="line">    {<span class="stringliteral">&quot;error_code&quot;</span>, ECONNREFUSED},</div>
<div class="line">    {<span class="stringliteral">&quot;retry_count&quot;</span>, 3}</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2534"></a>
Performance Metrics Collection</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>MetricsCollector {</div>
<div class="line">    <span class="keywordtype">void</span> record_latency(<span class="keyword">const</span> std::string&amp; operation,</div>
<div class="line">                       std::chrono::microseconds duration) {</div>
<div class="line">        histogram_[operation].record(duration.count());</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Alert on high latency</span></div>
<div class="line">        <span class="keywordflow">if</span> (duration &gt; std::chrono::seconds(1)) {</div>
<div class="line">            alert_manager_.send({</div>
<div class="line">                .severity = AlertSeverity::WARNING,</div>
<div class="line">                .message = fmt::format(<span class="stringliteral">&quot;{} took {}ms&quot;</span>,</div>
<div class="line">                    operation, duration.count() / 1000)</div>
<div class="line">            });</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md2535"></a>
Getting Help</h2>
<ol type="1">
<li><b>Check Logs First</b><ul>
<li>Application logs: <code>/var/log/network_system/</code></li>
<li>System logs: <code>journalctl</code>, <code>dmesg</code>, Event Viewer</li>
<li>Enable debug logging for detailed information</li>
</ul>
</li>
<li><b>Gather Information</b><ul>
<li>Operating system and version</li>
<li>Compiler version</li>
<li>Library versions</li>
<li>Configuration settings</li>
<li>Recent changes</li>
<li>Error messages and stack traces</li>
</ul>
</li>
<li><b>Create Minimal Reproduction</b> <div class="fragment"><div class="line"><span class="comment">// Minimal test case</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="../../d1/d6b/network__system_8h.html">network_system.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="../../db/d5d/basic__usage__example_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>() {</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        NetworkServer server;</div>
<div class="line">        server.configure(<span class="stringliteral">&quot;config.json&quot;</span>);</div>
<div class="line">        server.start();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Reproduce issue here</span></div>
<div class="line"> </div>
<div class="line">    } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Error: &quot;</span> &lt;&lt; e.what() &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="abasic__usage__example_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="../../db/d5d/basic__usage__example_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> <a href="../../db/d5d/basic__usage__example_8cpp_source.html#l00015">basic_usage_example.cpp:15</a></div></div>
<div class="ttc" id="anetwork__system_8h_html"><div class="ttname"><a href="../../d1/d6b/network__system_8h.html">network_system.h</a></div><div class="ttdoc">Main header for the Network System.</div></div>
</div><!-- fragment --></li>
<li><b>Community Resources</b><ul>
<li>GitHub Issues: Report bugs and feature requests</li>
<li>Stack Overflow: Search for similar issues</li>
<li>Discord/Slack: Real-time community support</li>
<li>Documentation: Check API reference and guides</li>
</ul>
</li>
<li><b>Professional Support</b><ul>
<li>Enterprise support contracts</li>
<li>Consulting services</li>
<li>Training workshops</li>
<li>Priority bug fixes</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md2536"></a>
Conclusion</h1>
<p>This troubleshooting guide covers the most common issues and their solutions. For issues not covered here:</p>
<ol type="1">
<li>Enable debug logging to gather more information</li>
<li>Check the error reference for specific error codes</li>
<li>Use the debugging techniques to isolate the problem</li>
<li>Create a minimal reproduction case</li>
<li>Reach out to the community or support channels</li>
</ol>
<p>Remember to always:</p><ul>
<li>Keep your system updated</li>
<li>Monitor logs and metrics</li>
<li>Implement proper error handling</li>
<li>Test thoroughly before deployment</li>
<li>Document any workarounds or custom solutions</li>
</ul>
<p>For operational procedures, see the <a class="el" href="../../d5/da1/md_libraries_2network__system_2docs_2OPERATIONS.html">Operations Guide</a>. For API documentation, see the <a class="el" href="../../dd/d8b/md_libraries_2network__system_2docs_2API__REFERENCE.html">API Reference</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
