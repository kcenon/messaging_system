<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: libraries/monitoring_system/src/utils/metric_storage.h File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d7/dd4/src_2utils_2metric__storage_8h.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">metric_storage.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Memory-efficient metric storage with ring buffers.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="../../d9/d68/kcenon_2monitoring_2core_2result__types_8h_source.html">kcenon/monitoring/core/result_types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/d83/monitoring__system_2include_2kcenon_2monitoring_2core_2error__codes_8h_source.html">kcenon/monitoring/core/error_codes.h</a>&gt;</code><br />
<code>#include &lt;kcenon/monitoring/utils/ring_buffer.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d6/df9/include_2kcenon_2monitoring_2utils_2metric__types_8h_source.html">kcenon/monitoring/utils/metric_types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/d3b/include_2kcenon_2monitoring_2utils_2time__series_8h_source.html">kcenon/monitoring/utils/time_series.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d7/d17/monitoring__system_2include_2kcenon_2monitoring_2interfaces_2monitoring__interface_8h_source.html">kcenon/monitoring/interfaces/monitoring_interface.h</a>&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;unordered_map&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for metric_storage.h:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/df5/src_2utils_2metric__storage_8h__incl.png" border="0" usemap="#alibraries_2monitoring__system_2src_2utils_2metric__storage_8h" alt=""/></div>
<map name="alibraries_2monitoring__system_2src_2utils_2metric__storage_8h" id="alibraries_2monitoring__system_2src_2utils_2metric__storage_8h">
<area shape="rect" title="Memory&#45;efficient metric storage with ring buffers." alt="" coords="541,5,720,60"/>
<area shape="rect" href="../../d9/d68/kcenon_2monitoring_2core_2result__types_8h.html" title="Result pattern type definitions for monitoring system." alt="" coords="539,284,715,324"/>
<area shape="poly" title=" " alt="" coords="624,61,606,139,602,188,605,236,615,271,610,272,600,236,597,187,601,139,619,60"/>
<area shape="rect" href="../../d9/d83/monitoring__system_2include_2kcenon_2monitoring_2core_2error__codes_8h.html" title="Monitoring system specific error codes." alt="" coords="46,372,157,397"/>
<area shape="poly" title=" " alt="" coords="541,43,468,52,384,65,296,84,210,111,122,139,90,160,61,197,47,230,44,258,50,287,61,323,70,343,83,360,79,363,66,345,56,325,45,289,39,258,42,229,56,195,86,156,120,134,209,105,295,79,383,60,468,46,541,38"/>
<area shape="rect" title=" " alt="" coords="165,445,224,471"/>
<area shape="poly" title=" " alt="" coords="541,43,468,52,384,65,296,84,210,111,124,140,92,161,61,198,29,250,10,298,8,321,11,345,20,369,35,396,59,419,89,436,121,446,152,451,151,457,120,451,87,440,56,424,31,399,15,372,6,346,3,321,5,296,24,247,57,194,89,157,122,135,209,105,295,79,383,60,468,46,541,38"/>
<area shape="rect" title=" " alt="" coords="907,372,984,397"/>
<area shape="poly" title=" " alt="" coords="721,35,906,47,1016,58,1129,74,1237,95,1333,121,1409,154,1438,173,1459,194,1476,223,1482,250,1476,273,1460,294,1437,311,1407,326,1331,350,1243,367,1151,377,998,385,998,380,1151,372,1242,361,1330,345,1405,321,1434,307,1457,290,1471,271,1476,249,1471,225,1455,198,1435,177,1407,159,1331,126,1236,100,1128,79,1016,64,905,52,720,40"/>
<area shape="rect" title=" " alt="" coords="309,108,485,148"/>
<area shape="poly" title=" " alt="" coords="566,63,458,105,456,100,564,58"/>
<area shape="rect" href="../../d6/df9/include_2kcenon_2monitoring_2utils_2metric__types_8h.html" title="Common metric type definitions for efficient storage." alt="" coords="96,196,272,236"/>
<area shape="poly" title=" " alt="" coords="541,46,379,71,305,89,255,110,237,126,221,145,199,185,194,182,217,142,233,122,252,106,303,84,378,66,541,41"/>
<area shape="rect" title=" " alt="" coords="397,291,464,317"/>
<area shape="poly" title=" " alt="" coords="613,62,450,281,446,278,609,59"/>
<area shape="rect" title=" " alt="" coords="249,291,373,317"/>
<area shape="poly" title=" " alt="" coords="541,44,470,53,398,67,337,86,314,97,299,110,294,121,291,139,292,185,308,277,302,278,287,185,286,139,289,120,295,106,311,93,335,81,397,62,470,48,541,39"/>
<area shape="rect" href="../../d9/d3b/include_2kcenon_2monitoring_2utils_2time__series_8h.html" title="Time&#45;series data storage for efficient metric history." alt="" coords="839,108,1015,148"/>
<area shape="poly" title=" " alt="" coords="715,58,855,101,853,107,713,63"/>
<area shape="rect" title=" " alt="" coords="1381,203,1445,229"/>
<area shape="poly" title=" " alt="" coords="721,46,865,72,1027,105,1197,145,1363,193,1372,196,1371,201,1362,199,1195,150,1026,111,864,77,720,51"/>
<area shape="rect" href="../../d7/d17/monitoring__system_2include_2kcenon_2monitoring_2interfaces_2monitoring__interface_8h.html" title="Core monitoring system interface definitions." alt="" coords="632,196,845,236"/>
<area shape="poly" title=" " alt="" coords="649,59,723,182,718,185,644,62"/>
<area shape="rect" title=" " alt="" coords="1453,115,1517,141"/>
<area shape="poly" title=" " alt="" coords="721,32,860,37,1039,48,1237,70,1338,86,1435,105,1446,108,1445,113,1434,111,1337,91,1236,75,1038,53,859,42,720,37"/>
<area shape="rect" title=" " alt="" coords="1541,115,1608,141"/>
<area shape="poly" title=" " alt="" coords="720,35,1141,60,1367,80,1459,92,1530,105,1539,108,1537,113,1529,111,1459,97,1366,86,1141,65,720,41"/>
<area shape="rect" title=" " alt="" coords="1633,115,1775,141"/>
<area shape="poly" title=" " alt="" coords="720,34,888,40,1112,53,1365,74,1620,105,1646,110,1645,115,1620,111,1365,80,1112,59,888,46,720,39"/>
<area shape="poly" title=" " alt="" coords="539,324,520,327,171,377,170,372,520,321,538,318"/>
<area shape="poly" title=" " alt="" coords="617,326,586,364,565,384,541,400,503,418,462,432,378,450,300,458,238,460,238,455,300,453,377,445,460,427,501,413,539,395,562,379,582,360,612,323"/>
<area shape="rect" title=" " alt="" coords="233,372,301,397"/>
<area shape="poly" title=" " alt="" coords="539,326,315,374,314,369,538,321"/>
<area shape="rect" title=" " alt="" coords="752,372,827,397"/>
<area shape="poly" title=" " alt="" coords="667,322,754,364,752,368,664,326"/>
<area shape="poly" title=" " alt="" coords="704,321,894,368,893,373,702,327"/>
<area shape="rect" title=" " alt="" coords="603,372,727,397"/>
<area shape="poly" title=" " alt="" coords="638,323,656,358,651,361,634,325"/>
<area shape="rect" title=" " alt="" coords="325,372,417,397"/>
<area shape="poly" title=" " alt="" coords="566,327,422,371,420,365,565,321"/>
<area shape="rect" title=" " alt="" coords="441,372,527,397"/>
<area shape="poly" title=" " alt="" coords="594,326,518,368,516,363,591,322"/>
<area shape="rect" title=" " alt="" coords="21,445,88,471"/>
<area shape="poly" title=" " alt="" coords="96,399,72,435,68,432,91,396"/>
<area shape="poly" title=" " alt="" coords="118,395,170,435,167,439,115,399"/>
<area shape="poly" title=" " alt="" coords="273,232,525,280,524,286,272,237"/>
<area shape="poly" title=" " alt="" coords="173,237,144,285,112,359,108,357,139,283,168,235"/>
<area shape="poly" title=" " alt="" coords="157,238,126,262,92,293,60,330,36,373,33,388,34,403,43,432,38,433,28,404,27,387,31,371,55,327,88,289,122,258,153,234"/>
<area shape="poly" title=" " alt="" coords="188,236,196,432,191,432,182,236"/>
<area shape="poly" title=" " alt="" coords="196,235,257,359,253,361,191,238"/>
<area shape="poly" title=" " alt="" coords="245,234,386,281,392,284,390,289,384,287,243,239"/>
<area shape="poly" title=" " alt="" coords="214,234,284,281,281,286,211,238"/>
<area shape="poly" title=" " alt="" coords="839,139,775,147,710,159,655,176,635,186,622,198,614,214,611,233,617,271,612,272,606,233,609,212,618,194,632,182,653,171,709,154,774,142,838,134"/>
<area shape="poly" title=" " alt="" coords="839,136,392,160,183,179,116,188,86,198,74,215,67,235,65,257,67,279,77,323,92,359,87,361,72,324,62,280,60,257,62,234,69,213,82,194,114,183,183,173,391,155,838,130"/>
<area shape="poly" title=" " alt="" coords="1015,144,1022,145,1090,151,1179,155,1264,166,1297,177,1321,194,1335,215,1340,235,1338,254,1328,271,1313,287,1293,301,1242,325,1180,345,1114,360,998,380,997,375,1113,355,1178,340,1240,320,1291,296,1310,282,1324,268,1333,252,1335,236,1330,217,1317,198,1295,182,1263,171,1178,160,1089,156,1021,151,1014,149"/>
<area shape="poly" title=" " alt="" coords="839,142,286,206,286,200,838,137"/>
<area shape="poly" title=" " alt="" coords="839,142,725,162,663,178,604,198,562,218,522,241,458,285,455,281,519,237,559,213,602,194,662,173,724,157,838,136"/>
<area shape="rect" title=" " alt="" coords="921,203,1023,229"/>
<area shape="poly" title=" " alt="" coords="939,147,962,189,957,192,934,150"/>
<area shape="rect" title=" " alt="" coords="1114,291,1177,317"/>
<area shape="poly" title=" " alt="" coords="918,149,910,169,903,191,903,214,912,235,931,254,950,266,970,271,991,273,1039,273,1066,275,1095,281,1104,284,1103,289,1094,287,1065,280,1039,278,991,278,969,277,948,271,927,258,907,237,898,215,898,191,905,167,913,147"/>
<area shape="rect" title=" " alt="" coords="1048,203,1133,229"/>
<area shape="poly" title=" " alt="" coords="964,146,1058,195,1056,199,961,150"/>
<area shape="rect" title=" " alt="" coords="1157,203,1232,229"/>
<area shape="poly" title=" " alt="" coords="993,146,1146,193,1154,196,1152,201,1145,199,991,151"/>
<area shape="rect" title=" " alt="" coords="1256,203,1307,229"/>
<area shape="poly" title=" " alt="" coords="1015,139,1126,160,1245,193,1249,195,1247,200,1243,199,1125,165,1014,144"/>
<area shape="poly" title=" " alt="" coords="1015,135,1178,156,1271,173,1363,193,1373,196,1372,201,1362,199,1270,178,1177,162,1015,140"/>
<area shape="poly" title=" " alt="" coords="715,238,664,277,661,273,712,234"/>
<area shape="poly" title=" " alt="" coords="656,239,592,259,528,286,513,296,504,307,493,317,477,326,419,343,338,358,171,379,170,374,338,353,418,338,475,322,490,313,500,303,510,292,525,282,590,254,655,233"/>
<area shape="poly" title=" " alt="" coords="846,231,976,255,1026,269,1052,282,1063,299,1067,316,1064,333,1057,348,1032,376,997,400,951,413,872,424,651,441,413,452,238,458,238,453,413,447,650,436,871,419,950,408,995,395,1028,372,1053,345,1059,331,1061,316,1058,301,1049,286,1024,274,974,260,845,236"/>
<area shape="poly" title=" " alt="" coords="747,236,784,358,779,360,742,237"/>
<area shape="poly" title=" " alt="" coords="753,235,786,277,831,322,867,346,904,364,901,369,864,350,828,326,782,281,749,238"/>
<area shape="poly" title=" " alt="" coords="660,239,483,287,475,289,473,284,482,281,658,234"/>
<area shape="poly" title=" " alt="" coords="632,238,386,287,368,291,367,286,385,281,631,233"/>
<area shape="poly" title=" " alt="" coords="846,233,986,258,1095,281,1105,284,1103,289,1094,287,985,263,845,238"/>
<area shape="rect" title=" " alt="" coords="841,291,927,317"/>
<area shape="poly" title=" " alt="" coords="772,234,854,282,852,287,769,238"/>
<area shape="rect" title=" " alt="" coords="951,291,1038,317"/>
<area shape="poly" title=" " alt="" coords="796,233,941,281,949,284,948,289,939,287,795,239"/>
</map>
</div>
</div>
<p><a href="../../d7/dd4/src_2utils_2metric__storage_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d40/structmonitoring__system_1_1metric__storage__config.html">monitoring_system::metric_storage_config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration for metric storage system.  <a href="../../d9/d40/structmonitoring__system_1_1metric__storage__config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d1a/structmonitoring__system_1_1metric__storage__stats.html">monitoring_system::metric_storage_stats</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Statistics for metric storage performance.  <a href="../../df/d1a/structmonitoring__system_1_1metric__storage__stats.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/df8/classmonitoring__system_1_1metric__storage.html">monitoring_system::metric_storage</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory-efficient metric storage using ring buffers.  <a href="../../d0/df8/classmonitoring__system_1_1metric__storage.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:de/d3f/namespacemonitoring__system" id="r_de/d3f/namespacemonitoring__system"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3f/namespacemonitoring__system.html">monitoring_system</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8d9559eae822e1b852417c6992b28c6d" id="r_a8d9559eae822e1b852417c6992b28c6d"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d0/df8/classmonitoring__system_1_1metric__storage.html">metric_storage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3f/namespacemonitoring__system.html#a8d9559eae822e1b852417c6992b28c6d">monitoring_system::make_metric_storage</a> ()</td></tr>
<tr class="memdesc:a8d9559eae822e1b852417c6992b28c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to create metric storage with default configuration.  <br /></td></tr>
<tr class="separator:a8d9559eae822e1b852417c6992b28c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b251689c7a9138b0b82fd1a06f19558" id="r_a9b251689c7a9138b0b82fd1a06f19558"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d0/df8/classmonitoring__system_1_1metric__storage.html">metric_storage</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3f/namespacemonitoring__system.html#a9b251689c7a9138b0b82fd1a06f19558">monitoring_system::make_metric_storage</a> (const <a class="el" href="../../d9/d40/structmonitoring__system_1_1metric__storage__config.html">metric_storage_config</a> &amp;config)</td></tr>
<tr class="memdesc:a9b251689c7a9138b0b82fd1a06f19558"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to create metric storage with custom configuration.  <br /></td></tr>
<tr class="separator:a9b251689c7a9138b0b82fd1a06f19558"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Memory-efficient metric storage with ring buffers. </p>
<p>This file implements the P1 task: Memory-efficient metric storage using ring buffers for optimal performance and memory usage. </p>

<p class="definition">Definition in file <a class="el" href="../../d7/dd4/src_2utils_2metric__storage_8h_source.html">metric_storage.h</a>.</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="../../dir_f3b91af6f94109d994ac208a6e6128ce.html">monitoring_system</a></li><li class="navelem"><a class="el" href="../../dir_ad5e0661266a1399f07af71c9ab209c2.html">src</a></li><li class="navelem"><a class="el" href="../../dir_47510366d32a4a704414403d0e6466bb.html">utils</a></li><li class="navelem"><a class="el" href="../../d7/dd4/src_2utils_2metric__storage_8h.html">metric_storage.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
