<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: Database System Build Guide</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('da/d7c/md_libraries_2database__system_2docs_2BUILD__GUIDE.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Database System Build Guide</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md597"></a> Comprehensive guide for building the Database System with multi-backend support, connection pooling, and query builders.</p>
<h1><a class="anchor" id="autotoc_md598"></a>
Table of Contents</h1>
<ul>
<li>Prerequisites</li>
<li>Quick Start</li>
<li>Build Configurations</li>
<li>Database Dependencies</li>
<li>Platform-Specific Instructions</li>
<li>Troubleshooting</li>
<li>Advanced Configuration</li>
</ul>
<h1><a class="anchor" id="autotoc_md599"></a>
Prerequisites</h1>
<h2><a class="anchor" id="autotoc_md600"></a>
System Requirements</h2>
<ul>
<li><b>C++20 compatible compiler</b>:<ul>
<li>GCC 10.0+ (Linux)</li>
<li>Clang 11.0+ (macOS/Linux)</li>
<li>MSVC 2019+ (Windows)</li>
</ul>
</li>
<li><b>CMake 3.16+</b></li>
<li><b>Build system</b>: Make, Ninja (recommended), or Visual Studio</li>
<li><b>Git</b> (for cloning and vcpkg)</li>
</ul>
<h2><a class="anchor" id="autotoc_md601"></a>
Optional Dependencies</h2>
<p>Database support is optional and can be disabled for testing:</p>
<ul>
<li><b>PostgreSQL</b>: libpqxx, libpq, OpenSSL</li>
<li><b>MySQL</b>: libmysql or mysql-connector-cpp</li>
<li><b>SQLite</b>: sqlite3</li>
<li><b>MongoDB</b>: mongo-cxx-driver (mongocxx, bsoncxx)</li>
<li><b>Redis</b>: hiredis</li>
</ul>
<h1><a class="anchor" id="autotoc_md602"></a>
Quick Start</h1>
<h2><a class="anchor" id="autotoc_md603"></a>
1. Clone Repository</h2>
<div class="fragment"><div class="line">git clone https://github.com/kcenon/database_system.git</div>
<div class="line">cd database_system</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md604"></a>
2. Basic Build (No External Dependencies)</h2>
<div class="fragment"><div class="line"># Create build directory</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line"> </div>
<div class="line"># Configure with mock implementations</div>
<div class="line">cmake .. -DUSE_POSTGRESQL=OFF -DUSE_MYSQL=OFF -DUSE_SQLITE=OFF -DUSE_MONGODB=OFF -DUSE_REDIS=OFF</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">ninja  # or make -j$(nproc)</div>
<div class="line"> </div>
<div class="line"># Test</div>
<div class="line">./bin/basic_usage</div>
<div class="line">./bin/connection_pool_demo</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md605"></a>
3. Full Build with Database Support</h2>
<div class="fragment"><div class="line"># Install dependencies (see Database Dependencies section)</div>
<div class="line"># Then configure with full support</div>
<div class="line">cmake .. -DUSE_POSTGRESQL=ON -DUSE_MYSQL=ON -DUSE_SQLITE=ON -DUSE_MONGODB=ON -DUSE_REDIS=ON</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">ninja</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md606"></a>
Build Configurations</h1>
<h2><a class="anchor" id="autotoc_md607"></a>
CMake Options</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Option   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>USE_POSTGRESQL</code>   </td><td class="markdownTableBodyNone">ON   </td><td class="markdownTableBodyNone">Enable PostgreSQL support (requires libpqxx)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>USE_MYSQL</code>   </td><td class="markdownTableBodyNone">OFF   </td><td class="markdownTableBodyNone">Enable MySQL support (requires libmysql)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>USE_SQLITE</code>   </td><td class="markdownTableBodyNone">OFF   </td><td class="markdownTableBodyNone">Enable SQLite support (requires sqlite3)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>USE_MONGODB</code>   </td><td class="markdownTableBodyNone">OFF   </td><td class="markdownTableBodyNone">Enable MongoDB support (requires mongocxx)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>USE_REDIS</code>   </td><td class="markdownTableBodyNone">OFF   </td><td class="markdownTableBodyNone">Enable Redis support (requires hiredis)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>BUILD_DATABASE_SAMPLES</code>   </td><td class="markdownTableBodyNone">ON   </td><td class="markdownTableBodyNone">Build sample programs    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>USE_UNIT_TEST</code>   </td><td class="markdownTableBodyNone">ON   </td><td class="markdownTableBodyNone">Build unit tests    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>BUILD_SHARED_LIBS</code>   </td><td class="markdownTableBodyNone">OFF   </td><td class="markdownTableBodyNone">Build as shared library   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md608"></a>
Build Types</h2>
<div class="fragment"><div class="line"># Debug build (default)</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Debug</div>
<div class="line"> </div>
<div class="line"># Release build (optimized)</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release</div>
<div class="line"> </div>
<div class="line"># Release with debug info</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=RelWithDebInfo</div>
<div class="line"> </div>
<div class="line"># Minimum size release</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=MinSizeRel</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md609"></a>
Common Build Scenarios</h2>
<h3><a class="anchor" id="autotoc_md610"></a>
1. Development Build</h3>
<div class="fragment"><div class="line"># Full features with debug information</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Debug \</div>
<div class="line">  -DUSE_POSTGRESQL=ON \</div>
<div class="line">  -DUSE_MYSQL=ON \</div>
<div class="line">  -DUSE_SQLITE=ON \</div>
<div class="line">  -DBUILD_DATABASE_SAMPLES=ON \</div>
<div class="line">  -DUSE_UNIT_TEST=ON</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md611"></a>
2. Production Build</h3>
<div class="fragment"><div class="line"># Optimized release with specific databases</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Release \</div>
<div class="line">  -DUSE_POSTGRESQL=ON \</div>
<div class="line">  -DUSE_REDIS=ON \</div>
<div class="line">  -DBUILD_DATABASE_SAMPLES=OFF \</div>
<div class="line">  -DUSE_UNIT_TEST=OFF</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md612"></a>
3. Testing/CI Build</h3>
<div class="fragment"><div class="line"># Mock implementations only</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Debug \</div>
<div class="line">  -DUSE_POSTGRESQL=OFF \</div>
<div class="line">  -DUSE_MYSQL=OFF \</div>
<div class="line">  -DUSE_SQLITE=OFF \</div>
<div class="line">  -DUSE_MONGODB=OFF \</div>
<div class="line">  -DUSE_REDIS=OFF \</div>
<div class="line">  -DBUILD_DATABASE_SAMPLES=ON \</div>
<div class="line">  -DUSE_UNIT_TEST=ON</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md613"></a>
Database Dependencies</h1>
<h2><a class="anchor" id="autotoc_md614"></a>
Using vcpkg (Recommended)</h2>
<h3><a class="anchor" id="autotoc_md615"></a>
Install vcpkg</h3>
<div class="fragment"><div class="line">git clone https://github.com/Microsoft/vcpkg.git</div>
<div class="line">cd vcpkg</div>
<div class="line"> </div>
<div class="line"># Windows</div>
<div class="line">.\bootstrap-vcpkg.bat</div>
<div class="line"> </div>
<div class="line"># Linux/macOS</div>
<div class="line">./bootstrap-vcpkg.sh</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md616"></a>
Install Database Libraries</h3>
<div class="fragment"><div class="line"># PostgreSQL support</div>
<div class="line">vcpkg install libpqxx openssl</div>
<div class="line"> </div>
<div class="line"># MySQL support</div>
<div class="line">vcpkg install libmysql</div>
<div class="line"> </div>
<div class="line"># SQLite support</div>
<div class="line">vcpkg install sqlite3</div>
<div class="line"> </div>
<div class="line"># MongoDB support</div>
<div class="line">vcpkg install mongo-cxx-driver</div>
<div class="line"> </div>
<div class="line"># Redis support</div>
<div class="line">vcpkg install hiredis</div>
<div class="line"> </div>
<div class="line"># Install all at once</div>
<div class="line">vcpkg install libpqxx openssl libmysql sqlite3 mongo-cxx-driver hiredis</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md617"></a>
Build with vcpkg</h3>
<div class="fragment"><div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_TOOLCHAIN_FILE=/path/to/vcpkg/scripts/buildsystems/vcpkg.cmake \</div>
<div class="line">  -DUSE_POSTGRESQL=ON \</div>
<div class="line">  -DUSE_MYSQL=ON \</div>
<div class="line">  -DUSE_SQLITE=ON \</div>
<div class="line">  -DUSE_MONGODB=ON \</div>
<div class="line">  -DUSE_REDIS=ON</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md618"></a>
Manual Installation</h2>
<h3><a class="anchor" id="autotoc_md619"></a>
Ubuntu/Debian</h3>
<div class="fragment"><div class="line"># PostgreSQL</div>
<div class="line">sudo apt-get install libpqxx-dev libpq-dev libssl-dev</div>
<div class="line"> </div>
<div class="line"># MySQL</div>
<div class="line">sudo apt-get install libmysqlclient-dev</div>
<div class="line"> </div>
<div class="line"># SQLite</div>
<div class="line">sudo apt-get install libsqlite3-dev</div>
<div class="line"> </div>
<div class="line"># MongoDB</div>
<div class="line">sudo apt-get install libmongocxx-dev libbsoncxx-dev</div>
<div class="line"> </div>
<div class="line"># Redis</div>
<div class="line">sudo apt-get install libhiredis-dev</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md620"></a>
CentOS/RHEL/Fedora</h3>
<div class="fragment"><div class="line"># PostgreSQL</div>
<div class="line">sudo dnf install libpqxx-devel postgresql-devel openssl-devel</div>
<div class="line"> </div>
<div class="line"># MySQL</div>
<div class="line">sudo dnf install mysql-devel</div>
<div class="line"> </div>
<div class="line"># SQLite</div>
<div class="line">sudo dnf install sqlite-devel</div>
<div class="line"> </div>
<div class="line"># MongoDB</div>
<div class="line">sudo dnf install mongo-cxx-driver-devel</div>
<div class="line"> </div>
<div class="line"># Redis</div>
<div class="line">sudo dnf install hiredis-devel</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md621"></a>
macOS (Homebrew)</h3>
<div class="fragment"><div class="line"># PostgreSQL</div>
<div class="line">brew install libpqxx postgresql openssl</div>
<div class="line"> </div>
<div class="line"># MySQL</div>
<div class="line">brew install mysql</div>
<div class="line"> </div>
<div class="line"># SQLite</div>
<div class="line">brew install sqlite</div>
<div class="line"> </div>
<div class="line"># MongoDB</div>
<div class="line">brew install mongo-cxx-driver</div>
<div class="line"> </div>
<div class="line"># Redis</div>
<div class="line">brew install hiredis</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md622"></a>
Windows (vcpkg recommended)</h3>
<p>For Windows, vcpkg is the recommended approach. Manual installation is complex due to dependency management.</p>
<h1><a class="anchor" id="autotoc_md623"></a>
Platform-Specific Instructions</h1>
<h2><a class="anchor" id="autotoc_md624"></a>
Linux</h2>
<div class="fragment"><div class="line"># Install dependencies</div>
<div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install build-essential cmake ninja-build git</div>
<div class="line"> </div>
<div class="line"># Install database libraries (see above)</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">ninja</div>
<div class="line"> </div>
<div class="line"># Install (optional)</div>
<div class="line">sudo ninja install</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md625"></a>
macOS</h2>
<div class="fragment"><div class="line"># Install Xcode command line tools</div>
<div class="line">xcode-select --install</div>
<div class="line"> </div>
<div class="line"># Install dependencies</div>
<div class="line">brew install cmake ninja</div>
<div class="line"> </div>
<div class="line"># Install database libraries (see above)</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">ninja</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md626"></a>
Windows</h2>
<h3><a class="anchor" id="autotoc_md627"></a>
Using Visual Studio</h3>
<div class="fragment"><div class="line"># Open Developer Command Prompt</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake .. -G &quot;Visual Studio 16 2019&quot; -A x64 -DCMAKE_TOOLCHAIN_FILE=C:/path/to/vcpkg/scripts/buildsystems/vcpkg.cmake</div>
<div class="line">cmake --build . --config Release</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md628"></a>
Using MSYS2/MinGW</h3>
<div class="fragment"><div class="line"># Install MSYS2 first</div>
<div class="line"> </div>
<div class="line"># Install dependencies</div>
<div class="line">pacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-cmake mingw-w64-x86_64-ninja</div>
<div class="line"> </div>
<div class="line"># Build</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release</div>
<div class="line">ninja</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md629"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md630"></a>
Common Build Issues</h2>
<h3><a class="anchor" id="autotoc_md631"></a>
1. Missing C++20 Support</h3>
<p><b>Error</b>: &lsquo;error: 'std::variant&rsquo; is not available before C++17`</p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Update compiler</div>
<div class="line"># GCC</div>
<div class="line">sudo apt-get install gcc-10 g++-10</div>
<div class="line">export CC=gcc-10 CXX=g++-10</div>
<div class="line"> </div>
<div class="line"># Clang</div>
<div class="line">sudo apt-get install clang-11</div>
<div class="line">export CC=clang-11 CXX=clang++-11</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md632"></a>
2. Missing Database Libraries</h3>
<p><b>Error</b>: <code>Could NOT find libpqxx (missing: libpqxx_LIBRARY libpqxx_INCLUDE_DIR)</code></p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Disable specific database if not needed</div>
<div class="line">cmake .. -DUSE_POSTGRESQL=OFF</div>
<div class="line"> </div>
<div class="line"># Or install the library</div>
<div class="line">sudo apt-get install libpqxx-dev</div>
<div class="line"> </div>
<div class="line"># Or use vcpkg</div>
<div class="line">vcpkg install libpqxx</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md633"></a>
3. CMake Version Too Old</h3>
<p><b>Error</b>: <code>CMake 3.16 or higher is required. You are running version 3.10.2</code></p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Ubuntu/Debian</div>
<div class="line">wget -O - https://apt.kitware.com/keys/kitware-archive-latest.asc 2&gt;/dev/null | gpg --dearmor - | sudo tee /etc/apt/trusted.gpg.d/kitware.gpg &gt;/dev/null</div>
<div class="line">sudo apt-add-repository &#39;deb https://apt.kitware.com/ubuntu/ focal main&#39;</div>
<div class="line">sudo apt-get update</div>
<div class="line">sudo apt-get install cmake</div>
<div class="line"> </div>
<div class="line"># Or build from source</div>
<div class="line">wget https://github.com/Kitware/CMake/releases/download/v3.26.0/cmake-3.26.0.tar.gz</div>
<div class="line">tar -xzf cmake-3.26.0.tar.gz</div>
<div class="line">cd cmake-3.26.0</div>
<div class="line">./bootstrap &amp;&amp; make -j$(nproc) &amp;&amp; sudo make install</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md634"></a>
4. Linking Errors</h3>
<p><b>Error</b>: &lsquo;undefined reference to 'pqxx::connection::connection(...)&rsquo;`</p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Make sure all dependencies are found</div>
<div class="line">cmake .. -DCMAKE_VERBOSE_MAKEFILE=ON</div>
<div class="line"> </div>
<div class="line"># Check if libraries are properly linked</div>
<div class="line">ldd bin/basic_usage</div>
<div class="line"> </div>
<div class="line"># For static linking issues</div>
<div class="line">cmake .. -DBUILD_SHARED_LIBS=OFF</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md635"></a>
5. MongoDB Driver Issues</h3>
<p><b>Error</b>: <code>Could NOT find mongocxx</code></p>
<p><b>Solution</b>: </p><div class="fragment"><div class="line"># Install MongoDB C++ driver manually</div>
<div class="line">git clone https://github.com/mongodb/mongo-cxx-driver.git</div>
<div class="line">cd mongo-cxx-driver</div>
<div class="line">mkdir build &amp;&amp; cd build</div>
<div class="line">cmake .. -DCMAKE_BUILD_TYPE=Release -DCMAKE_INSTALL_PREFIX=/usr/local</div>
<div class="line">make -j$(nproc) &amp;&amp; sudo make install</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md636"></a>
Build Verification</h2>
<p>After successful build, verify installation:</p>
<div class="fragment"><div class="line"># Check built files</div>
<div class="line">ls -la bin/</div>
<div class="line">ls -la lib/</div>
<div class="line"> </div>
<div class="line"># Run tests</div>
<div class="line">ctest --verbose</div>
<div class="line"> </div>
<div class="line"># Run samples</div>
<div class="line">./bin/basic_usage</div>
<div class="line">./bin/connection_pool_demo</div>
<div class="line">./bin/postgres_advanced  # If PostgreSQL enabled</div>
<div class="line"> </div>
<div class="line"># Check dependencies</div>
<div class="line">ldd bin/basic_usage  # Linux</div>
<div class="line">otool -L bin/basic_usage  # macOS</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md637"></a>
Advanced Configuration</h1>
<h2><a class="anchor" id="autotoc_md638"></a>
Custom Build Options</h2>
<h3><a class="anchor" id="autotoc_md639"></a>
Disabling Specific Features</h3>
<div class="fragment"><div class="line"># Minimal build - only core functionality</div>
<div class="line">cmake .. \</div>
<div class="line">  -DUSE_POSTGRESQL=OFF \</div>
<div class="line">  -DUSE_MYSQL=OFF \</div>
<div class="line">  -DUSE_SQLITE=OFF \</div>
<div class="line">  -DUSE_MONGODB=OFF \</div>
<div class="line">  -DUSE_REDIS=OFF \</div>
<div class="line">  -DBUILD_DATABASE_SAMPLES=OFF \</div>
<div class="line">  -DUSE_UNIT_TEST=OFF</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md640"></a>
Custom Installation Directory</h3>
<div class="fragment"><div class="line">cmake .. -DCMAKE_INSTALL_PREFIX=/opt/database_system</div>
<div class="line">ninja install</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md641"></a>
Cross-Compilation</h3>
<div class="fragment"><div class="line"># ARM64 cross-compilation example</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_TOOLCHAIN_FILE=arm64-toolchain.cmake \</div>
<div class="line">  -DUSE_POSTGRESQL=OFF \</div>
<div class="line">  -DUSE_MYSQL=OFF</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md642"></a>
Environment Variables</h2>
<div class="fragment"><div class="line"># Custom compiler</div>
<div class="line">export CC=/usr/bin/clang-12</div>
<div class="line">export CXX=/usr/bin/clang++-12</div>
<div class="line"> </div>
<div class="line"># Custom library paths</div>
<div class="line">export PKG_CONFIG_PATH=/usr/local/lib/pkgconfig:$PKG_CONFIG_PATH</div>
<div class="line">export LD_LIBRARY_PATH=/usr/local/lib:$LD_LIBRARY_PATH</div>
<div class="line"> </div>
<div class="line"># vcpkg integration</div>
<div class="line">export VCPKG_ROOT=/path/to/vcpkg</div>
<div class="line">export CMAKE_TOOLCHAIN_FILE=$VCPKG_ROOT/scripts/buildsystems/vcpkg.cmake</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md643"></a>
Performance Optimization</h2>
<h3><a class="anchor" id="autotoc_md644"></a>
Release Builds</h3>
<div class="fragment"><div class="line"># Maximum optimization</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Release \</div>
<div class="line">  -DCMAKE_CXX_FLAGS=&quot;-O3 -march=native -DNDEBUG&quot;</div>
<div class="line"> </div>
<div class="line"># Link-time optimization</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Release \</div>
<div class="line">  -DCMAKE_INTERPROCEDURAL_OPTIMIZATION=ON</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md645"></a>
Memory Optimization</h3>
<div class="fragment"><div class="line"># Minimal size build</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=MinSizeRel \</div>
<div class="line">  -DCMAKE_CXX_FLAGS=&quot;-Os -flto&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md646"></a>
IDE Integration</h2>
<h3><a class="anchor" id="autotoc_md647"></a>
VS Code</h3>
<div class="fragment"><div class="line">// .vscode/settings.json</div>
<div class="line">{</div>
<div class="line">    &quot;cmake.configureSettings&quot;: {</div>
<div class="line">        &quot;USE_POSTGRESQL&quot;: &quot;ON&quot;,</div>
<div class="line">        &quot;USE_MYSQL&quot;: &quot;ON&quot;,</div>
<div class="line">        &quot;USE_SQLITE&quot;: &quot;ON&quot;,</div>
<div class="line">        &quot;CMAKE_BUILD_TYPE&quot;: &quot;Debug&quot;</div>
<div class="line">    },</div>
<div class="line">    &quot;cmake.buildDirectory&quot;: &quot;${workspaceFolder}/build&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md648"></a>
CLion</h3>
<p>Configure CMake options in Settings → Build, Execution, Deployment → CMake:</p>
<div class="fragment"><div class="line">-DUSE_POSTGRESQL=ON -DUSE_MYSQL=ON -DUSE_SQLITE=ON</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md649"></a>
Visual Studio</h3>
<p>Use the CMake integration with vcpkg:</p>
<div class="fragment"><div class="line">// CMakeSettings.json</div>
<div class="line">{</div>
<div class="line">  &quot;configurations&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;name&quot;: &quot;x64-Release&quot;,</div>
<div class="line">      &quot;generator&quot;: &quot;Ninja&quot;,</div>
<div class="line">      &quot;configurationType&quot;: &quot;Release&quot;,</div>
<div class="line">      &quot;inheritEnvironments&quot;: [ &quot;msvc_x64_x64&quot; ],</div>
<div class="line">      &quot;buildRoot&quot;: &quot;${projectDir}\\build\\${name}&quot;,</div>
<div class="line">      &quot;installRoot&quot;: &quot;${projectDir}\\install\\${name}&quot;,</div>
<div class="line">      &quot;cmakeCommandArgs&quot;: &quot;-DUSE_POSTGRESQL=ON -DUSE_MYSQL=ON&quot;,</div>
<div class="line">      &quot;ctestCommandArgs&quot;: &quot;&quot;,</div>
<div class="line">      &quot;variables&quot;: [</div>
<div class="line">        {</div>
<div class="line">          &quot;name&quot;: &quot;CMAKE_TOOLCHAIN_FILE&quot;,</div>
<div class="line">          &quot;value&quot;: &quot;C:/vcpkg/scripts/buildsystems/vcpkg.cmake&quot;</div>
<div class="line">        }</div>
<div class="line">      ]</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md650"></a>
Continuous Integration</h1>
<h2><a class="anchor" id="autotoc_md651"></a>
GitHub Actions Example</h2>
<div class="fragment"><div class="line"># .github/workflows/build.yml</div>
<div class="line">name: Build and Test</div>
<div class="line"> </div>
<div class="line">on: [push, pull_request]</div>
<div class="line"> </div>
<div class="line">jobs:</div>
<div class="line">  build:</div>
<div class="line">    runs-on: ubuntu-latest</div>
<div class="line"> </div>
<div class="line">    strategy:</div>
<div class="line">      matrix:</div>
<div class="line">        compiler: [gcc-10, clang-11]</div>
<div class="line">        build_type: [Debug, Release]</div>
<div class="line"> </div>
<div class="line">    steps:</div>
<div class="line">    - uses: actions/checkout@v3</div>
<div class="line"> </div>
<div class="line">    - name: Install dependencies</div>
<div class="line">      run: |</div>
<div class="line">        sudo apt-get update</div>
<div class="line">        sudo apt-get install ${{ matrix.compiler }} cmake ninja-build</div>
<div class="line"> </div>
<div class="line">    - name: Configure</div>
<div class="line">      run: |</div>
<div class="line">        mkdir build &amp;&amp; cd build</div>
<div class="line">        export CC=${{ matrix.compiler }}</div>
<div class="line">        export CXX=${CC/gcc/g++}</div>
<div class="line">        export CXX=${CXX/clang/clang++}</div>
<div class="line">        cmake .. -GNinja -DCMAKE_BUILD_TYPE=${{ matrix.build_type }}</div>
<div class="line"> </div>
<div class="line">    - name: Build</div>
<div class="line">      run: |</div>
<div class="line">        cd build</div>
<div class="line">        ninja</div>
<div class="line"> </div>
<div class="line">    - name: Test</div>
<div class="line">      run: |</div>
<div class="line">        cd build</div>
<div class="line">        ctest --verbose</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md652"></a>
Docker Build</h2>
<div class="fragment"><div class="line"><span class="preprocessor"># Dockerfile</span></div>
<div class="line">FROM ubuntu:22.04</div>
<div class="line"> </div>
<div class="line">RUN apt-get update &amp;&amp; apt-get install -y \</div>
<div class="line">    build-essential \</div>
<div class="line">    cmake \</div>
<div class="line">    ninja-build \</div>
<div class="line">    git \</div>
<div class="line">    libpqxx-dev \</div>
<div class="line">    libmysqlclient-dev \</div>
<div class="line">    libsqlite3-dev \</div>
<div class="line">    &amp;&amp; rm -rf /var/lib/apt/lists<span class="comment">/*</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">WORKDIR /app</span></div>
<div class="line"><span class="comment">COPY . .</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">RUN mkdir build &amp;&amp; cd build &amp;&amp; \</span></div>
<div class="line"><span class="comment">    cmake .. -GNinja -DCMAKE_BUILD_TYPE=Release \</span></div>
<div class="line"><span class="comment">    -DUSE_POSTGRESQL=ON -DUSE_MYSQL=ON -DUSE_SQLITE=ON &amp;&amp; \</span></div>
<div class="line"><span class="comment">    ninja</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">CMD [&quot;./build/bin/basic_usage&quot;]</span></div>
</div><!-- fragment --><hr  />
<p>For additional help or issues not covered here, please:</p><ol type="1">
<li>Check the <a href="../../README.md#troubleshooting">troubleshooting section</a> in the main README</li>
<li>Search existing <a href="https://github.com/kcenon/database_system/issues">GitHub issues</a></li>
<li>Create a new issue with your build configuration and error details </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
