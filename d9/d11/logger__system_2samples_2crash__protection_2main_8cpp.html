<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: libraries/logger_system/samples/crash_protection/main.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Logger crash protection demonstration.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d00/logger__crash__safety_8h_source.html">interfaces/logger_crash_safety.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d8c/logger_8h_source.html">logger/logger.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../dc/d9a/console__writer_8h_source.html">logger/writers/console_writer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d76/file__writer_8h_source.html">logger/writers/file_writer.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d43/logger__system_2samples_2crash__protection_2main_8cpp__incl.png" border="0" usemap="#alibraries_2logger__system_2samples_2crash__protection_2main_8cpp" alt=""/></div>
<map name="alibraries_2logger__system_2samples_2crash__protection_2main_8cpp" id="alibraries_2logger__system_2samples_2crash__protection_2main_8cpp">
<area shape="rect" title="Logger crash protection demonstration." alt="" coords="633,5,826,60"/>
<area shape="rect" title=" " alt="" coords="5,115,85,141"/>
<area shape="poly" title=" " alt="" coords="633,42,391,65,247,84,105,111,91,114,90,109,103,105,247,79,391,59,632,37"/>
<area shape="rect" title=" " alt="" coords="752,196,816,221"/>
<area shape="poly" title=" " alt="" coords="740,60,779,182,774,184,735,61"/>
<area shape="rect" title=" " alt="" coords="436,269,503,295"/>
<area shape="poly" title=" " alt="" coords="633,47,510,70,445,87,381,110,304,141,276,162,252,197,246,219,253,236,270,249,295,260,359,273,422,278,422,283,358,278,293,265,267,254,248,239,241,219,247,195,273,158,302,137,379,106,443,82,509,64,632,42"/>
<area shape="rect" title=" " alt="" coords="392,115,464,141"/>
<area shape="poly" title=" " alt="" coords="633,63,477,111,470,113,468,108,475,105,632,58"/>
<area shape="rect" title=" " alt="" coords="665,196,727,221"/>
<area shape="poly" title=" " alt="" coords="727,61,703,183,698,182,722,60"/>
<area shape="rect" title=" " alt="" coords="495,343,572,368"/>
<area shape="poly" title=" " alt="" coords="633,43,538,52,437,65,347,85,312,97,287,110,266,128,255,147,241,196,240,223,245,255,254,293,269,304,292,313,352,329,420,340,482,347,481,353,419,346,351,334,290,318,267,308,250,296,239,256,235,224,236,196,250,145,262,125,284,106,310,92,346,80,436,60,538,46,632,38"/>
<area shape="rect" title=" " alt="" coords="1203,269,1269,295"/>
<area shape="poly" title=" " alt="" coords="827,45,952,67,1091,100,1156,120,1214,142,1259,167,1289,195,1295,212,1290,231,1278,248,1264,262,1260,259,1274,244,1285,228,1289,213,1284,197,1256,171,1211,147,1155,125,1090,105,951,73,826,50"/>
<area shape="rect" title=" " alt="" coords="1201,196,1274,221"/>
<area shape="poly" title=" " alt="" coords="807,58,1192,189,1190,194,805,63"/>
<area shape="rect" href="../../d0/d00/logger__crash__safety_8h.html" title=" " alt="" coords="489,108,663,148"/>
<area shape="poly" title=" " alt="" coords="688,62,620,103,618,98,685,58"/>
<area shape="rect" href="../../d1/d8c/logger_8h.html" title=" " alt="" coords="794,115,913,141"/>
<area shape="poly" title=" " alt="" coords="766,58,828,105,825,109,763,62"/>
<area shape="rect" href="../../dc/d9a/console__writer_8h.html" title=" " alt="" coords="1510,108,1677,148"/>
<area shape="poly" title=" " alt="" coords="826,38,1122,62,1307,81,1497,105,1496,111,1306,86,1121,67,826,43"/>
<area shape="rect" href="../../d0/d76/file__writer_8h.html" title=" " alt="" coords="1349,108,1485,148"/>
<area shape="poly" title=" " alt="" coords="826,41,1057,66,1331,105,1336,106,1335,112,1330,111,1056,72,826,46"/>
<area shape="poly" title=" " alt="" coords="627,146,742,189,740,194,625,151"/>
<area shape="poly" title=" " alt="" coords="503,150,468,170,453,182,441,197,436,212,438,227,453,257,448,259,433,228,431,211,436,195,449,179,465,165,500,146"/>
<area shape="poly" title=" " alt="" coords="607,146,668,186,665,191,604,150"/>
<area shape="poly" title=" " alt="" coords="489,148,335,179,251,198,242,213,238,226,239,239,244,251,267,274,303,294,347,311,394,325,482,343,481,349,393,330,345,316,301,299,264,278,240,255,234,241,233,226,237,210,248,194,334,173,488,143"/>
<area shape="poly" title=" " alt="" coords="588,147,615,185,633,204,655,219,698,235,755,246,892,257,1032,261,1140,267,1189,272,1188,278,1140,272,1032,267,892,263,754,251,697,240,652,224,630,208,611,189,584,150"/>
<area shape="poly" title=" " alt="" coords="664,137,1187,199,1187,204,663,142"/>
<area shape="rect" title=" " alt="" coords="451,196,538,221"/>
<area shape="poly" title=" " alt="" coords="558,150,519,188,515,184,554,146"/>
<area shape="rect" title=" " alt="" coords="1332,343,1396,368"/>
<area shape="poly" title=" " alt="" coords="582,147,594,184,604,203,618,219,646,242,673,258,698,268,724,274,780,281,850,292,982,316,1114,332,1318,349,1318,354,1114,337,982,321,849,297,779,287,723,279,696,273,670,263,643,247,614,223,600,206,589,186,577,149"/>
<area shape="rect" title=" " alt="" coords="1093,343,1152,368"/>
<area shape="poly" title=" " alt="" coords="498,150,461,169,445,182,431,198,416,223,409,247,411,270,426,293,438,301,460,308,525,321,613,331,714,339,922,348,1080,351,1080,356,922,353,714,344,612,337,524,327,458,314,436,306,422,297,406,272,403,246,411,221,427,194,441,178,458,165,495,146"/>
<area shape="rect" title=" " alt="" coords="262,196,325,221"/>
<area shape="poly" title=" " alt="" coords="509,151,339,198,337,192,508,145"/>
<area shape="poly" title=" " alt="" coords="845,143,805,187,801,184,841,139"/>
<area shape="poly" title=" " alt="" coords="832,143,732,192,730,188,829,138"/>
<area shape="poly" title=" " alt="" coords="856,141,850,180,843,203,830,223,804,249,774,272,709,308,643,332,586,347,585,342,642,327,707,303,771,268,800,245,826,220,838,200,845,179,851,141"/>
<area shape="poly" title=" " alt="" coords="907,138,993,161,1088,194,1154,226,1209,259,1206,264,1151,231,1086,198,991,166,906,143"/>
<area shape="rect" href="../../d7/d44/logger__system_2sources_2logger_2logger__interface_8h.html" title=" " alt="" coords="1294,269,1434,295"/>
<area shape="poly" title=" " alt="" coords="906,138,1029,166,1132,193,1190,219,1316,263,1314,268,1188,224,1130,199,1028,171,905,143"/>
<area shape="rect" href="../../db/dd9/logger__metrics_8h.html" title=" " alt="" coords="891,196,1075,221"/>
<area shape="poly" title=" " alt="" coords="874,139,953,186,951,191,871,143"/>
<area shape="poly" title=" " alt="" coords="1294,296,1282,297,882,333,586,354,586,348,882,328,1281,292,1293,291"/>
<area shape="poly" title=" " alt="" coords="1367,295,1367,329,1361,329,1361,295"/>
<area shape="poly" title=" " alt="" coords="1326,297,1166,344,1165,339,1324,292"/>
<area shape="poly" title=" " alt="" coords="901,224,517,277,516,272,900,219"/>
<area shape="poly" title=" " alt="" coords="1024,219,1190,265,1188,270,1023,224"/>
<area shape="poly" title=" " alt="" coords="1017,219,1141,267,1192,292,1320,338,1318,343,1190,297,1139,272,1015,224"/>
<area shape="poly" title=" " alt="" coords="983,222,982,256,986,276,994,293,1012,312,1034,326,1081,344,1079,349,1031,330,1009,316,990,296,981,277,977,257,978,222"/>
<area shape="rect" title=" " alt="" coords="861,269,928,295"/>
<area shape="poly" title=" " alt="" coords="970,223,921,263,918,258,967,219"/>
<area shape="rect" title=" " alt="" coords="1003,269,1127,295"/>
<area shape="poly" title=" " alt="" coords="998,219,1043,258,1040,262,994,223"/>
<area shape="poly" title=" " alt="" coords="1590,149,1560,220,1535,260,1503,297,1481,313,1458,327,1410,345,1408,340,1455,322,1479,309,1500,293,1531,257,1555,217,1585,147"/>
<area shape="rect" href="../../d2/d49/base__writer_8h.html" title=" " alt="" coords="1400,196,1509,221"/>
<area shape="poly" title=" " alt="" coords="1561,150,1488,191,1486,187,1559,146"/>
<area shape="poly" title=" " alt="" coords="1400,217,517,280,516,275,1400,211"/>
<area shape="poly" title=" " alt="" coords="1460,221,1463,258,1459,278,1449,296,1428,311,1399,323,1322,340,1238,350,1166,355,1166,350,1238,345,1322,335,1397,318,1426,306,1445,293,1454,276,1458,257,1455,222"/>
<area shape="poly" title=" " alt="" coords="1442,223,1391,263,1388,258,1438,219"/>
<area shape="poly" title=" " alt="" coords="1404,150,1372,186,1332,223,1271,264,1268,260,1329,219,1369,182,1400,147"/>
<area shape="poly" title=" " alt="" coords="1375,150,1277,193,1275,188,1373,146"/>
<area shape="poly" title=" " alt="" coords="1468,146,1499,166,1524,195,1527,208,1524,222,1505,264,1472,297,1440,321,1406,339,1404,334,1437,316,1469,293,1500,261,1519,220,1522,208,1519,197,1496,170,1465,150"/>
<area shape="poly" title=" " alt="" coords="1429,147,1446,182,1441,185,1424,149"/>
</map>
</div>
</div>
<p><a href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5bc6a21584d426a099d56f8da2caa8e3" id="r_a5bc6a21584d426a099d56f8da2caa8e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a5bc6a21584d426a099d56f8da2caa8e3">simulate_logger_crash</a> ()</td></tr>
<tr class="separator:a5bc6a21584d426a099d56f8da2caa8e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b09b7da03511a3b2f28d4434b084a50" id="r_a2b09b7da03511a3b2f28d4434b084a50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a2b09b7da03511a3b2f28d4434b084a50">simulate_file_corruption</a> ()</td></tr>
<tr class="separator:a2b09b7da03511a3b2f28d4434b084a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa663dffac038f362bc66c1a33f4219aa" id="r_aa663dffac038f362bc66c1a33f4219aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#aa663dffac038f362bc66c1a33f4219aa">simulate_disk_full</a> ()</td></tr>
<tr class="separator:aa663dffac038f362bc66c1a33f4219aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae28ea5bb233feb5f57a0f71a00a70e8b" id="r_ae28ea5bb233feb5f57a0f71a00a70e8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#ae28ea5bb233feb5f57a0f71a00a70e8b">normal_logging_task</a> (int task_id, std::shared_ptr&lt; <a class="el" href="../../da/d2e/classlogger__module_1_1logger.html">logger</a> &gt; logger_instance)</td></tr>
<tr class="separator:ae28ea5bb233feb5f57a0f71a00a70e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775892bc97b78484c588300394820d11" id="r_a775892bc97b78484c588300394820d11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a775892bc97b78484c588300394820d11">heavy_logging_task</a> (int task_id, std::shared_ptr&lt; <a class="el" href="../../da/d2e/classlogger__module_1_1logger.html">logger</a> &gt; logger_instance)</td></tr>
<tr class="separator:a775892bc97b78484c588300394820d11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5b4bb1dac72df29c0d9339dd383b2cb" id="r_ad5b4bb1dac72df29c0d9339dd383b2cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#ad5b4bb1dac72df29c0d9339dd383b2cb">potentially_crashing_logging_task</a> (int task_id, std::shared_ptr&lt; <a class="el" href="../../da/d2e/classlogger__module_1_1logger.html">logger</a> &gt; logger_instance)</td></tr>
<tr class="separator:ad5b4bb1dac72df29c0d9339dd383b2cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1a95e10e0cada2b2110223a076470bc" id="r_aa1a95e10e0cada2b2110223a076470bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#aa1a95e10e0cada2b2110223a076470bc">on_logger_crash</a> (const std::string &amp;logger_name)</td></tr>
<tr class="separator:aa1a95e10e0cada2b2110223a076470bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608a4798b43cf47b38641ea8177cdd2d" id="r_a608a4798b43cf47b38641ea8177cdd2d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a608a4798b43cf47b38641ea8177cdd2d">flush_main_logger</a> ()</td></tr>
<tr class="separator:a608a4798b43cf47b38641ea8177cdd2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3108b0d92c1b74b8bdece3c1f7cc76" id="r_a7a3108b0d92c1b74b8bdece3c1f7cc76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a7a3108b0d92c1b74b8bdece3c1f7cc76">backup_main_logger</a> (const std::string &amp;backup_path)</td></tr>
<tr class="separator:a7a3108b0d92c1b74b8bdece3c1f7cc76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1145df70046abd0098a28b3ef9e00ff" id="r_aa1145df70046abd0098a28b3ef9e00ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#aa1145df70046abd0098a28b3ef9e00ff">save_emergency_state</a> ()</td></tr>
<tr class="separator:aa1145df70046abd0098a28b3ef9e00ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a287c9d574a7aeba3aacd3b3276f7a501" id="r_a287c9d574a7aeba3aacd3b3276f7a501"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a287c9d574a7aeba3aacd3b3276f7a501">logging_active</a> {true}</td></tr>
<tr class="separator:a287c9d574a7aeba3aacd3b3276f7a501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a613f5438c7fb32191a2dc5b4a21c1b19" id="r_a613f5438c7fb32191a2dc5b4a21c1b19"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a613f5438c7fb32191a2dc5b4a21c1b19">logs_written</a> {0}</td></tr>
<tr class="separator:a613f5438c7fb32191a2dc5b4a21c1b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e6faf05cfb04ebba02f4ae8e9a53af6" id="r_a8e6faf05cfb04ebba02f4ae8e9a53af6"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html#a8e6faf05cfb04ebba02f4ae8e9a53af6">emergency_logs</a> {0}</td></tr>
<tr class="separator:a8e6faf05cfb04ebba02f4ae8e9a53af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Logger crash protection demonstration. </p>
<p>This example demonstrates comprehensive crash protection mechanisms for logging systems including emergency logging, log file recovery, automatic backups, and signal-safe logging operations. </p>

<p class="definition">Definition in file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a7a3108b0d92c1b74b8bdece3c1f7cc76" name="a7a3108b0d92c1b74b8bdece3c1f7cc76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3108b0d92c1b74b8bdece3c1f7cc76">&#9670;&#160;</a></span>backup_main_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void backup_main_logger </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>backup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>.</p>

</div>
</div>
<a id="a608a4798b43cf47b38641ea8177cdd2d" name="a608a4798b43cf47b38641ea8177cdd2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a608a4798b43cf47b38641ea8177cdd2d">&#9670;&#160;</a></span>flush_main_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flush_main_logger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00143">143</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>.</p>

</div>
</div>
<a id="a775892bc97b78484c588300394820d11" name="a775892bc97b78484c588300394820d11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a775892bc97b78484c588300394820d11">&#9670;&#160;</a></span>heavy_logging_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void heavy_logging_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../da/d2e/classlogger__module_1_1logger.html">logger</a> &gt;&#160;</td>
          <td class="paramname"><em>logger_instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00072">72</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00029">logs_written</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>.</p>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">164</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00147">backup_main_logger()</a>, <a class="el" href="../../da/d71/classlogger__module_1_1async__logger__crash__safety.html#ae87054f842e7515327f2a7e424d75a7a">logger_module::async_logger_crash_safety::configure_async_safety()</a>, <a class="el" href="../../d2/d37/classlogger__module_1_1log__file__recovery.html#a2860177acc82af95f6a967bd18e16954">logger_module::log_file_recovery::create_backup_with_checksum()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00030">emergency_logs</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00143">flush_main_logger()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00072">heavy_logging_task()</a>, <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#a128a80c6046017c9391e6645bba35a6a">logger_module::logger_crash_safety::instance()</a>, <a class="el" href="../../d2/d37/classlogger__module_1_1log__file__recovery.html#aa80b0a8758b0cf175c7b73666e4f17f1">logger_module::log_file_recovery::is_corrupted()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00028">logging_active</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00029">logs_written</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00056">normal_logging_task()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00094">potentially_crashing_logging_task()</a>, <a class="el" href="../../d2/d37/classlogger__module_1_1log__file__recovery.html#a2beaf48855c1046922c0b073fa91ffe3">logger_module::log_file_recovery::recover_file()</a>, <a class="el" href="../../da/d71/classlogger__module_1_1async__logger__crash__safety.html#a35d400d439f6054f5a70552780bf97a7">logger_module::async_logger_crash_safety::set_overflow_handler()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00038">simulate_file_corruption()</a>, and <a class="el" href="../../d2/d37/classlogger__module_1_1log__file__recovery.html#afe773958d22a6169ef5a46be6a02e724">logger_module::log_file_recovery::verify_integrity()</a>.</p>

</div>
</div>
<a id="ae28ea5bb233feb5f57a0f71a00a70e8b" name="ae28ea5bb233feb5f57a0f71a00a70e8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae28ea5bb233feb5f57a0f71a00a70e8b">&#9670;&#160;</a></span>normal_logging_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void normal_logging_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../da/d2e/classlogger__module_1_1logger.html">logger</a> &gt;&#160;</td>
          <td class="paramname"><em>logger_instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00056">56</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00029">logs_written</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>.</p>

</div>
</div>
<a id="aa1a95e10e0cada2b2110223a076470bc" name="aa1a95e10e0cada2b2110223a076470bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1a95e10e0cada2b2110223a076470bc">&#9670;&#160;</a></span>on_logger_crash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void on_logger_crash </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>logger_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00133">133</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#aa65ffbfa80f1298a24e563311d39f01f">logger_module::logger_crash_safety::emergency_log()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00030">emergency_logs</a>, <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#a128a80c6046017c9391e6645bba35a6a">logger_module::logger_crash_safety::instance()</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00028">logging_active</a>.</p>

</div>
</div>
<a id="ad5b4bb1dac72df29c0d9339dd383b2cb" name="ad5b4bb1dac72df29c0d9339dd383b2cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5b4bb1dac72df29c0d9339dd383b2cb">&#9670;&#160;</a></span>potentially_crashing_logging_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void potentially_crashing_logging_task </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../da/d2e/classlogger__module_1_1logger.html">logger</a> &gt;&#160;</td>
          <td class="paramname"><em>logger_instance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00094">94</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#aa65ffbfa80f1298a24e563311d39f01f">logger_module::logger_crash_safety::emergency_log()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00030">emergency_logs</a>, <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#a128a80c6046017c9391e6645bba35a6a">logger_module::logger_crash_safety::instance()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00029">logs_written</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00038">simulate_file_corruption()</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00033">simulate_logger_crash()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>.</p>

</div>
</div>
<a id="aa1145df70046abd0098a28b3ef9e00ff" name="aa1145df70046abd0098a28b3ef9e00ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1145df70046abd0098a28b3ef9e00ff">&#9670;&#160;</a></span>save_emergency_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void save_emergency_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00158">158</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00030">emergency_logs</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00029">logs_written</a>.</p>

</div>
</div>
<a id="aa663dffac038f362bc66c1a33f4219aa" name="aa663dffac038f362bc66c1a33f4219aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa663dffac038f362bc66c1a33f4219aa">&#9670;&#160;</a></span>simulate_disk_full()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_disk_full </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00048">48</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#aa65ffbfa80f1298a24e563311d39f01f">logger_module::logger_crash_safety::emergency_log()</a>, and <a class="el" href="../../d5/d70/classlogger__module_1_1logger__crash__safety.html#a128a80c6046017c9391e6645bba35a6a">logger_module::logger_crash_safety::instance()</a>.</p>

</div>
</div>
<a id="a2b09b7da03511a3b2f28d4434b084a50" name="a2b09b7da03511a3b2f28d4434b084a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b09b7da03511a3b2f28d4434b084a50">&#9670;&#160;</a></span>simulate_file_corruption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_file_corruption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00038">38</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00094">potentially_crashing_logging_task()</a>.</p>

</div>
</div>
<a id="a5bc6a21584d426a099d56f8da2caa8e3" name="a5bc6a21584d426a099d56f8da2caa8e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bc6a21584d426a099d56f8da2caa8e3">&#9670;&#160;</a></span>simulate_logger_crash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void simulate_logger_crash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00033">33</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00094">potentially_crashing_logging_task()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8e6faf05cfb04ebba02f4ae8e9a53af6" name="a8e6faf05cfb04ebba02f4ae8e9a53af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e6faf05cfb04ebba02f4ae8e9a53af6">&#9670;&#160;</a></span>emergency_logs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int&gt; emergency_logs {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00030">30</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00133">on_logger_crash()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00094">potentially_crashing_logging_task()</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00158">save_emergency_state()</a>.</p>

</div>
</div>
<a id="a287c9d574a7aeba3aacd3b3276f7a501" name="a287c9d574a7aeba3aacd3b3276f7a501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287c9d574a7aeba3aacd3b3276f7a501">&#9670;&#160;</a></span>logging_active</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; logging_active {true}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00028">28</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00133">on_logger_crash()</a>.</p>

</div>
</div>
<a id="a613f5438c7fb32191a2dc5b4a21c1b19" name="a613f5438c7fb32191a2dc5b4a21c1b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a613f5438c7fb32191a2dc5b4a21c1b19">&#9670;&#160;</a></span>logs_written</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;int&gt; logs_written {0}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00029">29</a> of file <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html">main.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00072">heavy_logging_task()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00164">main()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00056">normal_logging_task()</a>, <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00094">potentially_crashing_logging_task()</a>, and <a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp_source.html#l00158">save_emergency_state()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_bc0718b08fb2015b8e59c47b2805f60c.html">libraries</a></li><li class="navelem"><a class="el" href="../../dir_1d07fac6b1a9d651388bf1558080144d.html">logger_system</a></li><li class="navelem"><a class="el" href="../../dir_fc9d966c4e96cf5505f757ee18fecfda.html">samples</a></li><li class="navelem"><a class="el" href="../../dir_d21da06bc3da543bc8de13d37afaf8af.html">crash_protection</a></li><li class="navelem"><a class="el" href="../../d9/d11/logger__system_2samples_2crash__protection_2main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
