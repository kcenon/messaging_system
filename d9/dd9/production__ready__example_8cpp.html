<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: application_layer/samples/production_ready_example.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/dd9/production__ready__example_8cpp.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">production_ready_example.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Production-ready messaging system with signal handling, config, metrics, and error recovery.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="../../d6/deb/system__integrator_8h_source.html">kcenon/messaging/integrations/system_integrator.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d16/config_8h_source.html">kcenon/messaging/core/config.h</a>&gt;</code><br />
<code>#include &lt;logger/logger.h&gt;</code><br />
<code>#include &lt;logger/writers/console_writer.h&gt;</code><br />
<code>#include &lt;logger/writers/rotating_file_writer.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;csignal&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;map&gt;</code><br />
<code>#include &lt;mutex&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for production_ready_example.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d3c/production__ready__example_8cpp__incl.png" border="0" usemap="#aapplication__layer_2samples_2production__ready__example_8cpp" alt=""/></div>
<map name="aapplication__layer_2samples_2production__ready__example_8cpp" id="aapplication__layer_2samples_2production__ready__example_8cpp">
<area shape="rect" title="Production&#45;ready messaging system with signal handling, config, metrics, and error recovery." alt="" coords="1670,5,1901,45"/>
<area shape="rect" href="../../d6/deb/system__integrator_8h.html" title=" " alt="" coords="385,93,612,133"/>
<area shape="poly" title=" " alt="" coords="1670,37,626,106,626,101,1669,32"/>
<area shape="rect" title=" " alt="" coords="1161,563,1228,588"/>
<area shape="poly" title=" " alt="" coords="1692,48,1645,67,1603,95,1581,118,1567,138,1560,162,1557,193,1557,430,1556,478,1548,497,1531,517,1515,524,1488,532,1411,547,1242,571,1242,566,1410,542,1487,527,1514,519,1528,513,1543,495,1550,477,1552,430,1552,193,1554,161,1562,136,1577,114,1600,91,1643,62,1690,43"/>
<area shape="rect" title=" " alt="" coords="1324,563,1391,588"/>
<area shape="poly" title=" " alt="" coords="1706,48,1667,67,1634,95,1615,122,1602,149,1594,176,1590,202,1590,254,1597,306,1604,358,1603,410,1598,437,1588,463,1573,490,1553,517,1520,543,1481,560,1441,570,1405,575,1404,570,1440,565,1479,555,1517,538,1549,513,1569,487,1583,461,1593,435,1598,410,1598,358,1592,307,1585,255,1584,202,1589,175,1597,147,1611,120,1630,92,1664,62,1703,43"/>
<area shape="rect" title=" " alt="" coords="1147,489,1211,515"/>
<area shape="poly" title=" " alt="" coords="1670,39,1553,59,1492,75,1433,96,1380,113,1335,128,1317,137,1304,150,1295,168,1292,193,1292,349,1290,371,1283,391,1262,428,1235,459,1208,483,1204,479,1231,455,1258,425,1279,389,1284,370,1287,349,1287,192,1290,167,1299,147,1314,133,1333,123,1379,108,1431,91,1490,70,1552,53,1669,33"/>
<area shape="rect" title=" " alt="" coords="1235,489,1378,515"/>
<area shape="poly" title=" " alt="" coords="1670,34,1586,49,1543,61,1504,77,1470,98,1444,123,1426,155,1420,193,1420,269,1417,301,1410,332,1386,391,1356,442,1328,480,1324,477,1351,439,1381,389,1405,331,1412,300,1415,269,1415,192,1421,153,1440,120,1467,93,1502,72,1542,56,1584,43,1669,29"/>
<area shape="rect" title=" " alt="" coords="1453,489,1517,515"/>
<area shape="poly" title=" " alt="" coords="1670,38,1600,58,1567,74,1538,95,1516,117,1504,138,1499,162,1497,193,1497,349,1490,476,1485,476,1492,349,1492,193,1493,161,1499,136,1512,114,1534,91,1565,70,1598,53,1669,33"/>
<area shape="rect" href="../../db/d16/config_8h.html" title=" " alt="" coords="440,255,557,280"/>
<area shape="poly" title=" " alt="" coords="1670,41,1483,64,1271,96,1064,136,861,181,557,254,555,249,860,175,1063,131,1270,91,1482,59,1670,36"/>
<area shape="rect" title=" " alt="" coords="1643,101,1762,126"/>
<area shape="poly" title=" " alt="" coords="1769,47,1725,92,1722,89,1765,44"/>
<area shape="rect" title=" " alt="" coords="1786,93,1953,133"/>
<area shape="poly" title=" " alt="" coords="1806,44,1843,82,1839,85,1802,47"/>
<area shape="rect" title=" " alt="" coords="1977,93,2143,133"/>
<area shape="poly" title=" " alt="" coords="1846,43,1987,87,1986,92,1845,48"/>
<area shape="rect" title=" " alt="" coords="2168,101,2248,126"/>
<area shape="poly" title=" " alt="" coords="1901,40,2025,61,2157,91,2167,94,2165,99,2155,96,2024,66,1900,45"/>
<area shape="rect" title=" " alt="" coords="2272,101,2347,126"/>
<area shape="poly" title=" " alt="" coords="1901,33,2072,54,2167,70,2261,91,2271,94,2269,99,2259,96,2166,75,2071,59,1901,38"/>
<area shape="rect" title=" " alt="" coords="2371,101,2445,126"/>
<area shape="poly" title=" " alt="" coords="1901,29,2116,48,2238,66,2359,91,2369,94,2368,99,2358,96,2237,71,2115,54,1901,34"/>
<area shape="rect" title=" " alt="" coords="2469,101,2537,126"/>
<area shape="poly" title=" " alt="" coords="1901,25,2018,30,2159,42,2309,61,2458,91,2467,93,2465,98,2457,96,2308,66,2158,47,2018,36,1901,31"/>
<area shape="rect" title=" " alt="" coords="2561,101,2612,126"/>
<area shape="poly" title=" " alt="" coords="1901,29,2249,50,2424,68,2495,79,2550,91,2555,92,2554,98,2549,96,2494,84,2423,73,2249,56,1901,34"/>
<area shape="rect" title=" " alt="" coords="2636,101,2708,126"/>
<area shape="poly" title=" " alt="" coords="1901,29,2286,52,2482,69,2625,91,2634,93,2633,99,2623,96,2482,75,2286,57,1901,34"/>
<area shape="rect" href="../../dd/d28/service__container_8h.html" title=" " alt="" coords="246,181,394,207"/>
<area shape="poly" title=" " alt="" coords="457,136,360,178,358,173,455,131"/>
<area shape="poly" title=" " alt="" coords="501,134,501,241,496,241,496,134"/>
<area shape="rect" href="../../d9/d29/message__bus_8h.html" title=" " alt="" coords="821,416,987,441"/>
<area shape="poly" title=" " alt="" coords="395,204,476,220,574,245,678,280,777,326,837,365,884,405,880,409,833,369,775,330,676,285,573,251,475,226,394,209"/>
<area shape="rect" title=" " alt="" coords="493,563,552,588"/>
<area shape="poly" title=" " alt="" coords="316,208,289,266,277,306,272,347,272,430,278,447,294,465,349,501,418,533,481,557,480,562,416,538,347,506,290,469,273,450,267,430,267,347,272,305,284,264,311,206"/>
<area shape="rect" title=" " alt="" coords="224,563,301,588"/>
<area shape="poly" title=" " alt="" coords="246,208,150,228,109,241,83,257,67,277,60,296,59,347,59,430,63,456,74,479,91,498,112,515,162,542,212,560,210,565,160,547,109,520,87,502,69,481,58,457,53,430,53,347,55,295,62,274,80,253,107,236,149,223,245,203"/>
<area shape="rect" title=" " alt="" coords="326,563,450,588"/>
<area shape="poly" title=" " alt="" coords="300,209,274,228,253,256,234,306,228,348,235,390,253,440,274,476,301,507,331,533,358,553,355,557,327,537,297,511,269,479,248,442,230,391,223,348,229,304,248,253,270,225,297,205"/>
<area shape="rect" title=" " alt="" coords="789,563,851,588"/>
<area shape="poly" title=" " alt="" coords="395,196,538,206,728,228,834,245,942,267,1049,293,1153,325,1234,352,1298,378,1325,396,1349,419,1371,449,1392,488,1397,503,1391,516,1363,531,1311,542,1162,559,996,570,865,575,865,570,996,565,1162,554,1310,537,1361,526,1387,513,1391,503,1387,490,1367,452,1345,423,1322,400,1295,383,1232,357,1151,331,1048,298,941,272,833,251,728,234,537,211,394,201"/>
<area shape="rect" title=" " alt="" coords="46,563,133,588"/>
<area shape="poly" title=" " alt="" coords="246,199,201,204,152,214,103,231,59,257,35,276,19,295,11,317,8,347,8,430,14,466,29,499,49,528,70,551,65,555,45,531,25,502,9,467,3,430,3,347,6,316,15,292,31,272,56,252,101,227,150,209,200,199,246,194"/>
<area shape="poly" title=" " alt="" coords="350,204,458,247,456,252,348,209"/>
<area shape="rect" href="../../db/dca/service__interface_8h.html" title=" " alt="" coords="523,416,682,441"/>
<area shape="poly" title=" " alt="" coords="336,205,580,405,576,409,332,209"/>
<area shape="rect" title=" " alt="" coords="94,255,181,280"/>
<area shape="poly" title=" " alt="" coords="292,209,181,252,179,247,290,204"/>
<area shape="rect" href="../../d5/dd2/message__types_8h.html" title=" " alt="" coords="611,489,747,515"/>
<area shape="poly" title=" " alt="" coords="869,444,729,488,727,483,867,439"/>
<area shape="poly" title=" " alt="" coords="889,444,833,480,760,517,709,535,656,550,566,570,565,564,655,545,707,530,758,512,831,475,886,439"/>
<area shape="poly" title=" " alt="" coords="821,442,681,461,523,492,311,561,310,556,522,487,680,456,820,436"/>
<area shape="poly" title=" " alt="" coords="824,444,716,463,599,492,505,525,426,559,423,554,503,520,598,487,715,458,823,439"/>
<area shape="poly" title=" " alt="" coords="953,439,990,451,1022,468,1034,478,1041,489,1042,502,1035,516,1008,535,964,551,866,570,865,565,962,545,1005,531,1031,513,1037,502,1036,491,1030,481,1019,472,988,456,952,444"/>
<area shape="poly" title=" " alt="" coords="933,439,1023,473,1135,512,1311,560,1310,565,1134,517,1021,478,932,444"/>
<area shape="rect" title=" " alt="" coords="873,489,935,515"/>
<area shape="poly" title=" " alt="" coords="907,442,907,476,901,476,901,442"/>
<area shape="poly" title=" " alt="" coords="949,439,1134,487,1133,492,947,444"/>
<area shape="poly" title=" " alt="" coords="969,439,1229,484,1228,490,968,444"/>
<area shape="poly" title=" " alt="" coords="988,438,1440,492,1440,498,988,443"/>
<area shape="rect" title=" " alt="" coords="960,489,1021,515"/>
<area shape="poly" title=" " alt="" coords="920,439,968,478,964,483,916,443"/>
<area shape="poly" title=" " alt="" coords="655,517,562,559,560,554,653,512"/>
<area shape="poly" title=" " alt="" coords="611,516,315,565,314,560,610,511"/>
<area shape="poly" title=" " alt="" coords="748,510,1148,565,1147,570,747,515"/>
<area shape="poly" title=" " alt="" coords="633,517,449,562,447,557,631,512"/>
<area shape="poly" title=" " alt="" coords="703,512,786,554,784,559,700,517"/>
<area shape="rect" title=" " alt="" coords="645,563,713,588"/>
<area shape="poly" title=" " alt="" coords="681,515,681,549,676,549,676,515"/>
<area shape="poly" title=" " alt="" coords="611,514,146,570,146,565,610,509"/>
<area shape="poly" title=" " alt="" coords="747,508,1311,566,1310,572,747,513"/>
<area shape="poly" title=" " alt="" coords="553,277,631,297,716,326,803,366,875,406,872,411,801,371,714,330,629,302,552,283"/>
<area shape="poly" title=" " alt="" coords="502,280,513,441,523,549,518,549,508,442,497,281"/>
<area shape="poly" title=" " alt="" coords="459,283,388,308,301,351,258,378,217,411,181,448,152,491,148,501,149,511,161,529,184,544,212,556,210,561,182,549,157,533,144,513,143,501,147,488,177,445,213,407,254,374,298,346,385,303,457,278"/>
<area shape="poly" title=" " alt="" coords="497,281,399,550,394,549,492,279"/>
<area shape="rect" href="../../d1/dac/container__service_8h.html" title=" " alt="" coords="550,328,703,368"/>
<area shape="poly" title=" " alt="" coords="519,278,585,318,582,323,516,282"/>
<area shape="rect" href="../../dc/dcb/network__service_8h.html" title=" " alt="" coords="995,328,1141,368"/>
<area shape="poly" title=" " alt="" coords="558,274,982,332,981,338,557,279"/>
<area shape="poly" title=" " alt="" coords="694,365,851,410,849,415,692,371"/>
<area shape="poly" title=" " alt="" coords="587,370,549,391,512,418,479,451,448,488,404,552,400,549,444,485,475,448,509,414,546,387,584,366"/>
<area shape="poly" title=" " alt="" coords="648,366,695,414,761,488,806,549,802,553,757,491,691,418,644,370"/>
<area shape="poly" title=" " alt="" coords="704,354,843,375,922,392,1000,413,1026,425,1052,439,1143,481,1140,486,1049,444,1024,430,998,419,921,397,842,380,703,359"/>
<area shape="poly" title=" " alt="" coords="623,369,613,404,608,402,618,367"/>
<area shape="poly" title=" " alt="" coords="617,439,658,478,654,482,613,443"/>
<area shape="poly" title=" " alt="" coords="598,443,538,552,533,549,594,440"/>
<area shape="poly" title=" " alt="" coords="574,444,454,492,301,559,299,554,452,487,572,439"/>
<area shape="poly" title=" " alt="" coords="1030,370,941,412,939,408,1028,366"/>
<area shape="poly" title=" " alt="" coords="1141,358,1245,378,1363,406,1418,424,1467,443,1506,464,1531,488,1539,506,1536,522,1523,535,1505,546,1456,562,1405,571,1404,566,1454,557,1502,541,1520,531,1531,519,1534,506,1527,491,1503,469,1464,448,1416,429,1361,412,1244,383,1140,363"/>
<area shape="poly" title=" " alt="" coords="1131,366,1165,385,1180,399,1192,415,1197,430,1198,446,1192,477,1187,475,1193,446,1192,431,1187,417,1176,402,1162,390,1128,370"/>
<area shape="poly" title=" " alt="" coords="996,364,684,416,684,411,995,359"/>
<area shape="rect" title=" " alt="" coords="1063,416,1177,441"/>
<area shape="poly" title=" " alt="" coords="1083,367,1107,403,1102,406,1078,370"/>
</map>
</div>
</div>
<p><a href="../../d9/dd9/production__ready__example_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/db0/classmetrics__collector.html">metrics_collector</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d93/structmetrics__collector_1_1metrics.html">metrics_collector::metrics</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dc8/classconfig__loader.html">config_loader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d73/structconfig__loader_1_1app__config.html">config_loader::app_config</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d71/classretry__handler.html">retry_handler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dca/classhealth__monitor.html">health_monitor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3b527c56ed133ee6815bfbc625e757af" id="r_a3b527c56ed133ee6815bfbc625e757af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html#a3b527c56ed133ee6815bfbc625e757af">signal_handler</a> (int signal)</td></tr>
<tr class="separator:a3b527c56ed133ee6815bfbc625e757af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7df47e37fd55c553b8fd39cf996d786c" id="r_a7df47e37fd55c553b8fd39cf996d786c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html#a7df47e37fd55c553b8fd39cf996d786c">setup_signal_handlers</a> ()</td></tr>
<tr class="separator:a7df47e37fd55c553b8fd39cf996d786c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97" id="r_a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad9223bbbed1d71323a789daf88911c4a" id="r_ad9223bbbed1d71323a789daf88911c4a"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html#ad9223bbbed1d71323a789daf88911c4a">g_shutdown_requested</a> {false}</td></tr>
<tr class="separator:ad9223bbbed1d71323a789daf88911c4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa7c3dd3de8ff7ddf02ffeb27aa753b" id="r_adaa7c3dd3de8ff7ddf02ffeb27aa753b"><td class="memItemLeft" align="right" valign="top">std::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html#adaa7c3dd3de8ff7ddf02ffeb27aa753b">g_shutdown_cv</a></td></tr>
<tr class="separator:adaa7c3dd3de8ff7ddf02ffeb27aa753b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62b13acfb786c265fba3bc95637f1e1" id="r_ae62b13acfb786c265fba3bc95637f1e1"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html#ae62b13acfb786c265fba3bc95637f1e1">g_shutdown_mutex</a></td></tr>
<tr class="separator:ae62b13acfb786c265fba3bc95637f1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Production-ready messaging system with signal handling, config, metrics, and error recovery. </p>
<p>This example demonstrates production-ready features including:</p><ul>
<li>Signal handling for graceful shutdown (SIGINT, SIGTERM)</li>
<li>Configuration file loading</li>
<li>Error recovery and retry mechanisms</li>
<li>Metric collection and reporting</li>
<li>Health check monitoring </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00376">376</a> of file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../db/d16/config_8h_source.html#l00139">kcenon::messaging::config::config_builder::build()</a>, <a class="el" href="../../d5/dd2/message__types_8h_source.html#l00066">kcenon::messaging::core::message_payload::data</a>, <a class="el" href="../../db/d16/config_8h_source.html#l00085">kcenon::messaging::config::config_builder::enable_compression()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00250">retry_handler::execute_with_retry()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00037">g_shutdown_cv</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00038">g_shutdown_mutex</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00036">g_shutdown_requested</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00100">metrics_collector::increment_errors()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00099">metrics_collector::increment_received()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00142">config_loader::load_from_file()</a>, <a class="el" href="../../d5/dd2/message__types_8h_source.html#l00091">kcenon::messaging::core::message::payload</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00202">config_loader::save_default_config()</a>, <a class="el" href="../../db/d16/config_8h_source.html#l00117">kcenon::messaging::config::config_builder::set_environment()</a>, <a class="el" href="../../db/d16/config_8h_source.html#l00069">kcenon::messaging::config::config_builder::set_queue_size()</a>, <a class="el" href="../../db/d16/config_8h_source.html#l00063">kcenon::messaging::config::config_builder::set_worker_threads()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00297">setup_signal_handlers()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00323">health_monitor::start()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00068">metrics_collector::start()</a>, and <a class="el" href="../../d5/dd2/message__types_8h_source.html#l00065">kcenon::messaging::core::message_payload::topic</a>.</p>

</div>
</div>
<a id="a7df47e37fd55c553b8fd39cf996d786c" name="a7df47e37fd55c553b8fd39cf996d786c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7df47e37fd55c553b8fd39cf996d786c">&#9670;&#160;</a></span>setup_signal_handlers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup_signal_handlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00297">297</a> of file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00289">signal_handler()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00376">main()</a>.</p>

</div>
</div>
<a id="a3b527c56ed133ee6815bfbc625e757af" name="a3b527c56ed133ee6815bfbc625e757af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b527c56ed133ee6815bfbc625e757af">&#9670;&#160;</a></span>signal_handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signal</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00289">289</a> of file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>

<p class="reference">References <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00037">g_shutdown_cv</a>, and <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00036">g_shutdown_requested</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00297">setup_signal_handlers()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="adaa7c3dd3de8ff7ddf02ffeb27aa753b" name="adaa7c3dd3de8ff7ddf02ffeb27aa753b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa7c3dd3de8ff7ddf02ffeb27aa753b">&#9670;&#160;</a></span>g_shutdown_cv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::condition_variable g_shutdown_cv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00037">37</a> of file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00376">main()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00289">signal_handler()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00323">health_monitor::start()</a>, and <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00068">metrics_collector::start()</a>.</p>

</div>
</div>
<a id="ae62b13acfb786c265fba3bc95637f1e1" name="ae62b13acfb786c265fba3bc95637f1e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62b13acfb786c265fba3bc95637f1e1">&#9670;&#160;</a></span>g_shutdown_mutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex g_shutdown_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00038">38</a> of file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00376">main()</a>, <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00323">health_monitor::start()</a>, and <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00068">metrics_collector::start()</a>.</p>

</div>
</div>
<a id="ad9223bbbed1d71323a789daf88911c4a" name="ad9223bbbed1d71323a789daf88911c4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9223bbbed1d71323a789daf88911c4a">&#9670;&#160;</a></span>g_shutdown_requested</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;bool&gt; g_shutdown_requested {false}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00036">36</a> of file <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html">production_ready_example.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00376">main()</a>, and <a class="el" href="../../d9/dd9/production__ready__example_8cpp_source.html#l00289">signal_handler()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0baac03fa69015442a7606f2c0617b75.html">application_layer</a></li><li class="navelem"><a class="el" href="../../dir_a1b4cbdcf0500f1de70b3b1cdf971f6e.html">samples</a></li><li class="navelem"><a class="el" href="../../d9/dd9/production__ready__example_8cpp.html">production_ready_example.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
