<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: Monitoring System API Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('dd/d6d/md_libraries_2monitoring__system_2docs_2API__REFERENCE.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Monitoring System API Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1403"></a> <b>Phase 4 - Current Implementation Status</b></p>
<p>This document describes the <b>actually implemented</b> APIs and interfaces in the monitoring system Phase 4. Items marked with *(Stub Implementation)* provide functional interfaces but with simplified implementations as foundation for future development.</p>
<h1><a class="anchor" id="autotoc_md1404"></a>
Table of Contents</h1>
<ol type="1">
<li>Core Components ✅ <b>Implemented</b></li>
<li>Monitoring Interfaces ✅ <b>Implemented</b></li>
<li>Performance Monitoring ✅ <b>Implemented</b></li>
<li>Distributed Tracing ⚠️ <b>Stub Implementation</b></li>
<li>Storage Backends ⚠️ <b>Stub Implementation</b></li>
<li>Reliability Features ⚠️ <b>Stub Implementation</b></li>
<li>Test Coverage ✅ <b>37 Tests Passing</b></li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md1406"></a>
Core Components</h1>
<h2><a class="anchor" id="autotoc_md1407"></a>
Result Types ✅ &lt;strong&gt;Fully Implemented&lt;/strong&gt;</h2>
<p><b>Header:</b> <code><a class="el" href="../../d9/d68/kcenon_2monitoring_2core_2result__types_8h.html" title="Result pattern type definitions for monitoring system.">include/kcenon/monitoring/core/result_types.h</a></code></p>
<h3><a class="anchor" id="autotoc_md1408"></a>
&lt;tt&gt;result&lt;T&gt;&lt;/tt&gt;</h3>
<p>A monadic result type for error handling without exceptions. <b>Fully tested with 13 passing tests.</b></p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span>result {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Constructors</span></div>
<div class="line">    result(<span class="keyword">const</span> T&amp; value);</div>
<div class="line">    result(T&amp;&amp; value);</div>
<div class="line">    result(<span class="keyword">const</span> error_info&amp; error);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check if result contains a value</span></div>
<div class="line">    <span class="keywordtype">bool</span> has_value() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> is_ok() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> is_error() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keyword">explicit</span> <span class="keyword">operator</span> bool() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Access the value</span></div>
<div class="line">    T&amp; value();</div>
<div class="line">    <span class="keyword">const</span> T&amp; value() <span class="keyword">const</span>;</div>
<div class="line">    T value_or(<span class="keyword">const</span> T&amp; default_value) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Access the error</span></div>
<div class="line">    error_info get_error() <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Monadic operations</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> F&gt;</div>
<div class="line">    <span class="keyword">auto</span> map(F&amp;&amp; f) <span class="keyword">const</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> F&gt;</div>
<div class="line">    <span class="keyword">auto</span> and_then(F&amp;&amp; f) <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1409"></a>
&lt;tt&gt;result_void&lt;/tt&gt;</h3>
<p>Specialized result type for operations that don't return values.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> success();</div>
<div class="line">    <span class="keyword">static</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> error(<span class="keyword">const</span> error_info&amp; error);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">bool</span> is_ok() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> is_error() <span class="keyword">const</span>;</div>
<div class="line">    error_info get_error() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="ttc" id="aclasskcenon_1_1thread_1_1result__void_html"><div class="ttname"><a href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">kcenon::thread::result_void</a></div><div class="ttdoc">Wrapper for void result.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d9a/core_2sync_2include_2error__handling_8h_source.html#l00194">error_handling.h:194</a></div></div>
</div><!-- fragment --><p><b>Usage Example:</b> </p><div class="fragment"><div class="line">result&lt;int&gt; <a class="code hl_function" href="../../de/dfb/result__pattern__example_8cpp.html#a9da2de03a893c5c66e063754edc6353c">divide</a>(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) {</div>
<div class="line">    <span class="keywordflow">if</span> (b == 0) {</div>
<div class="line">        <span class="keywordflow">return</span> result&lt;int&gt;(error_info{</div>
<div class="line">            .code = monitoring_error_code::invalid_argument,</div>
<div class="line">            .message = <span class="stringliteral">&quot;Division by zero&quot;</span></div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> result&lt;int&gt;(a / b);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Chain operations</span></div>
<div class="line"><span class="keyword">auto</span> result = <a class="code hl_function" href="../../de/dfb/result__pattern__example_8cpp.html#a9da2de03a893c5c66e063754edc6353c">divide</a>(10, 2)</div>
<div class="line">    .map([](<span class="keywordtype">int</span> x) { <span class="keywordflow">return</span> x * 2; })</div>
<div class="line">    .and_then([](<span class="keywordtype">int</span> x) { <span class="keywordflow">return</span> <a class="code hl_function" href="../../de/dfb/result__pattern__example_8cpp.html#a9da2de03a893c5c66e063754edc6353c">divide</a>(x, 3); });</div>
<div class="ttc" id="aresult__pattern__example_8cpp_html_a9da2de03a893c5c66e063754edc6353c"><div class="ttname"><a href="../../de/dfb/result__pattern__example_8cpp.html#a9da2de03a893c5c66e063754edc6353c">divide</a></div><div class="ttdeci">result&lt; double &gt; divide(double a, double b)</div><div class="ttdoc">Example demonstrating Result pattern usage.</div><div class="ttdef"><b>Definition</b> <a href="../../de/dfb/result__pattern__example_8cpp_source.html#l00013">result_pattern_example.cpp:13</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1410"></a>
Thread Context ✅ &lt;strong&gt;Fully Implemented&lt;/strong&gt;</h2>
<p><b>Header:</b> <code><a class="el" href="../../de/d4c/monitoring__system_2include_2kcenon_2monitoring_2context_2thread__context_8h.html">include/kcenon/monitoring/context/thread_context.h</a></code></p>
<h3><a class="anchor" id="autotoc_md1411"></a>
&lt;tt&gt;thread_context&lt;/tt&gt;</h3>
<p>Manages thread-local context for correlation and tracing. <b>Fully tested with 6 passing tests.</b></p>
<div class="fragment"><div class="line"><span class="keyword">class </span>thread_context {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Get current thread context</span></div>
<div class="line">    <span class="keyword">static</span> context_metadata&amp; current();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create new context with optional request ID</span></div>
<div class="line">    <span class="keyword">static</span> context_metadata&amp; create(<span class="keyword">const</span> std::string&amp; request_id = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Clear current context</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> clear();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Generate unique IDs</span></div>
<div class="line">    <span class="keyword">static</span> std::string generate_request_id();</div>
<div class="line">    <span class="keyword">static</span> std::string generate_correlation_id();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Check if context exists</span></div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">bool</span> has_current();</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1412"></a>
&lt;tt&gt;context_metadata&lt;/tt&gt;</h3>
<p>Thread-local context information for tracing and correlation.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>context_metadata {</div>
<div class="line">    std::string request_id;</div>
<div class="line">    std::string correlation_id;</div>
<div class="line">    std::string trace_id;</div>
<div class="line">    std::string span_id;</div>
<div class="line">    std::chrono::system_clock::time_point created_at;</div>
<div class="line">    std::unordered_map&lt;std::string, std::string&gt; baggage;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1413"></a>
Dependency Injection Container ✅ &lt;strong&gt;Fully Implemented&lt;/strong&gt;</h2>
<p><b>Header:</b> <code>include/kcenon/monitoring/di/di_container.h</code></p>
<h3><a class="anchor" id="autotoc_md1414"></a>
&lt;tt&gt;di_container&lt;/tt&gt;</h3>
<p>Lightweight dependency injection container for managing service instances. <b>Fully tested with 9 passing tests.</b></p>
<div class="fragment"><div class="line"><span class="keyword">class </span>di_container {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Service registration</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keywordtype">void</span> register_transient(std::function&lt;std::shared_ptr&lt;T&gt;()&gt; factory);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keywordtype">void</span> register_singleton(std::function&lt;std::shared_ptr&lt;T&gt;()&gt; factory);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keywordtype">void</span> register_singleton_instance(std::shared_ptr&lt;T&gt; instance);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Named service registration</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    <span class="keywordtype">void</span> register_named(<span class="keyword">const</span> std::string&amp; name,</div>
<div class="line">                       std::function&lt;std::shared_ptr&lt;T&gt;()&gt; factory);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Service resolution</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    std::shared_ptr&lt;T&gt; resolve();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    std::shared_ptr&lt;T&gt; resolve_named(<span class="keyword">const</span> std::string&amp; name);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Utilities</span></div>
<div class="line">    <span class="keywordtype">void</span> clear();</div>
<div class="line">    <span class="keywordtype">bool</span> has_service(<span class="keyword">const</span> std::string&amp; type_name) <span class="keyword">const</span>;</div>
<div class="line">    <span class="keywordtype">size_t</span> service_count() <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><p><b>Usage Example:</b> </p><div class="fragment"><div class="line">di_container container;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Register services</span></div>
<div class="line">container.register_singleton&lt;database_service&gt;([]() {</div>
<div class="line">    <span class="keywordflow">return</span> std::make_shared&lt;sqlite_database&gt;();</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">container.register_transient&lt;user_service&gt;([&amp;]() {</div>
<div class="line">    <span class="keyword">auto</span> db = container.resolve&lt;database_service&gt;();</div>
<div class="line">    <span class="keywordflow">return</span> std::make_shared&lt;user_service&gt;(db);</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Resolve services</span></div>
<div class="line"><span class="keyword">auto</span> user_svc = <a class="code hl_enumvalue" href="../../de/d3f/namespacemonitoring__system.html#a8e692c8ceac634f141c23c45c3491aa8a5f0b6ebc4bea10285ba2b8a6ce78b863">container</a>.resolve&lt;user_service&gt;();</div>
<div class="ttc" id="anamespacemonitoring__system_html_a8e692c8ceac634f141c23c45c3491aa8a5f0b6ebc4bea10285ba2b8a6ce78b863"><div class="ttname"><a href="../../de/d3f/namespacemonitoring__system.html#a8e692c8ceac634f141c23c45c3491aa8a5f0b6ebc4bea10285ba2b8a6ce78b863">monitoring_system::otel_resource_type::container</a></div><div class="ttdeci">@ container</div></div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1416"></a>
Monitoring Interfaces</h1>
<h2><a class="anchor" id="autotoc_md1417"></a>
Monitoring Interface</h2>
<p><b>Header:</b> <code>sources/monitoring/interfaces/monitoring_interface.h</code></p>
<h3><a class="anchor" id="autotoc_md1418"></a>
&lt;tt&gt;metrics_collector&lt;/tt&gt;</h3>
<p>Base interface for all metric collectors.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../d7/db0/classmetrics__collector.html">metrics_collector</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> std::string get_name() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> is_enabled() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> set_enabled(<span class="keywordtype">bool</span> enable) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> initialize() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> cleanup() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;metrics_snapshot&gt; collect() = 0;</div>
<div class="line">};</div>
<div class="ttc" id="aclassmetrics__collector_html"><div class="ttname"><a href="../../d7/db0/classmetrics__collector.html">metrics_collector</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd9/production__ready__example_8cpp_source.html#l00041">production_ready_example.cpp:41</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1419"></a>
&lt;tt&gt;monitorable&lt;/tt&gt;</h3>
<p>Interface for objects that can be monitored.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>monitorable {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> std::string get_name() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;metrics_snapshot&gt; get_metrics() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> reset_metrics() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;std::string&gt; get_status() <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1421"></a>
Performance Monitoring</h1>
<h2><a class="anchor" id="autotoc_md1422"></a>
Performance Monitor</h2>
<p><b>Header:</b> <code>sources/monitoring/performance/performance_monitor.h</code></p>
<h3><a class="anchor" id="autotoc_md1423"></a>
&lt;tt&gt;performance_monitor&lt;/tt&gt;</h3>
<p>Monitors system and application performance metrics.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>performance_monitor : <span class="keyword">public</span> <a class="code hl_class" href="../../d7/db0/classmetrics__collector.html">metrics_collector</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">explicit</span> performance_monitor(<span class="keyword">const</span> std::string&amp; name = <span class="stringliteral">&quot;performance_monitor&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Create scoped timer</span></div>
<div class="line">    scoped_timer time_operation(<span class="keyword">const</span> std::string&amp; operation_name);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Get profiler</span></div>
<div class="line">    performance_profiler&amp; get_profiler();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Get system monitor</span></div>
<div class="line">    system_monitor&amp; get_system_monitor();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Set thresholds</span></div>
<div class="line">    <span class="keywordtype">void</span> set_cpu_threshold(<span class="keywordtype">double</span> threshold);</div>
<div class="line">    <span class="keywordtype">void</span> set_memory_threshold(<span class="keywordtype">double</span> threshold);</div>
<div class="line">    <span class="keywordtype">void</span> set_latency_threshold(std::chrono::milliseconds threshold);</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1424"></a>
&lt;tt&gt;scoped_timer&lt;/tt&gt;</h3>
<p>RAII timer for measuring operation duration.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>scoped_timer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    scoped_timer(performance_profiler* profiler, <span class="keyword">const</span> std::string&amp; operation_name);</div>
<div class="line">    ~scoped_timer();</div>
<div class="line">    </div>
<div class="line">    <span class="keywordtype">void</span> mark_failed();</div>
<div class="line">    <span class="keywordtype">void</span> complete();</div>
<div class="line">    std::chrono::nanoseconds elapsed() <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1425"></a>
Adaptive Optimizer</h2>
<p><b>Header:</b> <code>sources/monitoring/performance/adaptive_optimizer.h</code></p>
<h3><a class="anchor" id="autotoc_md1426"></a>
&lt;tt&gt;adaptive_optimizer&lt;/tt&gt;</h3>
<p>Dynamically optimizes monitoring parameters based on system load.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>adaptive_optimizer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">struct </span>optimization_config {</div>
<div class="line">        <span class="keywordtype">double</span> cpu_threshold = 80.0;</div>
<div class="line">        <span class="keywordtype">double</span> memory_threshold = 90.0;</div>
<div class="line">        <span class="keywordtype">double</span> target_overhead = 5.0;</div>
<div class="line">        std::chrono::seconds adaptation_interval{60};</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">explicit</span> adaptive_optimizer(<span class="keyword">const</span> optimization_config&amp; config = {});</div>
<div class="line">    </div>
<div class="line">    result&lt;bool&gt; start();</div>
<div class="line">    result&lt;bool&gt; stop();</div>
<div class="line">    result&lt;optimization_decision&gt; analyze_and_optimize();</div>
<div class="line">    result&lt;bool&gt; apply_optimization(<span class="keyword">const</span> optimization_decision&amp; decision);</div>
<div class="line">};</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1428"></a>
Health Monitoring</h1>
<h2><a class="anchor" id="autotoc_md1429"></a>
Health Monitor</h2>
<p><b>Header:</b> <code>sources/monitoring/health/health_monitor.h</code></p>
<h3><a class="anchor" id="autotoc_md1430"></a>
&lt;tt&gt;health_monitor&lt;/tt&gt;</h3>
<p>Manages health checks and service dependencies.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../d9/dca/classhealth__monitor.html">health_monitor</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_class" href="../../d9/dca/classhealth__monitor.html">health_monitor</a>(<span class="keyword">const</span> health_monitor_config&amp; config = {});</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Register health checks</span></div>
<div class="line">    result&lt;bool&gt; register_check(<span class="keyword">const</span> std::string&amp; name,</div>
<div class="line">                                std::shared_ptr&lt;health_check&gt; check);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Add dependencies</span></div>
<div class="line">    result&lt;bool&gt; add_dependency(<span class="keyword">const</span> std::string&amp; dependent,</div>
<div class="line">                                <span class="keyword">const</span> std::string&amp; dependency);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Perform checks</span></div>
<div class="line">    result&lt;health_check_result&gt; check(<span class="keyword">const</span> std::string&amp; name);</div>
<div class="line">    std::unordered_map&lt;std::string, health_check_result&gt; check_all();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Get status</span></div>
<div class="line">    health_status get_overall_status() <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Recovery handlers</span></div>
<div class="line">    <span class="keywordtype">void</span> register_recovery_handler(<span class="keyword">const</span> std::string&amp; check_name,</div>
<div class="line">                                  std::function&lt;<span class="keywordtype">bool</span>()&gt; handler);</div>
<div class="line">};</div>
<div class="ttc" id="aclasshealth__monitor_html"><div class="ttname"><a href="../../d9/dca/classhealth__monitor.html">health_monitor</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd9/production__ready__example_8cpp_source.html#l00303">production_ready_example.cpp:303</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1431"></a>
&lt;tt&gt;health_check&lt;/tt&gt;</h3>
<p>Abstract base class for health checks.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>health_check {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> std::string get_name() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> health_check_type get_type() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> health_check_result check() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> std::chrono::milliseconds get_timeout() <span class="keyword">const</span>;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> is_critical() <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1432"></a>
Health Check Builder</h3>
<div class="fragment"><div class="line">health_check_builder builder;</div>
<div class="line"><span class="keyword">auto</span> check = builder</div>
<div class="line">    .with_name(<span class="stringliteral">&quot;database_check&quot;</span>)</div>
<div class="line">    .with_type(health_check_type::readiness)</div>
<div class="line">    .with_check([]() { </div>
<div class="line">        <span class="comment">// Check database connection</span></div>
<div class="line">        <span class="keywordflow">return</span> health_check_result::healthy(<span class="stringliteral">&quot;Database connected&quot;</span>);</div>
<div class="line">    })</div>
<div class="line">    .with_timeout(5s)</div>
<div class="line">    .critical(<span class="keyword">true</span>)</div>
<div class="line">    .build();</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1434"></a>
Distributed Tracing</h1>
<h2><a class="anchor" id="autotoc_md1435"></a>
Distributed Tracer</h2>
<p><b>Header:</b> <code>sources/monitoring/tracing/distributed_tracer.h</code></p>
<h3><a class="anchor" id="autotoc_md1436"></a>
&lt;tt&gt;distributed_tracer&lt;/tt&gt;</h3>
<p>Manages distributed traces across services.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>distributed_tracer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Start spans</span></div>
<div class="line">    result&lt;std::shared_ptr&lt;trace_span&gt;&gt; start_span(</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; operation_name,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; service_name = <span class="stringliteral">&quot;monitoring_system&quot;</span>);</div>
<div class="line">    </div>
<div class="line">    result&lt;std::shared_ptr&lt;trace_span&gt;&gt; start_child_span(</div>
<div class="line">        <span class="keyword">const</span> trace_span&amp; parent,</div>
<div class="line">        <span class="keyword">const</span> std::string&amp; operation_name);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Context propagation</span></div>
<div class="line">    trace_context extract_context(<span class="keyword">const</span> trace_span&amp; span) <span class="keyword">const</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Carrier&gt;</div>
<div class="line">    <span class="keywordtype">void</span> inject_context(<span class="keyword">const</span> trace_context&amp; context, Carrier&amp; carrier);</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> Carrier&gt;</div>
<div class="line">    result&lt;trace_context&gt; extract_context_from_carrier(<span class="keyword">const</span> Carrier&amp; carrier);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Finish span</span></div>
<div class="line">    result&lt;bool&gt; finish_span(std::shared_ptr&lt;trace_span&gt; span);</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1437"></a>
&lt;tt&gt;trace_span&lt;/tt&gt;</h3>
<p>Represents a unit of work in distributed tracing.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>trace_span {</div>
<div class="line">    std::string trace_id;</div>
<div class="line">    std::string span_id;</div>
<div class="line">    std::string parent_span_id;</div>
<div class="line">    std::string operation_name;</div>
<div class="line">    std::string service_name;</div>
<div class="line">    </div>
<div class="line">    std::chrono::system_clock::time_point start_time;</div>
<div class="line">    std::chrono::system_clock::time_point end_time;</div>
<div class="line">    </div>
<div class="line">    std::unordered_map&lt;std::string, std::string&gt; tags;</div>
<div class="line">    std::unordered_map&lt;std::string, std::string&gt; baggage;</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">enum class</span> status_code { unset, ok, error };</div>
<div class="line">    status_code status;</div>
<div class="line">    std::string status_message;</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1438"></a>
Scoped Span Macro</h3>
<div class="fragment"><div class="line"><span class="comment">// Automatically creates and finishes a span</span></div>
<div class="line"><a class="code hl_define" href="../../df/dc5/src_2impl_2tracing_2distributed__tracer_8h.html#afe594579b17352f91eab795dc0c5194e">TRACE_SPAN</a>(<span class="stringliteral">&quot;database_query&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create child span</span></div>
<div class="line"><a class="code hl_define" href="../../df/dc5/src_2impl_2tracing_2distributed__tracer_8h.html#a4061a30a0cab078fc8f0e8da3f42a1eb">TRACE_CHILD_SPAN</a>(parent_span, <span class="stringliteral">&quot;nested_operation&quot;</span>);</div>
<div class="ttc" id="asrc_2impl_2tracing_2distributed__tracer_8h_html_a4061a30a0cab078fc8f0e8da3f42a1eb"><div class="ttname"><a href="../../df/dc5/src_2impl_2tracing_2distributed__tracer_8h.html#a4061a30a0cab078fc8f0e8da3f42a1eb">TRACE_CHILD_SPAN</a></div><div class="ttdeci">#define TRACE_CHILD_SPAN(parent, operation_name)</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc5/src_2impl_2tracing_2distributed__tracer_8h_source.html#l00358">distributed_tracer.h:358</a></div></div>
<div class="ttc" id="asrc_2impl_2tracing_2distributed__tracer_8h_html_afe594579b17352f91eab795dc0c5194e"><div class="ttname"><a href="../../df/dc5/src_2impl_2tracing_2distributed__tracer_8h.html#afe594579b17352f91eab795dc0c5194e">TRACE_SPAN</a></div><div class="ttdeci">#define TRACE_SPAN(operation_name)</div><div class="ttdoc">Helper macro for creating a scoped span.</div><div class="ttdef"><b>Definition</b> <a href="../../df/dc5/src_2impl_2tracing_2distributed__tracer_8h_source.html#l00351">distributed_tracer.h:351</a></div></div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1440"></a>
Storage Backends</h1>
<h2><a class="anchor" id="autotoc_md1441"></a>
Storage Backend Interface</h2>
<p><b>Header:</b> <code>sources/monitoring/storage/storage_backends.h</code></p>
<h3><a class="anchor" id="autotoc_md1442"></a>
&lt;tt&gt;storage_backend&lt;/tt&gt;</h3>
<p>Abstract base class for all storage implementations.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>storage_backend {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;bool&gt; initialize() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;bool&gt; write(<span class="keyword">const</span> std::string&amp; key, <span class="keyword">const</span> std::string&amp; value) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;std::string&gt; read(<span class="keyword">const</span> std::string&amp; key) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;bool&gt; remove(<span class="keyword">const</span> std::string&amp; key) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;std::vector&lt;std::string&gt;&gt; list(<span class="keyword">const</span> std::string&amp; prefix = <span class="stringliteral">&quot;&quot;</span>) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;bool&gt; flush() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> storage_backend_type get_type() <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1443"></a>
Available Backends</h2>
<h3><a class="anchor" id="autotoc_md1444"></a>
File Storage Backends</h3>
<ul>
<li><code>file_storage_backend</code> - JSON file storage</li>
<li><code>binary_storage_backend</code> - Binary file storage</li>
<li><code>csv_storage_backend</code> - CSV file storage</li>
</ul>
<h3><a class="anchor" id="autotoc_md1445"></a>
Database Backends</h3>
<ul>
<li><code>sqlite_storage_backend</code> - SQLite database</li>
<li><code>postgres_storage_backend</code> - PostgreSQL database</li>
<li><code>mysql_storage_backend</code> - MySQL database</li>
</ul>
<h3><a class="anchor" id="autotoc_md1446"></a>
Cloud Storage Backends</h3>
<ul>
<li><code>s3_storage_backend</code> - Amazon S3</li>
<li><code>gcs_storage_backend</code> - Google Cloud Storage</li>
<li><code>azure_storage_backend</code> - Azure Blob Storage</li>
</ul>
<h3><a class="anchor" id="autotoc_md1447"></a>
Memory Backend</h3>
<ul>
<li><code>memory_buffer_backend</code> - In-memory storage</li>
</ul>
<h2><a class="anchor" id="autotoc_md1448"></a>
Storage Factory</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span> storage = storage_factory::create(storage_backend_type::sqlite, config);</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1450"></a>
Stream Processing</h1>
<h2><a class="anchor" id="autotoc_md1451"></a>
Stream Aggregator</h2>
<p><b>Header:</b> <code>sources/monitoring/stream/stream_aggregator.h</code></p>
<h3><a class="anchor" id="autotoc_md1452"></a>
&lt;tt&gt;stream_aggregator&lt;/tt&gt;</h3>
<p>Performs real-time aggregation on metric streams.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>stream_aggregator {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// Configure aggregation</span></div>
<div class="line">    result&lt;bool&gt; add_aggregation(<span class="keyword">const</span> std::string&amp; metric_name,</div>
<div class="line">                                 aggregation_type type,</div>
<div class="line">                                 std::chrono::seconds window);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Process values</span></div>
<div class="line">    result&lt;bool&gt; add_value(<span class="keyword">const</span> std::string&amp; metric_name, <span class="keywordtype">double</span> value);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Get results</span></div>
<div class="line">    result&lt;aggregation_result&gt; get_aggregation(<span class="keyword">const</span> std::string&amp; metric_name);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Windowing</span></div>
<div class="line">    result&lt;bool&gt; set_window_size(std::chrono::seconds size);</div>
<div class="line">    result&lt;bool&gt; set_sliding_interval(std::chrono::seconds interval);</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1453"></a>
Aggregation Types</h3>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> aggregation_type {</div>
<div class="line">    sum,</div>
<div class="line">    average,</div>
<div class="line">    min,</div>
<div class="line">    max,</div>
<div class="line">    count,</div>
<div class="line">    percentile_50,</div>
<div class="line">    percentile_95,</div>
<div class="line">    percentile_99,</div>
<div class="line">    stddev,</div>
<div class="line">    rate</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1454"></a>
Buffering Strategies</h2>
<p><b>Header:</b> <code>sources/monitoring/stream/buffering_strategies.h</code></p>
<h3><a class="anchor" id="autotoc_md1455"></a>
&lt;tt&gt;buffering_strategy&lt;/tt&gt;</h3>
<p>Base class for different buffering strategies.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>buffering_strategy {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;bool&gt; <a class="code hl_function" href="../../d2/d11/test__std__concepts_8cpp.html#acb807bc597e1fc5883bc91a306d44f03">add</a>(<span class="keyword">const</span> metric_data&amp; data) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;std::vector&lt;metric_data&gt;&gt; get_batch() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> should_flush() <span class="keyword">const</span> = 0;</div>
<div class="line">    <span class="keyword">virtual</span> result&lt;bool&gt; flush() = 0;</div>
<div class="line">};</div>
<div class="ttc" id="atest__std__concepts_8cpp_html_acb807bc597e1fc5883bc91a306d44f03"><div class="ttname"><a href="../../d2/d11/test__std__concepts_8cpp.html#acb807bc597e1fc5883bc91a306d44f03">add</a></div><div class="ttdeci">T add(T a, T b)</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d11/test__std__concepts_8cpp_source.html#l00043">test_std_concepts.cpp:43</a></div></div>
</div><!-- fragment --><p>Available Strategies:</p><ul>
<li><code>time_based_buffer</code> - Flush after time interval</li>
<li><code>size_based_buffer</code> - Flush after size threshold</li>
<li><code>adaptive_buffer</code> - Dynamic buffering based on load</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md1457"></a>
Reliability Features</h1>
<h2><a class="anchor" id="autotoc_md1458"></a>
Circuit Breaker</h2>
<p><b>Header:</b> <code>sources/monitoring/reliability/circuit_breaker.h</code></p>
<h3><a class="anchor" id="autotoc_md1459"></a>
&lt;tt&gt;circuit_breaker&lt;T&gt;&lt;/tt&gt;</h3>
<p>Prevents cascading failures by breaking circuits to failing services.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span><a class="code hl_class" href="../../d0/ddb/classcircuit__breaker.html">circuit_breaker</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_class" href="../../d0/ddb/classcircuit__breaker.html">circuit_breaker</a>(std::string name, circuit_breaker_config config = {});</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Execute with circuit breaker protection</span></div>
<div class="line">    result&lt;T&gt; execute(std::function&lt;result&lt;T&gt;()&gt; operation,</div>
<div class="line">                     std::function&lt;result&lt;T&gt;()&gt; fallback = <span class="keyword">nullptr</span>);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Manual control</span></div>
<div class="line">    <span class="keywordtype">void</span> open();</div>
<div class="line">    <span class="keywordtype">void</span> <a class="code hl_define" href="../../d3/d61/network__writer_8cpp.html#a9c7f6d5331abb2692a876d5ee67474b7">close</a>();</div>
<div class="line">    <span class="keywordtype">void</span> half_open();</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Get state</span></div>
<div class="line">    circuit_state get_state() <span class="keyword">const</span>;</div>
<div class="line">    circuit_breaker_metrics get_metrics() <span class="keyword">const</span>;</div>
<div class="line">};</div>
<div class="ttc" id="aclasscircuit__breaker_html"><div class="ttname"><a href="../../d0/ddb/classcircuit__breaker.html">circuit_breaker</a></div><div class="ttdef"><b>Definition</b> <a href="../../d4/dd5/microservices__orchestrator_8cpp_source.html#l00070">microservices_orchestrator.cpp:70</a></div></div>
<div class="ttc" id="anetwork__writer_8cpp_html_a9c7f6d5331abb2692a876d5ee67474b7"><div class="ttname"><a href="../../d3/d61/network__writer_8cpp.html#a9c7f6d5331abb2692a876d5ee67474b7">close</a></div><div class="ttdeci">#define close</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d61/network__writer_8cpp_source.html#l00016">network_writer.cpp:16</a></div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1460"></a>
Circuit Breaker Configuration</h3>
<div class="fragment"><div class="line"><span class="keyword">struct </span>circuit_breaker_config {</div>
<div class="line">    std::size_t failure_threshold = 5;</div>
<div class="line">    <span class="keywordtype">double</span> failure_ratio = 0.5;</div>
<div class="line">    std::chrono::milliseconds timeout{5000};</div>
<div class="line">    std::chrono::milliseconds reset_timeout{60000};</div>
<div class="line">    std::size_t success_threshold = 3;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1461"></a>
Retry Policy</h2>
<p><b>Header:</b> <code>sources/monitoring/reliability/retry_policy.h</code></p>
<h3><a class="anchor" id="autotoc_md1462"></a>
&lt;tt&gt;retry_policy&lt;T&gt;&lt;/tt&gt;</h3>
<p>Implements retry logic with various strategies.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">class </span>retry_policy {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    retry_policy(retry_config config = {});</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Execute with retry</span></div>
<div class="line">    result&lt;T&gt; execute(std::function&lt;result&lt;T&gt;()&gt; operation);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Execute async with retry</span></div>
<div class="line">    std::future&lt;result&lt;T&gt;&gt; execute_async(std::function&lt;result&lt;T&gt;()&gt; operation);</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1463"></a>
Retry Strategies</h3>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> retry_strategy {</div>
<div class="line">    fixed_delay,        <span class="comment">// Fixed delay between retries</span></div>
<div class="line">    exponential_backoff,<span class="comment">// Exponential increase in delay</span></div>
<div class="line">    linear_backoff,     <span class="comment">// Linear increase in delay</span></div>
<div class="line">    fibonacci_backoff,  <span class="comment">// Fibonacci sequence delays</span></div>
<div class="line">    random_jitter      <span class="comment">// Random delay with jitter</span></div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1464"></a>
Error Boundaries</h2>
<p><b>Header:</b> <code>sources/monitoring/reliability/error_boundaries.h</code></p>
<h3><a class="anchor" id="autotoc_md1465"></a>
&lt;tt&gt;error_boundary&lt;/tt&gt;</h3>
<p>Isolates errors to prevent system-wide failures.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>error_boundary {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    error_boundary(<span class="keyword">const</span> std::string&amp; name,</div>
<div class="line">                  error_boundary_config config = {});</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Execute within boundary</span></div>
<div class="line">    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">    result&lt;T&gt; execute(std::function&lt;result&lt;T&gt;()&gt; operation);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Set error handler</span></div>
<div class="line">    <span class="keywordtype">void</span> set_error_handler(std::function&lt;<span class="keywordtype">void</span>(<span class="keyword">const</span> error_info&amp;)&gt; handler);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Get statistics</span></div>
<div class="line">    error_boundary_stats get_stats() <span class="keyword">const</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1467"></a>
OpenTelemetry Integration</h1>
<h2><a class="anchor" id="autotoc_md1468"></a>
OpenTelemetry Adapter</h2>
<p><b>Header:</b> <code>sources/monitoring/adapters/opentelemetry_adapter.h</code></p>
<h3><a class="anchor" id="autotoc_md1469"></a>
&lt;tt&gt;opentelemetry_adapter&lt;/tt&gt;</h3>
<p>Bridges monitoring system with OpenTelemetry.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>opentelemetry_adapter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    opentelemetry_adapter(<span class="keyword">const</span> otel_config&amp; config = {});</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Convert to OpenTelemetry formats</span></div>
<div class="line">    result&lt;otel_span&gt; convert_span(<span class="keyword">const</span> trace_span&amp; span);</div>
<div class="line">    result&lt;otel_metric&gt; convert_metric(<span class="keyword">const</span> metric_data&amp; metric);</div>
<div class="line">    result&lt;otel_log&gt; convert_log(<span class="keyword">const</span> log_entry&amp; log);</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Export to OpenTelemetry</span></div>
<div class="line">    result&lt;bool&gt; export_traces(<span class="keyword">const</span> std::vector&lt;trace_span&gt;&amp; spans);</div>
<div class="line">    result&lt;bool&gt; export_metrics(<span class="keyword">const</span> std::vector&lt;metric_data&gt;&amp; metrics);</div>
<div class="line">    result&lt;bool&gt; export_logs(<span class="keyword">const</span> std::vector&lt;log_entry&gt;&amp; logs);</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1470"></a>
Trace Exporters</h2>
<p><b>Header:</b> <code>sources/monitoring/exporters/trace_exporters.h</code></p>
<p>Available Exporters:</p><ul>
<li><code>jaeger_exporter</code> - Export to Jaeger</li>
<li><code>zipkin_exporter</code> - Export to Zipkin</li>
<li><code>otlp_exporter</code> - OTLP protocol exporter</li>
<li><code>console_exporter</code> - Console output for debugging</li>
</ul>
<h2><a class="anchor" id="autotoc_md1471"></a>
Metric Exporters</h2>
<p><b>Header:</b> <code>sources/monitoring/exporters/metric_exporters.h</code></p>
<p>Available Exporters:</p><ul>
<li><code>prometheus_exporter</code> - Prometheus format</li>
<li><code>statsd_exporter</code> - StatsD protocol</li>
<li><code>influxdb_exporter</code> - InfluxDB line protocol</li>
<li><code>graphite_exporter</code> - Graphite plaintext protocol</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md1473"></a>
Usage Examples</h1>
<h2><a class="anchor" id="autotoc_md1474"></a>
Basic Monitoring Setup</h2>
<div class="fragment"><div class="line"><span class="comment">// Create monitoring instance</span></div>
<div class="line">monitoring_builder builder;</div>
<div class="line"><span class="keyword">auto</span> <a class="code hl_namespace" href="../../d8/d51/namespacemonitoring.html">monitoring</a> = builder</div>
<div class="line">    .with_history_size(1000)</div>
<div class="line">    .with_collection_interval(1s)</div>
<div class="line">    .add_collector(std::make_unique&lt;performance_monitor&gt;())</div>
<div class="line">    .with_storage(std::make_unique&lt;sqlite_storage_backend&gt;(config))</div>
<div class="line">    .enable_compression(<span class="keyword">true</span>)</div>
<div class="line">    .build();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Start monitoring</span></div>
<div class="line"><a class="code hl_namespace" href="../../d8/d51/namespacemonitoring.html">monitoring</a>.value()-&gt;start();</div>
<div class="ttc" id="anamespacemonitoring_html"><div class="ttname"><a href="../../d8/d51/namespacemonitoring.html">monitoring</a></div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd9/monitoring__system_8h_source.html#l00013">monitoring_system.h:13</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1475"></a>
Health Check Setup</h2>
<div class="fragment"><div class="line"><span class="comment">// Create health monitor</span></div>
<div class="line"><a class="code hl_class" href="../../d9/dca/classhealth__monitor.html">health_monitor</a> monitor;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Register health checks</span></div>
<div class="line">monitor.register_check(<span class="stringliteral">&quot;database&quot;</span>, </div>
<div class="line">    health_check_builder()</div>
<div class="line">        .with_name(<span class="stringliteral">&quot;database_check&quot;</span>)</div>
<div class="line">        .with_type(health_check_type::readiness)</div>
<div class="line">        .with_check([]() { <span class="keywordflow">return</span> check_database(); })</div>
<div class="line">        .build()</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add dependencies</span></div>
<div class="line">monitor.add_dependency(<span class="stringliteral">&quot;api&quot;</span>, <span class="stringliteral">&quot;database&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Start monitoring</span></div>
<div class="line">monitor.<a class="code hl_function" href="../../d9/dca/classhealth__monitor.html#a1e2cb08c8f39d5f0c9d8e898c0689c74">start</a>();</div>
<div class="ttc" id="aclasshealth__monitor_html_a1e2cb08c8f39d5f0c9d8e898c0689c74"><div class="ttname"><a href="../../d9/dca/classhealth__monitor.html#a1e2cb08c8f39d5f0c9d8e898c0689c74">health_monitor::start</a></div><div class="ttdeci">void start()</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd9/production__ready__example_8cpp_source.html#l00323">production_ready_example.cpp:323</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1476"></a>
Distributed Tracing</h2>
<div class="fragment"><div class="line"><span class="comment">// Start a trace</span></div>
<div class="line">distributed_tracer&amp; tracer = global_tracer();</div>
<div class="line"><span class="keyword">auto</span> span = tracer.start_span(<span class="stringliteral">&quot;process_request&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add tags</span></div>
<div class="line">span.value()-&gt;tags[<span class="stringliteral">&quot;user_id&quot;</span>] = <span class="stringliteral">&quot;12345&quot;</span>;</div>
<div class="line">span.value()-&gt;tags[<span class="stringliteral">&quot;endpoint&quot;</span>] = <span class="stringliteral">&quot;/api/users&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create child span</span></div>
<div class="line"><span class="keyword">auto</span> child_span = tracer.start_child_span(*span.value(), <span class="stringliteral">&quot;database_query&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Finish spans</span></div>
<div class="line">tracer.finish_span(child_span.value());</div>
<div class="line">tracer.finish_span(span.value());</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1477"></a>
Circuit Breaker Usage</h2>
<div class="fragment"><div class="line">circuit_breaker_config config;</div>
<div class="line">config.failure_threshold = 5;</div>
<div class="line">config.reset_timeout = 30s;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_class" href="../../d0/ddb/classcircuit__breaker.html">circuit_breaker&lt;std::string&gt;</a> breaker(<span class="stringliteral">&quot;external_api&quot;</span>, config);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> result = breaker.execute(</div>
<div class="line">    []() { <span class="keywordflow">return</span> call_external_api(); },</div>
<div class="line">    []() { <span class="keywordflow">return</span> result&lt;std::string&gt;::success(<span class="stringliteral">&quot;fallback_value&quot;</span>); }</div>
<div class="line">);</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1479"></a>
Error Codes</h1>
<p>Common error codes used throughout the system:</p>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> monitoring_error_code {</div>
<div class="line">    success = 0,</div>
<div class="line">    unknown_error,</div>
<div class="line">    invalid_argument,</div>
<div class="line">    out_of_range,</div>
<div class="line">    not_found,</div>
<div class="line">    already_exists,</div>
<div class="line">    permission_denied,</div>
<div class="line">    resource_exhausted,</div>
<div class="line">    operation_cancelled,</div>
<div class="line">    operation_timeout,</div>
<div class="line">    not_implemented,</div>
<div class="line">    internal_error,</div>
<div class="line">    unavailable,</div>
<div class="line">    data_loss,</div>
<div class="line">    unauthenticated,</div>
<div class="line">    circuit_breaker_open,</div>
<div class="line">    retry_exhausted,</div>
<div class="line">    validation_failed,</div>
<div class="line">    initialization_failed,</div>
<div class="line">    configuration_error</div>
<div class="line">};</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1481"></a>
Thread Safety</h1>
<p>All public interfaces in the monitoring system are thread-safe unless explicitly documented otherwise. Internal synchronization uses:</p><ul>
<li><code>std::mutex</code> for exclusive access</li>
<li><code>std::shared_mutex</code> for read-write locks</li>
<li><code>std::atomic</code> for lock-free operations</li>
<li>Thread-local storage for context management</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md1483"></a>
Performance Considerations</h1>
<ol type="1">
<li><b>Metric Collection</b>: Designed for minimal overhead (&lt;5% CPU)</li>
<li><b>Storage</b>: Async writes with batching for efficiency</li>
<li><b>Tracing</b>: Sampling support to reduce overhead</li>
<li><b>Health Checks</b>: Cached results with configurable TTL</li>
<li><b>Circuit Breakers</b>: Lock-free state transitions</li>
<li><b>Stream Processing</b>: Zero-copy where possible</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md1485"></a>
Best Practices</h1>
<ol type="1">
<li><b>Error Handling</b>: Always check <code>result&lt;T&gt;</code> return values</li>
<li><b>Resource Management</b>: Use RAII patterns (scoped_timer, scoped_span)</li>
<li><b>Configuration</b>: Validate configs before use</li>
<li><b>Monitoring</b>: Start with conservative thresholds, tune based on metrics</li>
<li><b>Tracing</b>: Use sampling in production to control overhead</li>
<li><b>Health Checks</b>: Keep checks lightweight and fast</li>
<li><b>Storage</b>: Choose backend based on durability vs performance needs</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md1487"></a>
Migration Guide</h1>
<h2><a class="anchor" id="autotoc_md1488"></a>
From Direct Metrics to Collectors</h2>
<div class="fragment"><div class="line"><span class="comment">// Old way</span></div>
<div class="line">metrics.record(<span class="stringliteral">&quot;latency&quot;</span>, 150.0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// New way</span></div>
<div class="line"><span class="keyword">auto</span> timer = perf_monitor.time_operation(<span class="stringliteral">&quot;process_request&quot;</span>);</div>
<div class="line"><span class="comment">// ... operation ...</span></div>
<div class="line">timer.complete();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1489"></a>
From Callbacks to Health Checks</h2>
<div class="fragment"><div class="line"><span class="comment">// Old way</span></div>
<div class="line">register_health_callback([]() { <span class="keywordflow">return</span> check_health(); });</div>
<div class="line"> </div>
<div class="line"><span class="comment">// New way</span></div>
<div class="line">monitor.register_check(<span class="stringliteral">&quot;service&quot;</span>,</div>
<div class="line">    std::make_shared&lt;functional_health_check&gt;(</div>
<div class="line">        <span class="stringliteral">&quot;service_check&quot;</span>,</div>
<div class="line">        health_check_type::liveness,</div>
<div class="line">        []() { <span class="keywordflow">return</span> check_health(); }</div>
<div class="line">    )</div>
<div class="line">);</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md1491"></a>
Version Compatibility</h1>
<ul>
<li>C++17 or later required</li>
<li>Thread support required</li>
<li>Optional: C++20 for enhanced features (concepts, coroutines)</li>
<li>Compatible with: GCC 7+, Clang 5+, MSVC 2017+</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md1493"></a>
Test Coverage ✅ &lt;strong&gt;37 Tests Passing (100% Success Rate)&lt;/strong&gt;</h1>
<h2><a class="anchor" id="autotoc_md1494"></a>
Test Suite Status</h2>
<p><b>Phase 4 Test Results:</b> All core functionality is thoroughly tested with comprehensive test coverage.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Test Suite   </th><th class="markdownTableHeadNone">Tests   </th><th class="markdownTableHeadNone">Status   </th><th class="markdownTableHeadNone">Coverage    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Result Types</b>   </td><td class="markdownTableBodyNone">13 tests   </td><td class="markdownTableBodyNone">✅ PASS   </td><td class="markdownTableBodyNone">Complete error handling, Result&lt;T&gt; pattern, metadata operations    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>DI <a class="el" href="../../d0/d7b/classContainer.html">Container</a></b>   </td><td class="markdownTableBodyNone">9 tests   </td><td class="markdownTableBodyNone">✅ PASS   </td><td class="markdownTableBodyNone">Service registration, resolution, singleton/transient lifecycles    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Monitorable Interface</b>   </td><td class="markdownTableBodyNone">9 tests   </td><td class="markdownTableBodyNone">✅ PASS   </td><td class="markdownTableBodyNone">Basic monitoring interfaces and stub implementations    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Thread Context</b>   </td><td class="markdownTableBodyNone">6 tests   </td><td class="markdownTableBodyNone">✅ PASS   </td><td class="markdownTableBodyNone">Thread-safe context management and ID generation   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md1495"></a>
Running Tests</h2>
<div class="fragment"><div class="line"># Navigate to build directory</div>
<div class="line">cd build</div>
<div class="line"> </div>
<div class="line"># Run all tests</div>
<div class="line">./tests/monitoring_system_tests</div>
<div class="line"> </div>
<div class="line"># Run specific test suites</div>
<div class="line">./tests/monitoring_system_tests --gtest_filter=&quot;ResultTypesTest.*&quot;</div>
<div class="line">./tests/monitoring_system_tests --gtest_filter=&quot;DIContainerTest.*&quot;</div>
<div class="line">./tests/monitoring_system_tests --gtest_filter=&quot;MonitorableInterfaceTest.*&quot;</div>
<div class="line">./tests/monitoring_system_tests --gtest_filter=&quot;ThreadContextTest.*&quot;</div>
<div class="line"> </div>
<div class="line"># List all available tests</div>
<div class="line">./tests/monitoring_system_tests --gtest_list_tests</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1496"></a>
Test Implementation Details</h2>
<h3><a class="anchor" id="autotoc_md1497"></a>
Result Types Test Coverage</h3>
<ul>
<li>Success and error result creation</li>
<li>Value access and error handling</li>
<li><code>value_or()</code> default value behavior</li>
<li>Monadic operations (<code>map</code>, <code>and_then</code>)</li>
<li>Result void operations</li>
<li>Error code to string conversion</li>
<li>Metadata operations</li>
</ul>
<h3><a class="anchor" id="autotoc_md1498"></a>
DI Container Test Coverage</h3>
<ul>
<li>Transient service registration and resolution</li>
<li>Singleton service lifecycle management</li>
<li>Named service registration</li>
<li>Instance registration</li>
<li>Service resolution verification</li>
<li><a class="el" href="../../d0/d7b/classContainer.html">Container</a> state management</li>
</ul>
<h3><a class="anchor" id="autotoc_md1499"></a>
Monitorable Interface Test Coverage</h3>
<ul>
<li>Basic interface implementations</li>
<li>Metrics collection stubs</li>
<li>Status reporting</li>
<li>Configuration management</li>
<li>Monitoring lifecycle</li>
</ul>
<h3><a class="anchor" id="autotoc_md1500"></a>
Thread Context Test Coverage</h3>
<ul>
<li>Context creation and retrieval</li>
<li>Request ID and correlation ID generation</li>
<li>Thread-local storage behavior</li>
<li>Context clearing and state management</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md1502"></a>
Current Implementation Status</h1>
<h2><a class="anchor" id="autotoc_md1503"></a>
✅ Fully Implemented &amp; Tested</h2>
<ul>
<li><b>Result Types</b>: Complete error handling framework</li>
<li><b>DI <a class="el" href="../../d0/d7b/classContainer.html">Container</a></b>: Full dependency injection functionality</li>
<li><b>Thread Context</b>: Thread-safe context management</li>
<li><b>Core Interfaces</b>: Basic monitoring abstractions</li>
</ul>
<h2><a class="anchor" id="autotoc_md1504"></a>
⚠️ Stub Implementations (Foundation for Future Development)</h2>
<ul>
<li><b>Performance Monitoring</b>: Interface complete, basic implementation</li>
<li><b>Distributed Tracing</b>: Interface complete, stub functionality</li>
<li><b>Storage Backends</b>: Interface complete, file storage stub</li>
<li><b>Health Monitoring</b>: Interface complete, basic health checks</li>
<li><b>Circuit Breakers</b>: Interface complete, basic state management</li>
</ul>
<h2><a class="anchor" id="autotoc_md1505"></a>
🔄 Future Implementation Phases</h2>
<ul>
<li>Advanced alerting system</li>
<li>Real-time web dashboard</li>
<li>Advanced storage backends</li>
<li>OpenTelemetry integration</li>
<li>Stream processing capabilities</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md1507"></a>
Migration Notes for Phase 4</h1>
<p>Phase 4 focuses on <b>core foundation stability</b> rather than feature completeness. This approach provides:</p>
<ol type="1">
<li><b>Solid Foundation</b>: All core types and patterns are fully implemented and tested</li>
<li><b>Extensible Architecture</b>: Stub implementations provide clear interfaces for future expansion</li>
<li><b>Production Ready Core</b>: Error handling, DI, and context management are production-quality</li>
<li><b>Incremental Development</b>: Features can be added incrementally without breaking existing code</li>
</ol>
<hr  />
<h1><a class="anchor" id="autotoc_md1509"></a>
Further Reading</h1>
<ul>
<li>Phase 4 Documentation - Current implementation details</li>
<li><a class="el" href="../../d1/d2c/md_libraries_2monitoring__system_2docs_2ARCHITECTURE__GUIDE.html">Architecture Guide</a> - System design and patterns</li>
<li><a href="../../../examples/">Examples</a> - Working code examples</li>
<li><a class="el" href="../../d2/dd8/md_libraries_2monitoring__system_2docs_2CHANGELOG.html">Changelog</a> - Version history and changes </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
