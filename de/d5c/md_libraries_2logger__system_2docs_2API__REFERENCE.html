<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: API Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('de/d5c/md_libraries_2logger__system_2docs_2API__REFERENCE.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">API Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md933"></a> </p>
<h1><a class="anchor" id="autotoc_md934"></a>
Table of Contents</h1>
<ul>
<li>Core Classes</li>
<li>Configuration</li>
<li>Builder Pattern</li>
<li>Interfaces</li>
<li>Error Handling</li>
<li>Writers</li>
<li>Filters</li>
<li>Formatters</li>
</ul>
<h1><a class="anchor" id="autotoc_md935"></a>
Core Classes</h1>
<h2><a class="anchor" id="autotoc_md936"></a>
&lt;tt&gt;logger_module::logger&lt;/tt&gt;</h2>
<p>The main logger class that handles all logging operations.</p>
<h3><a class="anchor" id="autotoc_md937"></a>
Constructor</h3>
<div class="fragment"><div class="line">logger(<span class="keywordtype">size_t</span> buffer_size = 8192);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md938"></a>
Methods</h3>
<h4><a class="anchor" id="autotoc_md939"></a>
&lt;tt&gt;log&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> log(<a class="code hl_enumeration" href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">thread_module::log_level</a> level, </div>
<div class="line">                <span class="keyword">const</span> std::string&amp; message,</div>
<div class="line">                <span class="keyword">const</span> std::string&amp; file = <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line">                <span class="keywordtype">int</span> line = 0,</div>
<div class="line">                <span class="keyword">const</span> std::string&amp; function = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="ttc" id="aclasskcenon_1_1thread_1_1result__void_html"><div class="ttname"><a href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">kcenon::thread::result_void</a></div><div class="ttdoc">Wrapper for void result.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d9a/core_2sync_2include_2error__handling_8h_source.html#l00194">error_handling.h:194</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1thread_html_a6215eac0c720de40677c39d154a1801f"><div class="ttname"><a href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">kcenon::thread::log_level</a></div><div class="ttdeci">log_level</div><div class="ttdoc">Log level enumeration.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d05/thread__system_2include_2kcenon_2thread_2interfaces_2logger__interface_8h_source.html#l00037">logger_interface.h:37</a></div></div>
</div><!-- fragment --><p> Logs a message with specified level and optional source location.</p>
<p><b>Returns:</b> <code>result_void</code> - Success or error with details</p>
<p><b>Error Codes:</b></p><ul>
<li><code>queue_full</code>: The internal queue is full</li>
<li><code>queue_stopped</code>: Logger is shutting down</li>
</ul>
<h4><a class="anchor" id="autotoc_md940"></a>
&lt;tt&gt;add_writer&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> add_writer(<span class="keyword">const</span> std::string&amp; name, std::unique_ptr&lt;base_writer&gt; writer);</div>
<div class="line"><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> add_writer(std::unique_ptr&lt;base_writer&gt; writer);</div>
</div><!-- fragment --><p> Adds a writer to the logger.</p>
<h4><a class="anchor" id="autotoc_md941"></a>
&lt;tt&gt;set_min_level&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> set_min_level(<a class="code hl_enumeration" href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">thread_module::log_level</a> level);</div>
</div><!-- fragment --><p> Sets the minimum log level. Messages below this level are discarded.</p>
<h4><a class="anchor" id="autotoc_md942"></a>
&lt;tt&gt;enable_metrics_collection&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> enable_metrics_collection(<span class="keywordtype">bool</span> enable);</div>
</div><!-- fragment --><p> Enables or disables performance metrics collection.</p>
<h4><a class="anchor" id="autotoc_md943"></a>
&lt;tt&gt;flush&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> flush();</div>
</div><!-- fragment --><p> Flushes all pending log messages.</p>
<h1><a class="anchor" id="autotoc_md944"></a>
Configuration</h1>
<h2><a class="anchor" id="autotoc_md945"></a>
&lt;tt&gt;logger_module::logger_config&lt;/tt&gt;</h2>
<p>Configuration structure with validation capabilities.</p>
<h3><a class="anchor" id="autotoc_md946"></a>
Members</h3>
<div class="fragment"><div class="line"><span class="keyword">struct </span>logger_config {</div>
<div class="line">    <span class="comment">// Basic settings</span></div>
<div class="line">    <span class="keywordtype">bool</span> async = <span class="keyword">true</span>;</div>
<div class="line">    std::size_t buffer_size = 8192;</div>
<div class="line">    <a class="code hl_enumeration" href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">thread_module::log_level</a> min_level = thread_module::log_level::info;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Performance settings</span></div>
<div class="line">    std::size_t batch_size = 100;</div>
<div class="line">    std::chrono::milliseconds flush_interval{1000};</div>
<div class="line">    <span class="keywordtype">bool</span> use_lock_free = <span class="keyword">false</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Feature flags</span></div>
<div class="line">    <span class="keywordtype">bool</span> enable_metrics = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> enable_crash_handler = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> enable_structured_logging = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordtype">bool</span> enable_color_output = <span class="keyword">true</span>;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Queue settings</span></div>
<div class="line">    std::size_t max_queue_size = 10000;</div>
<div class="line">    overflow_policy queue_overflow_policy = overflow_policy::drop_newest;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// File settings</span></div>
<div class="line">    std::size_t max_file_size = 100 * 1024 * 1024;  <span class="comment">// 100MB</span></div>
<div class="line">    std::size_t max_file_count = 5;</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Network settings</span></div>
<div class="line">    std::string remote_host = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line">    uint16_t remote_port = 0;</div>
<div class="line">    std::chrono::milliseconds network_timeout{5000};</div>
<div class="line">};</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md947"></a>
Methods</h3>
<h4><a class="anchor" id="autotoc_md948"></a>
&lt;tt&gt;validate&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> validate() <span class="keyword">const</span>;</div>
</div><!-- fragment --><p> Validates the configuration.</p>
<p><b>Returns:</b> <code>result_void</code> - Success or validation error</p>
<p><b>Error Codes:</b></p><ul>
<li><code>invalid_configuration</code>: Configuration parameter is invalid</li>
</ul>
<h3><a class="anchor" id="autotoc_md949"></a>
Static Factory Methods</h3>
<h4><a class="anchor" id="autotoc_md950"></a>
&lt;tt&gt;default_config&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keyword">static</span> logger_config default_config();</div>
</div><!-- fragment --><p> Returns default configuration.</p>
<h4><a class="anchor" id="autotoc_md951"></a>
&lt;tt&gt;production&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keyword">static</span> logger_config production();</div>
</div><!-- fragment --><p> Returns production-optimized configuration.</p>
<h4><a class="anchor" id="autotoc_md952"></a>
&lt;tt&gt;debug_config&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keyword">static</span> logger_config debug_config();</div>
</div><!-- fragment --><p> Returns debug-optimized configuration (synchronous, immediate output).</p>
<h4><a class="anchor" id="autotoc_md953"></a>
&lt;tt&gt;high_performance&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keyword">static</span> logger_config high_performance();</div>
</div><!-- fragment --><p> Returns high-throughput configuration.</p>
<h4><a class="anchor" id="autotoc_md954"></a>
&lt;tt&gt;low_latency&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><span class="keyword">static</span> logger_config low_latency();</div>
</div><!-- fragment --><p> Returns low-latency configuration for real-time systems.</p>
<h1><a class="anchor" id="autotoc_md955"></a>
Builder Pattern</h1>
<h2><a class="anchor" id="autotoc_md956"></a>
&lt;tt&gt;logger_module::logger_builder&lt;/tt&gt;</h2>
<p>Fluent interface for constructing logger instances.</p>
<h3><a class="anchor" id="autotoc_md957"></a>
Methods</h3>
<h4><a class="anchor" id="autotoc_md958"></a>
&lt;tt&gt;with_config&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; with_config(<span class="keyword">const</span> logger_config&amp; config);</div>
</div><!-- fragment --><p> Sets the entire configuration.</p>
<h4><a class="anchor" id="autotoc_md959"></a>
&lt;tt&gt;use_template&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; use_template(<span class="keyword">const</span> std::string&amp; template_name);</div>
</div><!-- fragment --><p> Uses a predefined configuration template.</p>
<p><b>Templates:</b></p><ul>
<li><code>"default"</code>: Default configuration</li>
<li><code>"production"</code>: Production environment</li>
<li><code>"debug"</code>: Development/debugging</li>
<li><code>"high_performance"</code>: Maximum throughput</li>
<li><code>"low_latency"</code>: Minimum latency</li>
</ul>
<h4><a class="anchor" id="autotoc_md960"></a>
&lt;tt&gt;with_async&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; with_async(<span class="keywordtype">bool</span> async = <span class="keyword">true</span>);</div>
</div><!-- fragment --><p> Enables or disables asynchronous logging.</p>
<h4><a class="anchor" id="autotoc_md961"></a>
&lt;tt&gt;with_buffer_size&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; with_buffer_size(std::size_t size);</div>
</div><!-- fragment --><p> Sets the buffer size.</p>
<h4><a class="anchor" id="autotoc_md962"></a>
&lt;tt&gt;with_min_level&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; with_min_level(<a class="code hl_enumeration" href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">thread_module::log_level</a> level);</div>
</div><!-- fragment --><p> Sets the minimum log level.</p>
<h4><a class="anchor" id="autotoc_md963"></a>
&lt;tt&gt;with_metrics&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; with_metrics(<span class="keywordtype">bool</span> enable = <span class="keyword">true</span>);</div>
</div><!-- fragment --><p> Enables metrics collection.</p>
<h4><a class="anchor" id="autotoc_md964"></a>
&lt;tt&gt;add_writer&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; add_writer(<span class="keyword">const</span> std::string&amp; name, </div>
<div class="line">                           std::unique_ptr&lt;base_writer&gt; writer);</div>
</div><!-- fragment --><p> Adds a named writer.</p>
<h4><a class="anchor" id="autotoc_md965"></a>
&lt;tt&gt;add_filter&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">logger_builder&amp; add_filter(std::unique_ptr&lt;log_filter&gt; filter);</div>
</div><!-- fragment --><p> Adds a filter.</p>
<h4><a class="anchor" id="autotoc_md966"></a>
&lt;tt&gt;validate&lt;/tt&gt;</h4>
<div class="fragment"><div class="line"><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> validate() <span class="keyword">const</span>;</div>
</div><!-- fragment --><p> Validates the current configuration without building.</p>
<h4><a class="anchor" id="autotoc_md967"></a>
&lt;tt&gt;build&lt;/tt&gt;</h4>
<div class="fragment"><div class="line">result&lt;std::unique_ptr&lt;logger&gt;&gt; build();</div>
</div><!-- fragment --><p> Builds the logger with validation.</p>
<p><b>Returns:</b> <code>result&lt;unique_ptr&lt;logger&gt;&gt;</code> - Logger instance or error</p>
<p><b>Error Codes:</b></p><ul>
<li><code>invalid_configuration</code>: Configuration validation failed</li>
</ul>
<h1><a class="anchor" id="autotoc_md968"></a>
Interfaces</h1>
<h2><a class="anchor" id="autotoc_md969"></a>
&lt;tt&gt;logger_module::log_writer_interface&lt;/tt&gt;</h2>
<p>Interface for log writers.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>log_writer_interface {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~log_writer_interface() = <span class="keywordflow">default</span>;</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> write(<span class="keyword">const</span> log_entry&amp; entry) = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> flush() = 0;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> is_healthy()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md970"></a>
&lt;tt&gt;logger_module::log_filter_interface&lt;/tt&gt;</h2>
<p>Interface for log filters.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>log_filter_interface {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~log_filter_interface() = <span class="keywordflow">default</span>;</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> should_log(<span class="keyword">const</span> log_entry&amp; entry) <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md971"></a>
&lt;tt&gt;logger_module::log_formatter_interface&lt;/tt&gt;</h2>
<p>Interface for log formatters.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>log_formatter_interface {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> ~log_formatter_interface() = <span class="keywordflow">default</span>;</div>
<div class="line">    <span class="keyword">virtual</span> std::string format(<span class="keyword">const</span> log_entry&amp; entry) <span class="keyword">const</span> = 0;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md972"></a>
&lt;tt&gt;logger_module::log_entry&lt;/tt&gt;</h2>
<p>Unified structure for log data.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>log_entry {</div>
<div class="line">    <a class="code hl_enumeration" href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">thread_module::log_level</a> level;</div>
<div class="line">    std::string message;</div>
<div class="line">    std::string file;</div>
<div class="line">    <span class="keywordtype">int</span> line;</div>
<div class="line">    std::string function;</div>
<div class="line">    std::chrono::system_clock::time_point timestamp;</div>
<div class="line">    std::thread::id thread_id;</div>
<div class="line">    std::unordered_map&lt;std::string, std::string&gt; context;</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md973"></a>
Error Handling</h1>
<h2><a class="anchor" id="autotoc_md974"></a>
Error Codes</h2>
<div class="fragment"><div class="line"><span class="keyword">enum class</span> logger_error_code {</div>
<div class="line">    <span class="comment">// General errors</span></div>
<div class="line">    success = 0,</div>
<div class="line">    unknown_error = 1,</div>
<div class="line">    not_implemented = 2,</div>
<div class="line">    invalid_argument = 3,</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Writer errors (1000-1099)</span></div>
<div class="line">    writer_not_found = 1000,</div>
<div class="line">    writer_initialization_failed = 1001,</div>
<div class="line">    writer_already_exists = 1002,</div>
<div class="line">    writer_not_healthy = 1003,</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// File errors (1100-1199)</span></div>
<div class="line">    file_open_failed = 1100,</div>
<div class="line">    file_write_failed = 1101,</div>
<div class="line">    file_rotation_failed = 1102,</div>
<div class="line">    file_permission_denied = 1103,</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Network errors (1200-1299)</span></div>
<div class="line">    network_connection_failed = 1200,</div>
<div class="line">    network_send_failed = 1201,</div>
<div class="line">    network_timeout = 1202,</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Buffer/Queue errors (1300-1399)</span></div>
<div class="line">    buffer_overflow = 1300,</div>
<div class="line">    queue_full = 1301,</div>
<div class="line">    queue_stopped = 1302,</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Configuration errors (1400-1499)</span></div>
<div class="line">    invalid_configuration = 1400,</div>
<div class="line">    configuration_missing = 1401,</div>
<div class="line">    configuration_conflict = 1402</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md975"></a>
Helper Functions</h2>
<div class="fragment"><div class="line"><span class="comment">// Create error result</span></div>
<div class="line"><a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> make_error(logger_error_code code, </div>
<div class="line">                       <span class="keyword">const</span> std::string&amp; message = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Convert error code to string</span></div>
<div class="line">std::string logger_error_to_string(logger_error_code code);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md976"></a>
Writers</h1>
<h2><a class="anchor" id="autotoc_md977"></a>
&lt;tt&gt;logger_module::console_writer&lt;/tt&gt;</h2>
<p>Writes logs to console with optional color support.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>console_writer : <span class="keyword">public</span> base_writer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    console_writer(<span class="keywordtype">bool</span> use_color = <span class="keyword">true</span>);</div>
<div class="line">    <span class="keywordtype">void</span> set_use_color(<span class="keywordtype">bool</span> use_color);</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md978"></a>
&lt;tt&gt;logger_module::file_writer&lt;/tt&gt;</h2>
<p>Writes logs to a file.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>file_writer : <span class="keyword">public</span> base_writer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    file_writer(<span class="keyword">const</span> std::string&amp; filename);</div>
<div class="line">    <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> open();</div>
<div class="line">    <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> <a class="code hl_define" href="../../d3/d61/network__writer_8cpp.html#a9c7f6d5331abb2692a876d5ee67474b7">close</a>();</div>
<div class="line">};</div>
<div class="ttc" id="anetwork__writer_8cpp_html_a9c7f6d5331abb2692a876d5ee67474b7"><div class="ttname"><a href="../../d3/d61/network__writer_8cpp.html#a9c7f6d5331abb2692a876d5ee67474b7">close</a></div><div class="ttdeci">#define close</div><div class="ttdef"><b>Definition</b> <a href="../../d3/d61/network__writer_8cpp_source.html#l00016">network_writer.cpp:16</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md979"></a>
&lt;tt&gt;logger_module::rotating_file_writer&lt;/tt&gt;</h2>
<p>File writer with rotation support.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>rotating_file_writer : <span class="keyword">public</span> base_writer {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">enum class</span> rotation_type {</div>
<div class="line">        size_based,</div>
<div class="line">        time_based,</div>
<div class="line">        daily,</div>
<div class="line">        hourly</div>
<div class="line">    };</div>
<div class="line">    </div>
<div class="line">    rotating_file_writer(<span class="keyword">const</span> std::string&amp; filename,</div>
<div class="line">                        std::size_t max_size,</div>
<div class="line">                        std::size_t max_files);</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md980"></a>
Filters</h1>
<h2><a class="anchor" id="autotoc_md981"></a>
&lt;tt&gt;logger_module::level_filter&lt;/tt&gt;</h2>
<p>Filters messages by log level.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>level_filter : <span class="keyword">public</span> log_filter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    level_filter(<a class="code hl_enumeration" href="../../da/dcc/namespacekcenon_1_1thread.html#a6215eac0c720de40677c39d154a1801f">thread_module::log_level</a> min_level);</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md982"></a>
&lt;tt&gt;logger_module::regex_filter&lt;/tt&gt;</h2>
<p>Filters messages using regular expressions.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>regex_filter : <span class="keyword">public</span> log_filter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    regex_filter(<span class="keyword">const</span> std::string&amp; pattern, <span class="keywordtype">bool</span> include = <span class="keyword">true</span>);</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md983"></a>
&lt;tt&gt;logger_module::function_filter&lt;/tt&gt;</h2>
<p>Custom filter using a function.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>function_filter : <span class="keyword">public</span> log_filter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">using </span>filter_func = std::function&lt;bool(<span class="keyword">const</span> log_entry&amp;)&gt;;</div>
<div class="line">    function_filter(filter_func func);</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md984"></a>
Formatters</h1>
<h2><a class="anchor" id="autotoc_md985"></a>
&lt;tt&gt;logger_module::plain_formatter&lt;/tt&gt;</h2>
<p>Simple plain text formatter.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>plain_formatter : <span class="keyword">public</span> base_formatter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    std::string format(<span class="keyword">const</span> log_entry&amp; entry) <span class="keyword">const override</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md986"></a>
&lt;tt&gt;logger_module::json_formatter&lt;/tt&gt;</h2>
<p>JSON output formatter.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>json_formatter : <span class="keyword">public</span> base_formatter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    json_formatter(<span class="keywordtype">bool</span> pretty_print = <span class="keyword">false</span>);</div>
<div class="line">    std::string format(<span class="keyword">const</span> log_entry&amp; entry) <span class="keyword">const override</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md987"></a>
&lt;tt&gt;logger_module::compact_formatter&lt;/tt&gt;</h2>
<p>Compact single-line formatter.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>compact_formatter : <span class="keyword">public</span> base_formatter {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    std::string format(<span class="keyword">const</span> log_entry&amp; entry) <span class="keyword">const override</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md988"></a>
Usage Examples</h1>
<h2><a class="anchor" id="autotoc_md989"></a>
Basic Usage</h2>
<div class="fragment"><div class="line"><span class="comment">// Using builder pattern</span></div>
<div class="line"><span class="keyword">auto</span> result = <a class="code hl_class" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html">logger_module::logger_builder</a>()</div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#a280c589564b5b5ede0d1789b538ad0f1">use_template</a>(<span class="stringliteral">&quot;production&quot;</span>)</div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#ab08dc298e58d20549adcc16c5140e0e0">add_writer</a>(<span class="stringliteral">&quot;console&quot;</span>, std::make_unique&lt;console_writer&gt;())</div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#ac055417d32675b0fee649681e1ded0fa">build</a>();</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (result) {</div>
<div class="line">    <span class="keyword">auto</span> logger = std::move(result.value());</div>
<div class="line">    logger-&gt;log(thread_module::log_level::info, <span class="stringliteral">&quot;Hello, World!&quot;</span>);</div>
<div class="line">}</div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1logger__builder_html"><div class="ttname"><a href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html">kcenon::logger::logger_builder</a></div><div class="ttdoc">Builder pattern for logger construction with validation.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d2a/logger__builder_8h_source.html#l00107">logger_builder.h:107</a></div></div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1logger__builder_html_a280c589564b5b5ede0d1789b538ad0f1"><div class="ttname"><a href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#a280c589564b5b5ede0d1789b538ad0f1">kcenon::logger::logger_builder::use_template</a></div><div class="ttdeci">logger_builder &amp; use_template(const std::string &amp;name)</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d2a/logger__builder_8h_source.html#l00394">logger_builder.h:394</a></div></div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1logger__builder_html_ab08dc298e58d20549adcc16c5140e0e0"><div class="ttname"><a href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#ab08dc298e58d20549adcc16c5140e0e0">kcenon::logger::logger_builder::add_writer</a></div><div class="ttdeci">logger_builder &amp; add_writer(const std::string &amp;name, std::unique_ptr&lt; base_writer &gt; writer)</div><div class="ttdoc">Add a writer to the logger.</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d2a/logger__builder_8h_source.html#l00343">logger_builder.h:343</a></div></div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1logger__builder_html_ac055417d32675b0fee649681e1ded0fa"><div class="ttname"><a href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#ac055417d32675b0fee649681e1ded0fa">kcenon::logger::logger_builder::build</a></div><div class="ttdeci">result&lt; std::unique_ptr&lt; logger &gt; &gt; build()</div><div class="ttdef"><b>Definition</b> <a href="../../d0/d2a/logger__builder_8h_source.html#l00662">logger_builder.h:662</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md990"></a>
Error Handling</h2>
<div class="fragment"><div class="line"><span class="keyword">auto</span> log_result = logger-&gt;log(thread_module::log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!log_result) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Logging failed: &quot;</span> </div>
<div class="line">              &lt;&lt; log_result.get_error().message() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md991"></a>
Custom Writer</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span>custom_writer : <span class="keyword">public</span> <a class="code hl_interface" href="../../dd/d95/classkcenon_1_1logger_1_1log__writer__interface.html">logger_module::log_writer_interface</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> <a class="code hl_function" href="../../dd/d95/classkcenon_1_1logger_1_1log__writer__interface.html#a07e586182415cc2bab03c0870b420668">write</a>(<span class="keyword">const</span> <a class="code hl_struct" href="../../d4/d83/structkcenon_1_1logger_1_1log__entry.html">logger_module::log_entry</a>&amp; entry)<span class="keyword"> override </span>{</div>
<div class="line">        <span class="comment">// Custom implementation</span></div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a>{};  <span class="comment">// Success</span></div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a> <a class="code hl_function" href="../../dd/d95/classkcenon_1_1logger_1_1log__writer__interface.html#ad171b68a025ae5e32936a711e87a6ac8">flush</a>()<span class="keyword"> override </span>{</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_class" href="../../de/dff/classkcenon_1_1thread_1_1result__void.html">result_void</a>{};</div>
<div class="line">    }</div>
<div class="line">};</div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1log__writer__interface_html"><div class="ttname"><a href="../../dd/d95/classkcenon_1_1logger_1_1log__writer__interface.html">kcenon::logger::log_writer_interface</a></div><div class="ttdoc">Interface for log writers.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd6/log__writer__interface_8h_source.html#l00026">log_writer_interface.h:26</a></div></div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1log__writer__interface_html_a07e586182415cc2bab03c0870b420668"><div class="ttname"><a href="../../dd/d95/classkcenon_1_1logger_1_1log__writer__interface.html#a07e586182415cc2bab03c0870b420668">kcenon::logger::log_writer_interface::write</a></div><div class="ttdeci">virtual result_void write(const log_entry &amp;entry)=0</div><div class="ttdoc">Write a log entry.</div></div>
<div class="ttc" id="aclasskcenon_1_1logger_1_1log__writer__interface_html_ad171b68a025ae5e32936a711e87a6ac8"><div class="ttname"><a href="../../dd/d95/classkcenon_1_1logger_1_1log__writer__interface.html#ad171b68a025ae5e32936a711e87a6ac8">kcenon::logger::log_writer_interface::flush</a></div><div class="ttdeci">virtual result_void flush()=0</div><div class="ttdoc">Flush any buffered data.</div></div>
<div class="ttc" id="astructkcenon_1_1logger_1_1log__entry_html"><div class="ttname"><a href="../../d4/d83/structkcenon_1_1logger_1_1log__entry.html">kcenon::logger::log_entry</a></div><div class="ttdoc">Represents a single log entry with all associated metadata.</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d0b/log__entry_8h_source.html#l00138">log_entry.h:138</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md992"></a>
Configuration Validation</h2>
<div class="fragment"><div class="line">logger_config config;</div>
<div class="line">config.buffer_size = 0;  <span class="comment">// Invalid!</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> validation = config.validate();</div>
<div class="line"><span class="keywordflow">if</span> (!validation) {</div>
<div class="line">    std::cerr &lt;&lt; <span class="stringliteral">&quot;Invalid config: &quot;</span> </div>
<div class="line">              &lt;&lt; validation.get_error().message() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md993"></a>
Thread Safety</h1>
<p>All public methods of the logger class are thread-safe. Writers should implement their own synchronization if needed.</p>
<h1><a class="anchor" id="autotoc_md994"></a>
Performance Considerations</h1>
<ul>
<li>Use asynchronous mode for better performance</li>
<li>Batch size affects latency vs throughput trade-off</li>
<li>Lock-free queue provides better scalability (when enabled)</li>
<li>Larger buffer sizes reduce contention but increase memory usage</li>
</ul>
<h1><a class="anchor" id="autotoc_md995"></a>
Advanced Features</h1>
<h2><a class="anchor" id="autotoc_md996"></a>
Structured Logging</h2>
<div class="fragment"><div class="line"><span class="comment">// Using structured fields with built-in logger methods</span></div>
<div class="line">logger-&gt;info(<span class="stringliteral">&quot;User login&quot;</span>, {</div>
<div class="line">    {<span class="stringliteral">&quot;user_id&quot;</span>, 12345},</div>
<div class="line">    {<span class="stringliteral">&quot;ip_address&quot;</span>, <span class="stringliteral">&quot;192.168.1.1&quot;</span>},</div>
<div class="line">    {<span class="stringliteral">&quot;timestamp&quot;</span>, std::chrono::system_clock::now()},</div>
<div class="line">    {<span class="stringliteral">&quot;success&quot;</span>, <span class="keyword">true</span>}</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Using log_entry directly for complex scenarios</span></div>
<div class="line">log_entry entry;</div>
<div class="line">entry.level = log_level::info;</div>
<div class="line">entry.message = <span class="stringliteral">&quot;Database query&quot;</span>;</div>
<div class="line">entry.context[<span class="stringliteral">&quot;query&quot;</span>] = <span class="stringliteral">&quot;SELECT * FROM users&quot;</span>;</div>
<div class="line">entry.context[<span class="stringliteral">&quot;duration_ms&quot;</span>] = <span class="stringliteral">&quot;45&quot;</span>;</div>
<div class="line">entry.context[<span class="stringliteral">&quot;rows_returned&quot;</span>] = <span class="stringliteral">&quot;100&quot;</span>;</div>
<div class="line"><span class="comment">// Entry would be processed by structured-aware writers</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md997"></a>
Contextual Logging</h2>
<div class="fragment"><div class="line"><span class="comment">// Set thread-local context (implementation dependent)</span></div>
<div class="line"><span class="comment">// Context is included automatically in log entries</span></div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Processing request&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Context is accessible through the log_entry structure</span></div>
<div class="line"><span class="comment">// in custom writers and formatters</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md998"></a>
Performance Monitoring</h2>
<div class="fragment"><div class="line"><span class="comment">// Enable performance metrics collection</span></div>
<div class="line">logger-&gt;enable_metrics_collection(<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Log some messages</span></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 1000; ++i) {</div>
<div class="line">    <span class="keyword">auto</span> result = logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Test message&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!result) {</div>
<div class="line">        <span class="comment">// Handle logging errors</span></div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get current metrics</span></div>
<div class="line"><span class="keyword">auto</span> metrics = logger-&gt;get_current_metrics();</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Messages per second: &quot;</span> &lt;&lt; metrics.get_messages_per_second() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Average enqueue time: &quot;</span> &lt;&lt; metrics.get_avg_enqueue_time_ns() &lt;&lt; <span class="stringliteral">&quot; ns\n&quot;</span>;</div>
<div class="line">std::cout &lt;&lt; <span class="stringliteral">&quot;Queue utilization: &quot;</span> &lt;&lt; metrics.get_queue_utilization_percent() &lt;&lt; <span class="stringliteral">&quot;%\n&quot;</span>;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md999"></a>
Environment-based Configuration</h2>
<div class="fragment"><div class="line"><span class="comment">// Configuration can adapt based on environment variables</span></div>
<div class="line"><span class="keyword">auto</span> logger = <a class="code hl_class" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html">logger_module::logger_builder</a>()</div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#a280c589564b5b5ede0d1789b538ad0f1">use_template</a>(<span class="stringliteral">&quot;production&quot;</span>)  <span class="comment">// Base template</span></div>
<div class="line">    .with_config_validation(<span class="keyword">true</span>) <span class="comment">// Enable validation</span></div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#ac055417d32675b0fee649681e1ded0fa">build</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Templates support environment variable overrides:</span></div>
<div class="line"><span class="comment">// LOG_LEVEL, LOG_ASYNC, LOG_BUFFER_SIZE, etc.</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1000"></a>
Migration from v1.0</h1>
<p>The v1.0 API is still supported for backward compatibility. New code should use the builder pattern and result types for better error handling.</p>
<div class="fragment"><div class="line"><span class="comment">// Old way (still works)</span></div>
<div class="line"><span class="keyword">auto</span> logger = std::make_shared&lt;logger_module::logger&gt;();</div>
<div class="line">logger-&gt;log(log_level::info, <span class="stringliteral">&quot;Message&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// New way (recommended)</span></div>
<div class="line"><span class="keyword">auto</span> logger = <a class="code hl_class" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html">logger_module::logger_builder</a>()</div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#a280c589564b5b5ede0d1789b538ad0f1">use_template</a>(<span class="stringliteral">&quot;production&quot;</span>)</div>
<div class="line">    .<a class="code hl_function" href="../../dc/d24/classkcenon_1_1logger_1_1logger__builder.html#ac055417d32675b0fee649681e1ded0fa">build</a>()</div>
<div class="line">    .value();  <span class="comment">// or handle error properly</span></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
