<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Messaging System: Database System Performance Benchmarks</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Messaging System<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">High-Performance Cross-Platform Messaging Framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/dd7/md_libraries_2database__system_2docs_2PERFORMANCE__BENCHMARKS.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Database System Performance Benchmarks</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md654"></a> Comprehensive performance analysis and benchmarks for the Database System with multi-backend support, connection pooling, and query builders.</p>
<h1><a class="anchor" id="autotoc_md655"></a>
Table of Contents</h1>
<ul>
<li>Benchmark Overview</li>
<li>Test Environment</li>
<li>Database Performance</li>
<li>Connection Pool Performance</li>
<li>Query Builder Performance</li>
<li>Memory Usage Analysis</li>
<li>Scalability Tests</li>
<li>Best Practices for Performance</li>
</ul>
<h1><a class="anchor" id="autotoc_md656"></a>
Benchmark Overview</h1>
<h2><a class="anchor" id="autotoc_md657"></a>
Testing Methodology</h2>
<ul>
<li><b>Automated Benchmarks</b>: Repeatable test suites with statistical analysis</li>
<li><b>Real-world Scenarios</b>: Practical workloads mimicking production usage</li>
<li><b>Multiple Metrics</b>: Latency, throughput, memory usage, and resource utilization</li>
<li><b>Cross-platform Testing</b>: Results from Linux, macOS, and Windows environments</li>
</ul>
<h2><a class="anchor" id="autotoc_md658"></a>
Key Performance Indicators</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Metric   </th><th class="markdownTableHeadNone">Description   </th><th class="markdownTableHeadNone">Target    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Latency</b>   </td><td class="markdownTableBodyNone">Time to complete single operation   </td><td class="markdownTableBodyNone">&lt; 10ms for simple queries    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Throughput</b>   </td><td class="markdownTableBodyNone">Operations per second   </td><td class="markdownTableBodyNone">&gt; 1000 ops/sec per connection    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Memory Usage</b>   </td><td class="markdownTableBodyNone">Peak memory consumption   </td><td class="markdownTableBodyNone">&lt; 100MB for typical workloads    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Pool Efficiency</b>   </td><td class="markdownTableBodyNone">Connection reuse ratio   </td><td class="markdownTableBodyNone">&gt; 95%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Scalability</b>   </td><td class="markdownTableBodyNone">Performance with concurrent clients   </td><td class="markdownTableBodyNone">Linear up to 100 connections   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md659"></a>
Test Environment</h1>
<h2><a class="anchor" id="autotoc_md660"></a>
Hardware Specifications</h2>
<div class="fragment"><div class="line">Primary Test System:</div>
<div class="line">- CPU: Intel Core i7-9750H @ 2.60GHz (6 cores, 12 threads)</div>
<div class="line">- Memory: 16GB DDR4-2667</div>
<div class="line">- Storage: Samsung 970 EVO Plus 1TB NVMe SSD</div>
<div class="line">- Network: Gigabit Ethernet (local tests)</div>
<div class="line"> </div>
<div class="line">Secondary Test System (ARM):</div>
<div class="line">- CPU: Apple M1 @ 3.20GHz (8 cores)</div>
<div class="line">- Memory: 16GB Unified Memory</div>
<div class="line">- Storage: 512GB SSD</div>
<div class="line">- Network: Wi-Fi 6</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md661"></a>
Software Environment</h2>
<div class="fragment"><div class="line">Operating Systems:</div>
<div class="line">- Ubuntu 22.04 LTS (Linux kernel 5.15)</div>
<div class="line">- macOS 13.0 Ventura</div>
<div class="line">- Windows 11 Pro</div>
<div class="line"> </div>
<div class="line">Compilers:</div>
<div class="line">- GCC 11.3.0 (Linux)</div>
<div class="line">- Clang 14.0.0 (macOS)</div>
<div class="line">- MSVC 19.33 (Windows)</div>
<div class="line"> </div>
<div class="line">Database Versions:</div>
<div class="line">- PostgreSQL 14.5</div>
<div class="line">- MySQL 8.0.30</div>
<div class="line">- SQLite 3.39.3</div>
<div class="line">- MongoDB 6.0.2</div>
<div class="line">- Redis 7.0.5</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md662"></a>
Build Configuration</h2>
<div class="fragment"><div class="line"># Optimized release build</div>
<div class="line">cmake .. \</div>
<div class="line">  -DCMAKE_BUILD_TYPE=Release \</div>
<div class="line">  -DCMAKE_CXX_FLAGS=&quot;-O3 -march=native -DNDEBUG&quot; \</div>
<div class="line">  -DUSE_POSTGRESQL=ON \</div>
<div class="line">  -DUSE_MYSQL=ON \</div>
<div class="line">  -DUSE_SQLITE=ON \</div>
<div class="line">  -DUSE_MONGODB=ON \</div>
<div class="line">  -DUSE_REDIS=ON</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md663"></a>
Database Performance</h1>
<h2><a class="anchor" id="autotoc_md664"></a>
Single Operation Latency</h2>
<p>Measured time for individual database operations with direct connections (no pooling).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operation   </th><th class="markdownTableHeadNone">PostgreSQL   </th><th class="markdownTableHeadNone">MySQL   </th><th class="markdownTableHeadNone">SQLite   </th><th class="markdownTableHeadNone">MongoDB   </th><th class="markdownTableHeadNone">Redis    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Simple SELECT</b>   </td><td class="markdownTableBodyNone">1.2ms   </td><td class="markdownTableBodyNone">1.5ms   </td><td class="markdownTableBodyNone">0.8ms   </td><td class="markdownTableBodyNone">2.1ms   </td><td class="markdownTableBodyNone">0.3ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Simple INSERT</b>   </td><td class="markdownTableBodyNone">0.9ms   </td><td class="markdownTableBodyNone">1.1ms   </td><td class="markdownTableBodyNone">0.6ms   </td><td class="markdownTableBodyNone">1.8ms   </td><td class="markdownTableBodyNone">0.2ms    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Simple UPDATE</b>   </td><td class="markdownTableBodyNone">1.0ms   </td><td class="markdownTableBodyNone">1.3ms   </td><td class="markdownTableBodyNone">0.7ms   </td><td class="markdownTableBodyNone">1.9ms   </td><td class="markdownTableBodyNone">0.25ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Simple DELETE</b>   </td><td class="markdownTableBodyNone">1.1ms   </td><td class="markdownTableBodyNone">1.4ms   </td><td class="markdownTableBodyNone">0.9ms   </td><td class="markdownTableBodyNone">2.0ms   </td><td class="markdownTableBodyNone">0.3ms    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Complex JOIN</b>   </td><td class="markdownTableBodyNone">15ms   </td><td class="markdownTableBodyNone">18ms   </td><td class="markdownTableBodyNone">12ms   </td><td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone">N/A    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Aggregate Query</b>   </td><td class="markdownTableBodyNone">8ms   </td><td class="markdownTableBodyNone">10ms   </td><td class="markdownTableBodyNone">6ms   </td><td class="markdownTableBodyNone">12ms   </td><td class="markdownTableBodyNone">1ms   </td></tr>
</table>
<p><em>Results represent median latency over 10,000 operations</em></p>
<h2><a class="anchor" id="autotoc_md665"></a>
Bulk Operations Performance</h2>
<p>Performance for batch operations (1,000 records per batch).</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Operation   </th><th class="markdownTableHeadNone">PostgreSQL   </th><th class="markdownTableHeadNone">MySQL   </th><th class="markdownTableHeadNone">SQLite   </th><th class="markdownTableHeadNone">MongoDB   </th><th class="markdownTableHeadNone">Redis    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Bulk INSERT</b>   </td><td class="markdownTableBodyNone">45ms   </td><td class="markdownTableBodyNone">52ms   </td><td class="markdownTableBodyNone">38ms   </td><td class="markdownTableBodyNone">35ms   </td><td class="markdownTableBodyNone">28ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Bulk UPDATE</b>   </td><td class="markdownTableBodyNone">78ms   </td><td class="markdownTableBodyNone">89ms   </td><td class="markdownTableBodyNone">65ms   </td><td class="markdownTableBodyNone">58ms   </td><td class="markdownTableBodyNone">42ms    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Bulk DELETE</b>   </td><td class="markdownTableBodyNone">82ms   </td><td class="markdownTableBodyNone">95ms   </td><td class="markdownTableBodyNone">70ms   </td><td class="markdownTableBodyNone">61ms   </td><td class="markdownTableBodyNone">45ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Batch SELECT</b>   </td><td class="markdownTableBodyNone">125ms   </td><td class="markdownTableBodyNone">145ms   </td><td class="markdownTableBodyNone">98ms   </td><td class="markdownTableBodyNone">185ms   </td><td class="markdownTableBodyNone">65ms   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md666"></a>
Throughput Analysis</h2>
<p>Operations per second with optimized connections.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Database   </th><th class="markdownTableHeadNone">Single Thread   </th><th class="markdownTableHeadNone">4 Threads   </th><th class="markdownTableHeadNone">8 Threads   </th><th class="markdownTableHeadNone">16 Threads    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>PostgreSQL</b>   </td><td class="markdownTableBodyNone">1,250 ops/sec   </td><td class="markdownTableBodyNone">4,800 ops/sec   </td><td class="markdownTableBodyNone">8,500 ops/sec   </td><td class="markdownTableBodyNone">12,000 ops/sec    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>MySQL</b>   </td><td class="markdownTableBodyNone">1,100 ops/sec   </td><td class="markdownTableBodyNone">4,200 ops/sec   </td><td class="markdownTableBodyNone">7,800 ops/sec   </td><td class="markdownTableBodyNone">10,500 ops/sec    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SQLite</b>   </td><td class="markdownTableBodyNone">1,800 ops/sec   </td><td class="markdownTableBodyNone">2,200 ops/sec   </td><td class="markdownTableBodyNone">2,400 ops/sec   </td><td class="markdownTableBodyNone">2,500 ops/sec¹    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>MongoDB</b>   </td><td class="markdownTableBodyNone">950 ops/sec   </td><td class="markdownTableBodyNone">3,600 ops/sec   </td><td class="markdownTableBodyNone">6,800 ops/sec   </td><td class="markdownTableBodyNone">9,200 ops/sec    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Redis</b>   </td><td class="markdownTableBodyNone">8,500 ops/sec   </td><td class="markdownTableBodyNone">28,000 ops/sec   </td><td class="markdownTableBodyNone">45,000 ops/sec   </td><td class="markdownTableBodyNone">62,000 ops/sec   </td></tr>
</table>
<p><em>¹SQLite performance plateaus due to file-based locking</em></p>
<h1><a class="anchor" id="autotoc_md667"></a>
Connection Pool Performance</h1>
<h2><a class="anchor" id="autotoc_md668"></a>
Pool Initialization Time</h2>
<p>Time to create and initialize connection pools with different configurations.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Pool Size   </th><th class="markdownTableHeadNone">PostgreSQL   </th><th class="markdownTableHeadNone">MySQL   </th><th class="markdownTableHeadNone">SQLite   </th><th class="markdownTableHeadNone">MongoDB   </th><th class="markdownTableHeadNone">Redis    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>2-10 connections</b>   </td><td class="markdownTableBodyNone">125ms   </td><td class="markdownTableBodyNone">142ms   </td><td class="markdownTableBodyNone">58ms   </td><td class="markdownTableBodyNone">298ms   </td><td class="markdownTableBodyNone">42ms    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>5-20 connections</b>   </td><td class="markdownTableBodyNone">278ms   </td><td class="markdownTableBodyNone">315ms   </td><td class="markdownTableBodyNone">115ms   </td><td class="markdownTableBodyNone">687ms   </td><td class="markdownTableBodyNone">95ms    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>10-50 connections</b>   </td><td class="markdownTableBodyNone">542ms   </td><td class="markdownTableBodyNone">625ms   </td><td class="markdownTableBodyNone">225ms   </td><td class="markdownTableBodyNone">1,350ms   </td><td class="markdownTableBodyNone">185ms   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md669"></a>
Connection Acquisition Time</h2>
<p>Average time to acquire a connection from the pool under various load conditions.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Scenario   </th><th class="markdownTableHeadNone">Pool Utilization   </th><th class="markdownTableHeadNone">Acquisition Time   </th><th class="markdownTableHeadNone">Success Rate    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Light Load</b>   </td><td class="markdownTableBodyNone">20%   </td><td class="markdownTableBodyNone">0.08ms   </td><td class="markdownTableBodyNone">99.98%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Medium Load</b>   </td><td class="markdownTableBodyNone">60%   </td><td class="markdownTableBodyNone">0.12ms   </td><td class="markdownTableBodyNone">99.85%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Heavy Load</b>   </td><td class="markdownTableBodyNone">85%   </td><td class="markdownTableBodyNone">0.35ms   </td><td class="markdownTableBodyNone">99.12%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Peak Load</b>   </td><td class="markdownTableBodyNone">95%   </td><td class="markdownTableBodyNone">1.25ms   </td><td class="markdownTableBodyNone">97.80%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Overload</b>   </td><td class="markdownTableBodyNone">100%+   </td><td class="markdownTableBodyNone">2,850ms²   </td><td class="markdownTableBodyNone">89.45%   </td></tr>
</table>
<p><em>²Timeout scenario (5-second timeout configured)</em></p>
<h2><a class="anchor" id="autotoc_md670"></a>
Pool Efficiency Metrics</h2>
<p>Analysis of connection reuse and pool management efficiency.</p>
<div class="fragment"><div class="line">Connection Pool Statistics (24-hour production simulation):</div>
<div class="line">├── Total Connections Created: 45</div>
<div class="line">├── Peak Concurrent Connections: 28</div>
<div class="line">├── Connection Reuse Ratio: 97.8%</div>
<div class="line">├── Average Connection Lifetime: 4.2 hours</div>
<div class="line">├── Health Check Failures: 0.12%</div>
<div class="line">├── Pool Maintenance Overhead: 0.03% CPU</div>
<div class="line">└── Memory Overhead: 2.1MB per pool</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md671"></a>
Concurrent Access Performance</h2>
<p>Performance with multiple threads accessing the same connection pool.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Concurrent Threads   </th><th class="markdownTableHeadNone">Avg Latency   </th><th class="markdownTableHeadNone">95th Percentile   </th><th class="markdownTableHeadNone">99th Percentile   </th><th class="markdownTableHeadNone">Throughput    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>1 thread</b>   </td><td class="markdownTableBodyNone">1.2ms   </td><td class="markdownTableBodyNone">1.8ms   </td><td class="markdownTableBodyNone">2.5ms   </td><td class="markdownTableBodyNone">825 ops/sec    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>5 threads</b>   </td><td class="markdownTableBodyNone">1.4ms   </td><td class="markdownTableBodyNone">2.2ms   </td><td class="markdownTableBodyNone">3.1ms   </td><td class="markdownTableBodyNone">3,500 ops/sec    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>10 threads</b>   </td><td class="markdownTableBodyNone">1.8ms   </td><td class="markdownTableBodyNone">2.9ms   </td><td class="markdownTableBodyNone">4.2ms   </td><td class="markdownTableBodyNone">5,600 ops/sec    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>20 threads</b>   </td><td class="markdownTableBodyNone">2.5ms   </td><td class="markdownTableBodyNone">4.1ms   </td><td class="markdownTableBodyNone">6.8ms   </td><td class="markdownTableBodyNone">8,000 ops/sec    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>50 threads</b>   </td><td class="markdownTableBodyNone">4.2ms   </td><td class="markdownTableBodyNone">7.8ms   </td><td class="markdownTableBodyNone">12.5ms   </td><td class="markdownTableBodyNone">11,900 ops/sec    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>100 threads</b>   </td><td class="markdownTableBodyNone">8.5ms   </td><td class="markdownTableBodyNone">15.2ms   </td><td class="markdownTableBodyNone">25.8ms   </td><td class="markdownTableBodyNone">11,800 ops/sec   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md672"></a>
Query Builder Performance</h1>
<h2><a class="anchor" id="autotoc_md673"></a>
Query Generation Overhead</h2>
<p>Time overhead for building queries compared to raw SQL strings.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Query Complexity   </th><th class="markdownTableHeadNone">Raw SQL   </th><th class="markdownTableHeadNone">SQL Builder   </th><th class="markdownTableHeadNone">MongoDB Builder   </th><th class="markdownTableHeadNone">Redis Builder   </th><th class="markdownTableHeadNone">Overhead    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Simple SELECT</b>   </td><td class="markdownTableBodyNone">0.001ms   </td><td class="markdownTableBodyNone">0.015ms   </td><td class="markdownTableBodyNone">0.018ms   </td><td class="markdownTableBodyNone">0.008ms   </td><td class="markdownTableBodyNone">1.4%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Complex JOIN</b>   </td><td class="markdownTableBodyNone">0.002ms   </td><td class="markdownTableBodyNone">0.045ms   </td><td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone">N/A   </td><td class="markdownTableBodyNone">2.1%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Aggregation</b>   </td><td class="markdownTableBodyNone">0.003ms   </td><td class="markdownTableBodyNone">0.038ms   </td><td class="markdownTableBodyNone">0.052ms   </td><td class="markdownTableBodyNone">0.012ms   </td><td class="markdownTableBodyNone">1.8%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Bulk INSERT</b>   </td><td class="markdownTableBodyNone">0.008ms   </td><td class="markdownTableBodyNone">0.125ms   </td><td class="markdownTableBodyNone">0.145ms   </td><td class="markdownTableBodyNone">0.035ms   </td><td class="markdownTableBodyNone">1.2%   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md674"></a>
Memory Usage During Query Building</h2>
<p>Peak memory consumption during query construction.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Query Type   </th><th class="markdownTableHeadNone">Base Memory   </th><th class="markdownTableHeadNone">SQL Builder   </th><th class="markdownTableHeadNone">MongoDB Builder   </th><th class="markdownTableHeadNone">Redis Builder    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Simple Query</b>   </td><td class="markdownTableBodyNone">128 bytes   </td><td class="markdownTableBodyNone">256 bytes   </td><td class="markdownTableBodyNone">384 bytes   </td><td class="markdownTableBodyNone">192 bytes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Complex Query</b>   </td><td class="markdownTableBodyNone">512 bytes   </td><td class="markdownTableBodyNone">1.2KB   </td><td class="markdownTableBodyNone">1.8KB   </td><td class="markdownTableBodyNone">512 bytes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Bulk Operation</b>   </td><td class="markdownTableBodyNone">2.5KB   </td><td class="markdownTableBodyNone">8.5KB   </td><td class="markdownTableBodyNone">12.5KB   </td><td class="markdownTableBodyNone">4.2KB   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md675"></a>
Query Execution Time Comparison</h2>
<p>End-to-end execution time including query building and database execution.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Test Case   </th><th class="markdownTableHeadNone">Direct SQL   </th><th class="markdownTableHeadNone">Query Builder   </th><th class="markdownTableHeadNone">Performance Impact    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b><a class="el" href="../../d9/dc0/classUser.html">User</a> List (Simple)</b>   </td><td class="markdownTableBodyNone">2.1ms   </td><td class="markdownTableBodyNone">2.2ms   </td><td class="markdownTableBodyNone">+4.8%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Order Report (Complex)</b>   </td><td class="markdownTableBodyNone">85ms   </td><td class="markdownTableBodyNone">87ms   </td><td class="markdownTableBodyNone">+2.4%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Bulk Data Import</b>   </td><td class="markdownTableBodyNone">450ms   </td><td class="markdownTableBodyNone">465ms   </td><td class="markdownTableBodyNone">+3.3%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Real-time Dashboard</b>   </td><td class="markdownTableBodyNone">125ms   </td><td class="markdownTableBodyNone">129ms   </td><td class="markdownTableBodyNone">+3.2%   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md676"></a>
Memory Usage Analysis</h1>
<h2><a class="anchor" id="autotoc_md677"></a>
Base Memory Footprint</h2>
<p>Memory usage for core components without active operations.</p>
<div class="fragment"><div class="line">Core Components Memory Usage:</div>
<div class="line">├── database_manager (singleton): 2.1KB</div>
<div class="line">├── Empty connection_pool: 4.8KB</div>
<div class="line">├── sql_query_builder: 1.2KB</div>
<div class="line">├── mongodb_query_builder: 1.8KB</div>
<div class="line">├── redis_query_builder: 0.8KB</div>
<div class="line">└── Total Base Footprint: 10.7KB</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md678"></a>
Runtime Memory Scaling</h2>
<p>Memory usage scaling with active connections and operations.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Scenario   </th><th class="markdownTableHeadNone">Base   </th><th class="markdownTableHeadNone">+10 Connections   </th><th class="markdownTableHeadNone">+100 Operations   </th><th class="markdownTableHeadNone">+1000 Results    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>PostgreSQL</b>   </td><td class="markdownTableBodyNone">45KB   </td><td class="markdownTableBodyNone">2.8MB   </td><td class="markdownTableBodyNone">3.1MB   </td><td class="markdownTableBodyNone">8.5MB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>MySQL</b>   </td><td class="markdownTableBodyNone">38KB   </td><td class="markdownTableBodyNone">2.5MB   </td><td class="markdownTableBodyNone">2.8MB   </td><td class="markdownTableBodyNone">7.8MB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>SQLite</b>   </td><td class="markdownTableBodyNone">25KB   </td><td class="markdownTableBodyNone">1.2MB   </td><td class="markdownTableBodyNone">1.4MB   </td><td class="markdownTableBodyNone">5.2MB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>MongoDB</b>   </td><td class="markdownTableBodyNone">52KB   </td><td class="markdownTableBodyNone">3.5MB   </td><td class="markdownTableBodyNone">3.9MB   </td><td class="markdownTableBodyNone">12.5MB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Redis</b>   </td><td class="markdownTableBodyNone">18KB   </td><td class="markdownTableBodyNone">0.8MB   </td><td class="markdownTableBodyNone">0.9MB   </td><td class="markdownTableBodyNone">2.1MB   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md679"></a>
Memory Leak Testing</h2>
<p>24-hour continuous operation test with periodic monitoring.</p>
<div class="fragment"><div class="line">Memory Leak Analysis (24-hour test):</div>
<div class="line">├── Starting Memory: 45.2MB</div>
<div class="line">├── Peak Memory: 127.8MB</div>
<div class="line">├── Final Memory: 46.1MB</div>
<div class="line">├── Total Operations: 8,450,000</div>
<div class="line">├── Memory Growth Rate: +0.9MB/24h</div>
<div class="line">└── Leak Detection: No significant leaks detected</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md680"></a>
Scalability Tests</h1>
<h2><a class="anchor" id="autotoc_md681"></a>
Horizontal Scaling (Multiple Processes)</h2>
<p>Performance with multiple application instances sharing database resources.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Processes   </th><th class="markdownTableHeadNone">Per-Process Throughput   </th><th class="markdownTableHeadNone">Total Throughput   </th><th class="markdownTableHeadNone">Efficiency    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>1</b>   </td><td class="markdownTableBodyNone">1,250 ops/sec   </td><td class="markdownTableBodyNone">1,250 ops/sec   </td><td class="markdownTableBodyNone">100%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>2</b>   </td><td class="markdownTableBodyNone">1,180 ops/sec   </td><td class="markdownTableBodyNone">2,360 ops/sec   </td><td class="markdownTableBodyNone">94.4%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>4</b>   </td><td class="markdownTableBodyNone">1,020 ops/sec   </td><td class="markdownTableBodyNone">4,080 ops/sec   </td><td class="markdownTableBodyNone">81.6%    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>8</b>   </td><td class="markdownTableBodyNone">780 ops/sec   </td><td class="markdownTableBodyNone">6,240 ops/sec   </td><td class="markdownTableBodyNone">62.4%    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>16</b>   </td><td class="markdownTableBodyNone">420 ops/sec   </td><td class="markdownTableBodyNone">6,720 ops/sec   </td><td class="markdownTableBodyNone">42.0%   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md682"></a>
Vertical Scaling (Connection Pool Size)</h2>
<p>Impact of connection pool size on performance.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Pool Size   </th><th class="markdownTableHeadNone">Latency (P50)   </th><th class="markdownTableHeadNone">Latency (P95)   </th><th class="markdownTableHeadNone">Throughput   </th><th class="markdownTableHeadNone">Memory Usage    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>2-5</b>   </td><td class="markdownTableBodyNone">2.1ms   </td><td class="markdownTableBodyNone">4.8ms   </td><td class="markdownTableBodyNone">3,200 ops/sec   </td><td class="markdownTableBodyNone">12.5MB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>5-10</b>   </td><td class="markdownTableBodyNone">1.8ms   </td><td class="markdownTableBodyNone">3.9ms   </td><td class="markdownTableBodyNone">5,800 ops/sec   </td><td class="markdownTableBodyNone">18.2MB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>10-20</b>   </td><td class="markdownTableBodyNone">1.5ms   </td><td class="markdownTableBodyNone">3.2ms   </td><td class="markdownTableBodyNone">8,500 ops/sec   </td><td class="markdownTableBodyNone">28.5MB    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>20-50</b>   </td><td class="markdownTableBodyNone">1.4ms   </td><td class="markdownTableBodyNone">3.0ms   </td><td class="markdownTableBodyNone">11,200 ops/sec   </td><td class="markdownTableBodyNone">52.8MB    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>50-100</b>   </td><td class="markdownTableBodyNone">1.4ms   </td><td class="markdownTableBodyNone">3.1ms   </td><td class="markdownTableBodyNone">11,800 ops/sec   </td><td class="markdownTableBodyNone">98.5MB   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md683"></a>
Load Testing Results</h2>
<p>Sustained load testing over extended periods.</p>
<div class="fragment"><div class="line">Load Test: 1-hour sustained load</div>
<div class="line">├── Target: 5,000 ops/sec</div>
<div class="line">├── Actual Average: 4,987 ops/sec</div>
<div class="line">├── Peak Throughput: 6,240 ops/sec</div>
<div class="line">├── 95th Percentile Latency: 3.2ms</div>
<div class="line">├── 99th Percentile Latency: 8.5ms</div>
<div class="line">├── Error Rate: 0.023%</div>
<div class="line">├── Connection Pool Efficiency: 97.8%</div>
<div class="line">└── CPU Utilization: 45% (average)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md684"></a>
Best Practices for Performance</h1>
<h2><a class="anchor" id="autotoc_md685"></a>
Connection Pool Configuration</h2>
<div class="fragment"><div class="line"><span class="comment">// Optimized connection pool configuration</span></div>
<div class="line"><a class="code hl_struct" href="../../d2/da7/structdatabase_1_1connection__pool__config.html">database::connection_pool_config</a> config;</div>
<div class="line">config.<a class="code hl_variable" href="../../d2/da7/structdatabase_1_1connection__pool__config.html#aeb1baf3ab5f5b373dad2e927e4f34dc0">min_connections</a> = std::thread::hardware_concurrency();</div>
<div class="line">config.<a class="code hl_variable" href="../../d2/da7/structdatabase_1_1connection__pool__config.html#abb5bfbc73faae70cb258f79b5fdf59a8">max_connections</a> = std::thread::hardware_concurrency() * 4;</div>
<div class="line">config.<a class="code hl_variable" href="../../d2/da7/structdatabase_1_1connection__pool__config.html#a358cd6030f38dbd9af5a58655050502a">acquire_timeout</a> = std::chrono::milliseconds(1000);</div>
<div class="line">config.<a class="code hl_variable" href="../../d2/da7/structdatabase_1_1connection__pool__config.html#a39651ea498eb322bbf84603c378c5030">idle_timeout</a> = std::chrono::minutes(5);</div>
<div class="line">config.<a class="code hl_variable" href="../../d2/da7/structdatabase_1_1connection__pool__config.html#ae7173f611ec7de1f00165c3b90139ecb">health_check_interval</a> = std::chrono::minutes(1);</div>
<div class="line">config.<a class="code hl_variable" href="../../d2/da7/structdatabase_1_1connection__pool__config.html#a6cda1efee09ba4fe28271aae987362ef">enable_health_checks</a> = <span class="keyword">true</span>;</div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html">database::connection_pool_config</a></div><div class="ttdoc">Configuration parameters for connection pools.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00052">connection_pool.h:53</a></div></div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html_a358cd6030f38dbd9af5a58655050502a"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html#a358cd6030f38dbd9af5a58655050502a">database::connection_pool_config::acquire_timeout</a></div><div class="ttdeci">std::chrono::milliseconds acquire_timeout</div><div class="ttdoc">Timeout for acquiring connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00056">connection_pool.h:56</a></div></div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html_a39651ea498eb322bbf84603c378c5030"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html#a39651ea498eb322bbf84603c378c5030">database::connection_pool_config::idle_timeout</a></div><div class="ttdeci">std::chrono::milliseconds idle_timeout</div><div class="ttdoc">Timeout for idle connections.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00057">connection_pool.h:57</a></div></div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html_a6cda1efee09ba4fe28271aae987362ef"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html#a6cda1efee09ba4fe28271aae987362ef">database::connection_pool_config::enable_health_checks</a></div><div class="ttdeci">bool enable_health_checks</div><div class="ttdoc">Enable periodic health checks.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00059">connection_pool.h:59</a></div></div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html_abb5bfbc73faae70cb258f79b5fdf59a8"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html#abb5bfbc73faae70cb258f79b5fdf59a8">database::connection_pool_config::max_connections</a></div><div class="ttdeci">size_t max_connections</div><div class="ttdoc">Maximum number of connections allowed.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00055">connection_pool.h:55</a></div></div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html_ae7173f611ec7de1f00165c3b90139ecb"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html#ae7173f611ec7de1f00165c3b90139ecb">database::connection_pool_config::health_check_interval</a></div><div class="ttdeci">std::chrono::milliseconds health_check_interval</div><div class="ttdoc">Health check interval.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00058">connection_pool.h:58</a></div></div>
<div class="ttc" id="astructdatabase_1_1connection__pool__config_html_aeb1baf3ab5f5b373dad2e927e4f34dc0"><div class="ttname"><a href="../../d2/da7/structdatabase_1_1connection__pool__config.html#aeb1baf3ab5f5b373dad2e927e4f34dc0">database::connection_pool_config::min_connections</a></div><div class="ttdeci">size_t min_connections</div><div class="ttdoc">Minimum number of connections to maintain.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dbc/connection__pool_8h_source.html#l00054">connection_pool.h:54</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md686"></a>
Query Optimization</h2>
<div class="fragment"><div class="line"><span class="comment">// Efficient query patterns</span></div>
<div class="line"><span class="keywordtype">void</span> optimized_queries() {</div>
<div class="line">    <a class="code hl_class" href="../../df/d8d/classdatabase_1_1database__manager.html">database::database_manager</a>&amp; db = <a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a6839d641b5095523a175d17f5700e8dd">database::database_manager::handle</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 1. Use prepared statements for repeated queries</span></div>
<div class="line">    <span class="keyword">auto</span> prepared_select = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a59dd2c4bf46910b80cf1cbf351769b49">create_query_builder</a>(<a class="code hl_enumvalue" href="../../da/df2/namespacedatabase.html#a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5">database::database_types::postgres</a>)</div>
<div class="line">        .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a0527a3ee82907d27e91181eac1c4054b">select</a>({<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;email&quot;</span>})</div>
<div class="line">        .from(<span class="stringliteral">&quot;users&quot;</span>)</div>
<div class="line">        .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a979d561ae906eacd7727930ca6676cf9">where</a>(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;=&quot;</span>, <a class="code hl_typedef" href="../../da/df2/namespacedatabase.html#a207a0dd48101812e44efc3772079828f">database::database_value</a>{std::string(<span class="stringliteral">&quot;active&quot;</span>)});</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Reuse the same builder for similar queries</span></div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; status : {<span class="stringliteral">&quot;active&quot;</span>, <span class="stringliteral">&quot;pending&quot;</span>, <span class="stringliteral">&quot;inactive&quot;</span>}) {</div>
<div class="line">        prepared_select.<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a6f7f9e40e79d09ffd423ac6975e6e6cd">reset</a>();</div>
<div class="line">        prepared_select.select({<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;email&quot;</span>})</div>
<div class="line">                      .from(<span class="stringliteral">&quot;users&quot;</span>)</div>
<div class="line">                      .where(<span class="stringliteral">&quot;status&quot;</span>, <span class="stringliteral">&quot;=&quot;</span>, <a class="code hl_typedef" href="../../da/df2/namespacedatabase.html#a207a0dd48101812e44efc3772079828f">database::database_value</a>{std::string(status)});</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> result = prepared_select.execute(&amp;db);</div>
<div class="line">        <span class="comment">// Process result...</span></div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 2. Use batch operations for bulk data</span></div>
<div class="line">    std::vector&lt;std::map&lt;std::string, database::database_value&gt;&gt; bulk_data;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 1000; ++i) {</div>
<div class="line">        bulk_data.push_back({</div>
<div class="line">            {<span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_typedef" href="../../da/df2/namespacedatabase.html#a207a0dd48101812e44efc3772079828f">database::database_value</a>{std::string(<span class="stringliteral">&quot;User &quot;</span> + std::to_string(i))}},</div>
<div class="line">            {<span class="stringliteral">&quot;email&quot;</span>, <a class="code hl_typedef" href="../../da/df2/namespacedatabase.html#a207a0dd48101812e44efc3772079828f">database::database_value</a>{std::string(<span class="stringliteral">&quot;user&quot;</span> + std::to_string(i) + <span class="stringliteral">&quot;@example.com&quot;</span>)}}</div>
<div class="line">        });</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> bulk_insert = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a59dd2c4bf46910b80cf1cbf351769b49">create_query_builder</a>(<a class="code hl_enumvalue" href="../../da/df2/namespacedatabase.html#a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5">database::database_types::postgres</a>)</div>
<div class="line">        .insert_into(<span class="stringliteral">&quot;users&quot;</span>)</div>
<div class="line">        .values(bulk_data);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 3. Use appropriate limits for large result sets</span></div>
<div class="line">    <span class="keyword">auto</span> paginated_query = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a59dd2c4bf46910b80cf1cbf351769b49">create_query_builder</a>(<a class="code hl_enumvalue" href="../../da/df2/namespacedatabase.html#a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5">database::database_types::postgres</a>)</div>
<div class="line">        .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a0527a3ee82907d27e91181eac1c4054b">select</a>({<span class="stringliteral">&quot;*&quot;</span>})</div>
<div class="line">        .from(<span class="stringliteral">&quot;large_table&quot;</span>)</div>
<div class="line">        .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a8f0118d9c348e80998cce040c86efd33">order_by</a>(<span class="stringliteral">&quot;created_at&quot;</span>, <a class="code hl_enumvalue" href="../../da/df2/namespacedatabase.html#abd03ff7ff96381e479fb0a5add52a92da1dee80c7d5ab2c1c90aa8d2f7dd47256">database::sort_order::desc</a>)</div>
<div class="line">        .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a382f8fd7028421facc01ae82c38536f9">limit</a>(100)</div>
<div class="line">        .offset(0);</div>
<div class="line">}</div>
<div class="ttc" id="aclassdatabase_1_1database__manager_html"><div class="ttname"><a href="../../df/d8d/classdatabase_1_1database__manager.html">database::database_manager</a></div><div class="ttdoc">Manages database connections and operations in a singleton pattern.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/da9/database__manager_8h_source.html#l00056">database_manager.h:57</a></div></div>
<div class="ttc" id="aclassdatabase_1_1database__manager_html_a59dd2c4bf46910b80cf1cbf351769b49"><div class="ttname"><a href="../../df/d8d/classdatabase_1_1database__manager.html#a59dd2c4bf46910b80cf1cbf351769b49">database::database_manager::create_query_builder</a></div><div class="ttdeci">query_builder create_query_builder()</div><div class="ttdoc">Creates a query builder for the current database type.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/de0/database__manager_8cpp_source.html#l00182">database_manager.cpp:182</a></div></div>
<div class="ttc" id="aclassdatabase_1_1database__manager_html_a6839d641b5095523a175d17f5700e8dd"><div class="ttname"><a href="../../df/d8d/classdatabase_1_1database__manager.html#a6839d641b5095523a175d17f5700e8dd">database::database_manager::handle</a></div><div class="ttdeci">static database_manager &amp; handle(void)</div><div class="ttdoc">Provides access to the single database_manager instance.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/de0/database__manager_8cpp_source.html#l00196">database_manager.cpp:196</a></div></div>
<div class="ttc" id="aclassdatabase_1_1query__builder_html_a0527a3ee82907d27e91181eac1c4054b"><div class="ttname"><a href="../../d6/d4b/classdatabase_1_1query__builder.html#a0527a3ee82907d27e91181eac1c4054b">database::query_builder::select</a></div><div class="ttdeci">query_builder &amp; select(const std::vector&lt; std::string &gt; &amp;columns)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/query__builder_8cpp_source.html#l01007">query_builder.cpp:1007</a></div></div>
<div class="ttc" id="aclassdatabase_1_1query__builder_html_a382f8fd7028421facc01ae82c38536f9"><div class="ttname"><a href="../../d6/d4b/classdatabase_1_1query__builder.html#a382f8fd7028421facc01ae82c38536f9">database::query_builder::limit</a></div><div class="ttdeci">query_builder &amp; limit(size_t count)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/query__builder_8cpp_source.html#l01052">query_builder.cpp:1052</a></div></div>
<div class="ttc" id="aclassdatabase_1_1query__builder_html_a6f7f9e40e79d09ffd423ac6975e6e6cd"><div class="ttname"><a href="../../d6/d4b/classdatabase_1_1query__builder.html#a6f7f9e40e79d09ffd423ac6975e6e6cd">database::query_builder::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/query__builder_8cpp_source.html#l01140">query_builder.cpp:1140</a></div></div>
<div class="ttc" id="aclassdatabase_1_1query__builder_html_a8f0118d9c348e80998cce040c86efd33"><div class="ttname"><a href="../../d6/d4b/classdatabase_1_1query__builder.html#a8f0118d9c348e80998cce040c86efd33">database::query_builder::order_by</a></div><div class="ttdeci">query_builder &amp; order_by(const std::string &amp;column, sort_order order=sort_order::asc)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/query__builder_8cpp_source.html#l01043">query_builder.cpp:1043</a></div></div>
<div class="ttc" id="aclassdatabase_1_1query__builder_html_a979d561ae906eacd7727930ca6676cf9"><div class="ttname"><a href="../../d6/d4b/classdatabase_1_1query__builder.html#a979d561ae906eacd7727930ca6676cf9">database::query_builder::where</a></div><div class="ttdeci">query_builder &amp; where(const std::string &amp;field, const std::string &amp;op, const database_value &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/query__builder_8cpp_source.html#l01025">query_builder.cpp:1025</a></div></div>
<div class="ttc" id="anamespacedatabase_html_a207a0dd48101812e44efc3772079828f"><div class="ttname"><a href="../../da/df2/namespacedatabase.html#a207a0dd48101812e44efc3772079828f">database::database_value</a></div><div class="ttdeci">std::variant&lt; std::string, int64_t, double, bool, std::nullptr_t &gt; database_value</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d46/database__base_8h_source.html#l00047">database_base.h:47</a></div></div>
<div class="ttc" id="anamespacedatabase_html_a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5"><div class="ttname"><a href="../../da/df2/namespacedatabase.html#a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5">database::database_types::postgres</a></div><div class="ttdeci">@ postgres</div><div class="ttdoc">Indicates a PostgreSQL database.</div></div>
<div class="ttc" id="anamespacedatabase_html_abd03ff7ff96381e479fb0a5add52a92da1dee80c7d5ab2c1c90aa8d2f7dd47256"><div class="ttname"><a href="../../da/df2/namespacedatabase.html#abd03ff7ff96381e479fb0a5add52a92da1dee80c7d5ab2c1c90aa8d2f7dd47256">database::sort_order::desc</a></div><div class="ttdeci">@ desc</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md687"></a>
Memory Management</h2>
<div class="fragment"><div class="line"><span class="comment">// Memory-efficient patterns</span></div>
<div class="line"><span class="keywordtype">void</span> memory_efficient_usage() {</div>
<div class="line">    <a class="code hl_class" href="../../df/d8d/classdatabase_1_1database__manager.html">database::database_manager</a>&amp; db = <a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a6839d641b5095523a175d17f5700e8dd">database::database_manager::handle</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 1. Process large result sets in chunks</span></div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">size_t</span> chunk_size = 1000;</div>
<div class="line">    <span class="keywordtype">size_t</span> offset = 0;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line">        <span class="keyword">auto</span> chunk_query = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a59dd2c4bf46910b80cf1cbf351769b49">create_query_builder</a>(<a class="code hl_enumvalue" href="../../da/df2/namespacedatabase.html#a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5">database::database_types::postgres</a>)</div>
<div class="line">            .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a0527a3ee82907d27e91181eac1c4054b">select</a>({<span class="stringliteral">&quot;id&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>})</div>
<div class="line">            .from(<span class="stringliteral">&quot;large_table&quot;</span>)</div>
<div class="line">            .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a8f0118d9c348e80998cce040c86efd33">order_by</a>(<span class="stringliteral">&quot;id&quot;</span>)</div>
<div class="line">            .<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a382f8fd7028421facc01ae82c38536f9">limit</a>(chunk_size)</div>
<div class="line">            .offset(offset);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> result = chunk_query.<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#af41d9fea3a6cba4b301e60770908c3ca">execute</a>(&amp;db);</div>
<div class="line">        <span class="keywordflow">if</span> (result.empty()) <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Process chunk</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; row : result) {</div>
<div class="line">            <span class="comment">// Process individual row</span></div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        offset += chunk_size;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 2. Reuse query builders</span></div>
<div class="line">    <span class="keyword">auto</span> reusable_builder = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a59dd2c4bf46910b80cf1cbf351769b49">create_query_builder</a>(<a class="code hl_enumvalue" href="../../da/df2/namespacedatabase.html#a9b50450d1f477d5f2fea4e15975023e4ae8a48653851e28c69d0506508fb27fc5">database::database_types::postgres</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; table : {<span class="stringliteral">&quot;users&quot;</span>, <span class="stringliteral">&quot;orders&quot;</span>, <span class="stringliteral">&quot;products&quot;</span>}) {</div>
<div class="line">        reusable_builder.<a class="code hl_function" href="../../d6/d4b/classdatabase_1_1query__builder.html#a6f7f9e40e79d09ffd423ac6975e6e6cd">reset</a>();</div>
<div class="line">        reusable_builder.select({<span class="stringliteral">&quot;count(*)&quot;</span>})</div>
<div class="line">                       .from(table);</div>
<div class="line"> </div>
<div class="line">        <span class="keyword">auto</span> count_result = reusable_builder.execute(&amp;db);</div>
<div class="line">        <span class="comment">// Process count...</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassdatabase_1_1query__builder_html_af41d9fea3a6cba4b301e60770908c3ca"><div class="ttname"><a href="../../d6/d4b/classdatabase_1_1query__builder.html#af41d9fea3a6cba4b301e60770908c3ca">database::query_builder::execute</a></div><div class="ttdeci">database_result execute(database_base *db) const</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d1d/query__builder_8cpp_source.html#l01126">query_builder.cpp:1126</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md688"></a>
Monitoring and Profiling</h2>
<div class="fragment"><div class="line"><span class="comment">// Performance monitoring</span></div>
<div class="line"><span class="keywordtype">void</span> monitor_performance() {</div>
<div class="line">    <a class="code hl_class" href="../../df/d8d/classdatabase_1_1database__manager.html">database::database_manager</a>&amp; db = <a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a6839d641b5095523a175d17f5700e8dd">database::database_manager::handle</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 1. Monitor pool statistics</span></div>
<div class="line">    <span class="keyword">auto</span> stats = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#a15230f15fccbcb644df09908312a3e37">get_pool_stats</a>();</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [db_type, stat] : stats) {</div>
<div class="line">        <span class="keywordtype">double</span> success_rate = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(stat.successful_acquisitions) /</div>
<div class="line">                             (stat.successful_acquisitions + stat.failed_acquisitions);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (success_rate &lt; 0.95) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Warning: Low success rate for pool, consider tuning&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (stat.active_connections &gt; stat.available_connections * 2) {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;Warning: High contention, consider increasing pool size&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// 2. Measure query execution time</span></div>
<div class="line">    <span class="keyword">auto</span> start = std::chrono::high_resolution_clock::now();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> result = db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#ad8cf1ab3dde3002aaa4f684aa8cb71cc">select_query</a>(<span class="stringliteral">&quot;SELECT * FROM complex_view WHERE condition = &#39;value&#39;&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> end = std::chrono::high_resolution_clock::now();</div>
<div class="line">    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(end - start);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (duration.count() &gt; 100) {  <span class="comment">// 100ms threshold</span></div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Slow query detected: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassdatabase_1_1database__manager_html_a15230f15fccbcb644df09908312a3e37"><div class="ttname"><a href="../../df/d8d/classdatabase_1_1database__manager.html#a15230f15fccbcb644df09908312a3e37">database::database_manager::get_pool_stats</a></div><div class="ttdeci">std::map&lt; database_types, connection_stats &gt; get_pool_stats() const</div><div class="ttdoc">Gets connection pool statistics for all active pools.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/de0/database__manager_8cpp_source.html#l00177">database_manager.cpp:177</a></div></div>
<div class="ttc" id="aclassdatabase_1_1database__manager_html_ad8cf1ab3dde3002aaa4f684aa8cb71cc"><div class="ttname"><a href="../../df/d8d/classdatabase_1_1database__manager.html#ad8cf1ab3dde3002aaa4f684aa8cb71cc">database::database_manager::select_query</a></div><div class="ttdeci">database_result select_query(const std::string &amp;query_string)</div><div class="ttdoc">Executes an SQL SELECT statement and returns the results.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/de0/database__manager_8cpp_source.html#l00147">database_manager.cpp:147</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md689"></a>
Performance Tuning Recommendations</h1>
<h2><a class="anchor" id="autotoc_md690"></a>
Database-Specific Optimizations</h2>
<h3><a class="anchor" id="autotoc_md691"></a>
PostgreSQL</h3>
<div class="fragment"><div class="line"><span class="comment">-- Recommended PostgreSQL settings for optimal performance</span></div>
<div class="line">shared_buffers = 256MB</div>
<div class="line">effective_cache_size = 1GB</div>
<div class="line">maintenance_work_mem = 64MB</div>
<div class="line">checkpoint_completion_target = <span class="stringliteral">0</span>.<span class="stringliteral">9</span></div>
<div class="line">wal_buffers = 16MB</div>
<div class="line">default_statistics_target = <span class="stringliteral">100</span></div>
<div class="line">random_page_cost = <span class="stringliteral">1</span>.<span class="stringliteral">1</span></div>
<div class="line">effective_io_concurrency = <span class="stringliteral">200</span></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md692"></a>
MySQL</h3>
<div class="fragment"><div class="line"><span class="comment">-- Recommended MySQL settings</span></div>
<div class="line">innodb_buffer_pool_size = 1G</div>
<div class="line">innodb_log_file_size = 128M</div>
<div class="line">innodb_flush_log_at_trx_commit = <span class="stringliteral">2</span></div>
<div class="line">innodb_flush_method = O_DIRECT</div>
<div class="line">query_cache_size = 128M</div>
<div class="line">tmp_table_size = 64M</div>
<div class="line">max_heap_table_size = 64M</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md693"></a>
SQLite</h3>
<div class="fragment"><div class="line"><span class="comment">// SQLite optimization pragmas</span></div>
<div class="line">db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#ab8f2837681da67461136e760516aec22">create_query</a>(<span class="stringliteral">&quot;PRAGMA journal_mode = WAL&quot;</span>);</div>
<div class="line">db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#ab8f2837681da67461136e760516aec22">create_query</a>(<span class="stringliteral">&quot;PRAGMA synchronous = NORMAL&quot;</span>);</div>
<div class="line">db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#ab8f2837681da67461136e760516aec22">create_query</a>(<span class="stringliteral">&quot;PRAGMA cache_size = 10000&quot;</span>);</div>
<div class="line">db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#ab8f2837681da67461136e760516aec22">create_query</a>(<span class="stringliteral">&quot;PRAGMA temp_store = MEMORY&quot;</span>);</div>
<div class="line">db.<a class="code hl_function" href="../../df/d8d/classdatabase_1_1database__manager.html#ab8f2837681da67461136e760516aec22">create_query</a>(<span class="stringliteral">&quot;PRAGMA mmap_size = 268435456&quot;</span>);  <span class="comment">// 256MB</span></div>
<div class="ttc" id="aclassdatabase_1_1database__manager_html_ab8f2837681da67461136e760516aec22"><div class="ttname"><a href="../../df/d8d/classdatabase_1_1database__manager.html#ab8f2837681da67461136e760516aec22">database::database_manager::create_query</a></div><div class="ttdeci">bool create_query(const std::string &amp;query_string)</div><div class="ttdoc">Creates or prepares a query using the provided SQL statement.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/de0/database__manager_8cpp_source.html#l00107">database_manager.cpp:107</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md694"></a>
Application-Level Optimizations</h2>
<ol type="1">
<li><b>Use Connection Pooling</b>: Always use connection pools for production deployments</li>
<li><b>Batch Operations</b>: Group multiple operations into single transactions</li>
<li><b>Appropriate Indexing</b>: Create indexes for frequently queried columns</li>
<li><b>Result Set Limiting</b>: Use LIMIT clauses to avoid large result sets</li>
<li><b>Prepared Statements</b>: Reuse query builders for similar operations</li>
<li><b>Monitoring</b>: Implement comprehensive performance monitoring</li>
</ol>
<hr  />
<p>These benchmarks provide a comprehensive view of the Database System's performance characteristics. For specific optimization needs, refer to the individual database documentation and consider your application's unique requirements. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
